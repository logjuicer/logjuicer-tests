time: 2017-06-21 04:40:34.832161Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_diskimage_build_only
time: 2017-06-21 04:40:36.103666Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_diskimage_build_only [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
98F
2017-06-21 04:40:34,838 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:34,867 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:34,873 INFO [nodepool.cmd.config_validator] validating /tmp/tmpauaGap/tmpTi7LCT
2017-06-21 04:40:34,899 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:34,901 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:34,989 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:34,993 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t tar --checksum --no-tmpfs  -o /tmp/tmpauaGap/tmpP8PBv0/fake-image-0000000001 fedora vm
2017-06-21 04:40:35,001 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:35,001 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:35,001 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,001 INFO [nodepool.image.build.fake-image] -x -t tar --checksum --no-tmpfs -o /tmp/tmpauaGap/tmpP8PBv0/fake-image-0000000001 fedora vm
2017-06-21 04:40:35,001 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,004 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:35,004 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:35,004 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:35,007 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:35,007 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:35,007 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:35,007 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpauaGap/tmpP8PBv0/fake-image-0000000001.tar (size: 4096) 
2017-06-21 04:40:35,945 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:35,945 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:36,045 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:36,048 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:36,049 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:36,049 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:36,052 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stderr
35
No handlers could be found for logger "kazoo.client"
0
]
tags: -worker-0
time: 2017-06-21 04:40:34.850051Z
tags: worker-3
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_cleanup_failed_image_build
time: 2017-06-21 04:40:36.297256Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_cleanup_failed_image_build [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1564
2017-06-21 04:40:34,852 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:34,870 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:34,874 INFO [nodepool.cmd.config_validator] validating /tmp/tmpKjt6kQ/tmpEQ9BwP
2017-06-21 04:40:34,901 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:34,906 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:34,929 DEBUG [tests] Replacing config with node.yaml
2017-06-21 04:40:34,952 INFO [nodepool.cmd.config_validator] validating /tmp/tmpKjt6kQ/tmpp947wR
2017-06-21 04:40:34,987 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,006 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,038 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,052 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,056 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,075 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:35,110 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,122 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,130 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpKjt6kQ/tmpmfOGHI/fake-image-0000000001 fedora vm
2017-06-21 04:40:35,140 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:35,140 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:35,140 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,140 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpKjt6kQ/tmpmfOGHI/fake-image-0000000001 fedora vm
2017-06-21 04:40:35,140 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,140 INFO [nodepool.image.build.fake-image] Should fail is set, exiting with status 127
2017-06-21 04:40:35,141 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:35,141 INFO [nodepool.builder.BuildWorker.0] DIB failed creating fake-image (127)
2017-06-21 04:40:35,165 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,174 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,301 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:35,306 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpKjt6kQ/tmpmfOGHI/fake-image-0000000002 fedora vm
2017-06-21 04:40:35,321 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:35,322 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:35,322 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,322 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpKjt6kQ/tmpmfOGHI/fake-image-0000000002 fedora vm
2017-06-21 04:40:35,322 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,324 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:35,325 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:35,326 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:35,326 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:35,330 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:35,331 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:35,331 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:35,331 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpKjt6kQ/tmpmfOGHI/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:40:35,450 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:40:35,450 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000002 from /tmp/tmpKjt6kQ/tmpmfOGHI/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:40:35,455 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:35,455 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:40:35,591 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,083 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:36,084 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:36,233 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:36,236 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:36,237 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:36,237 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:36,239 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stderr
35
No handlers could be found for logger "kazoo.client"
0
]
tags: -worker-3
time: 2017-06-21 04:40:34.826932Z
tags: worker-2
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rebuild_age
time: 2017-06-21 04:40:37.407325Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rebuild_age [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1669
2017-06-21 04:40:34,828 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:34,852 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:34,854 INFO [nodepool.cmd.config_validator] validating /tmp/tmpdY8WWX/tmpTIebZX
2017-06-21 04:40:34,882 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:34,885 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:35,084 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,087 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,108 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,121 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,123 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:35,141 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:35,145 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpdY8WWX/tmpQiOLXx/fake-image-0000000001 fedora vm
2017-06-21 04:40:35,154 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:35,155 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:35,155 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,155 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpdY8WWX/tmpQiOLXx/fake-image-0000000001 fedora vm
2017-06-21 04:40:35,155 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,159 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:35,159 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:35,159 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:35,159 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:35,165 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:35,165 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:35,165 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:35,165 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpdY8WWX/tmpQiOLXx/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:35,384 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:35,384 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpdY8WWX/tmpQiOLXx/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:35,386 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:35,386 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:36,322 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:36,327 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpdY8WWX/tmpQiOLXx/fake-image-0000000002 fedora vm
2017-06-21 04:40:36,359 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:36,360 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:36,360 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:36,360 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpdY8WWX/tmpQiOLXx/fake-image-0000000002 fedora vm
2017-06-21 04:40:36,360 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:36,361 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:36,361 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:36,361 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:36,361 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:36,364 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:36,364 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:36,364 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:36,364 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpdY8WWX/tmpQiOLXx/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:40:36,448 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:40:36,449 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000002 from /tmp/tmpdY8WWX/tmpQiOLXx/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:40:36,450 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:36,452 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:40:37,153 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:37,153 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:37,309 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:37,314 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:37,318 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:37,318 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:37,321 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stderr
35
No handlers could be found for logger "kazoo.client"
0
]
tags: -worker-2
time: 2017-06-21 04:40:34.810903Z
tags: worker-1
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_cleanup_hard_upload_fails
time: 2017-06-21 04:40:37.409940Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_cleanup_hard_upload_fails [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
109E
2017-06-21 04:40:34,814 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:34,835 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:34,843 INFO [nodepool.cmd.config_validator] validating /tmp/tmpfdCygP/tmp3LCl06
2017-06-21 04:40:34,877 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:34,881 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:34,969 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:34,977 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:34,978 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:34,989 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:34,996 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:34,999 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:35,004 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpfdCygP/tmplt6CW7/fake-image-0000000001 fedora vm
2017-06-21 04:40:35,012 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:35,012 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:35,012 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,013 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpfdCygP/tmplt6CW7/fake-image-0000000001 fedora vm
2017-06-21 04:40:35,013 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:35,014 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:35,014 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:35,015 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:35,015 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:35,017 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:35,017 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:35,017 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:35,017 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpfdCygP/tmplt6CW7/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:35,215 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:35,215 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpfdCygP/tmplt6CW7/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:35,216 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:35,216 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:36,208 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider', 'external_name': u'fake-image-1498020035', 'id': u'0000000002', 'state_time': 1498020035.92703, 'format': u'qcow2', 'stat': ZnodeStat(czxid=233164, mzxid=233164, ctime=1498020035937, mtime=1498020035937, version=0, cversion=0, aversion=0, ephemeralOwner=0, dataLength=166, numChildren=0, pzxid=233164), 'external_id': u'ebec6baa771d451190a1f9e7266ba0d4', 'state': u'uploading'}>
2017-06-21 04:40:36,961 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:36,963 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:37,329 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:37,332 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:37,333 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:37,333 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:37,336 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stderr
35
No handlers could be found for logger "kazoo.client"
0
]
tags: -worker-1
time: 2017-06-21 04:40:36.104256Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_addition
time: 2017-06-21 04:40:38.733797Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_addition [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1959
2017-06-21 04:40:36,106 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:36,148 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:36,152 INFO [nodepool.cmd.config_validator] validating /tmp/tmpljltC5/tmpf5hzeu
2017-06-21 04:40:36,191 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:36,192 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:36,320 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,320 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:36,323 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,333 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpljltC5/tmpd0hQ9A/fake-image-0000000001 fedora vm
2017-06-21 04:40:36,344 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,344 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:36,345 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:36,345 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:36,345 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpljltC5/tmpd0hQ9A/fake-image-0000000001 fedora vm
2017-06-21 04:40:36,346 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:36,346 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,349 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:36,349 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:36,349 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:36,349 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:36,350 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,354 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:36,354 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:36,355 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:36,355 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpljltC5/tmpd0hQ9A/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:36,562 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:36,563 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpljltC5/tmpd0hQ9A/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:36,563 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:36,564 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:37,230 DEBUG [tests] Replacing config with node_two_image.yaml
2017-06-21 04:40:37,232 INFO [nodepool.cmd.config_validator] validating /tmp/tmpljltC5/tmpGx3xfo
2017-06-21 04:40:37,570 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,572 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,578 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,574 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,596 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,635 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:40:37,639 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpljltC5/tmpd0hQ9A/fake-image2-0000000001 fedora vm
2017-06-21 04:40:37,646 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:40:37,647 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:40:37,647 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:37,647 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpljltC5/tmpd0hQ9A/fake-image2-0000000001 fedora vm
2017-06-21 04:40:37,648 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:37,650 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:40:37,650 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:40:37,651 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:40:37,651 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:40:37,652 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:40:37,653 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:40:37,653 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:40:37,653 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmpljltC5/tmpd0hQ9A/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:37,853 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:40:37,853 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpljltC5/tmpd0hQ9A/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:40:37,854 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:37,854 INFO [nodepool.builder.UploadWorker.2] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:40:38,327 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:38,329 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:38,626 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:38,636 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:38,637 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:38,637 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:38,641 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:40:36.297993Z
tags: worker-3
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rotation
time: 2017-06-21 04:40:40.038772Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rotation [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
22AE
2017-06-21 04:40:36,299 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:36,329 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:36,332 INFO [nodepool.cmd.config_validator] validating /tmp/tmpBlLTOD/tmpjEGEcy
2017-06-21 04:40:36,371 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:36,373 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:36,462 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,493 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,500 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,509 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,516 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:36,534 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:36,537 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000001 fedora vm
2017-06-21 04:40:36,547 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:36,547 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:36,547 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:36,548 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000001 fedora vm
2017-06-21 04:40:36,548 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:36,555 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:36,556 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:36,556 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:36,556 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:36,561 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:36,561 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:36,562 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:36,562 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:36,608 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:36,611 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:36,613 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:36,615 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:37,497 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:37,500 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000002 fedora vm
2017-06-21 04:40:37,527 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:37,527 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:37,527 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:37,527 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000002 fedora vm
2017-06-21 04:40:37,528 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:37,533 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:37,534 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:37,534 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:37,534 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:37,536 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:37,536 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:37,536 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:37,536 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:40:37,644 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:40:37,644 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000002 from /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:40:37,645 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:40:37,645 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:38,516 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:38,519 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000003 fedora vm
2017-06-21 04:40:38,534 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:38,534 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:38,534 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:38,535 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000003 fedora vm
2017-06-21 04:40:38,535 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:38,535 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:38,535 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:38,536 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:38,536 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:38,536 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:38,538 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:38,538 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:38,539 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000003.qcow2 (size: 4096) 
2017-06-21 04:40:38,583 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000003
2017-06-21 04:40:38,583 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000003 from /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000003.qcow2 to fake-provider
2017-06-21 04:40:38,584 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:38,584 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000003 in fake-provider is ready
2017-06-21 04:40:38,794 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image-0000000001 from fake-provider
2017-06-21 04:40:38,794 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 67147920 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:38,794 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 67147920 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:38,808 INFO [nodepool.builder.CleanupWorker.0] Doing cleanup for fake-image:0000000001
2017-06-21 04:40:38,808 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000001.qcow2
2017-06-21 04:40:38,808 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000001.qcow2.md5
2017-06-21 04:40:38,808 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000001.qcow2.sha256
2017-06-21 04:40:38,809 INFO [nodepool.builder.CleanupWorker.0] Removed DIB manifest /tmp/tmpBlLTOD/tmpOHNeIP/fake-image-0000000001.d
2017-06-21 04:40:39,501 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:39,501 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:39,945 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:39,948 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:39,949 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:39,949 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:39,952 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:40:37.408050Z
tags: worker-2
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rotation_invalid_external_name
time: 2017-06-21 04:40:41.091362Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rotation_invalid_external_name [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2101
2017-06-21 04:40:37,408 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:37,433 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:37,438 INFO [nodepool.cmd.config_validator] validating /tmp/tmpmVjcmm/tmpx28yT8
2017-06-21 04:40:37,466 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:37,469 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:37,554 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:37,555 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,557 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000001 fedora vm
2017-06-21 04:40:37,593 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,602 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:37,603 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:37,603 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:37,606 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000001 fedora vm
2017-06-21 04:40:37,608 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:37,608 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,609 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,610 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:37,611 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:37,611 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,612 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:37,612 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:37,613 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:37,613 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:37,613 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:37,613 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:37,711 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:37,712 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:37,713 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:37,714 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:38,665 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:38,668 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000002 fedora vm
2017-06-21 04:40:38,678 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:38,678 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:38,678 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:38,679 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000002 fedora vm
2017-06-21 04:40:38,679 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:38,684 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:38,684 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:38,684 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:38,684 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:38,684 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:38,684 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:38,685 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:38,685 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:40:38,872 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:40:38,872 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000002 from /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:40:38,873 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:38,873 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:40:39,856 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:39,859 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000003 fedora vm
2017-06-21 04:40:39,873 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:39,873 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:39,873 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:39,873 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000003 fedora vm
2017-06-21 04:40:39,873 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:39,879 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:39,879 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:39,879 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:39,879 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:39,882 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:39,882 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:39,882 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:39,883 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000003.qcow2 (size: 4096) 
2017-06-21 04:40:40,062 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000003
2017-06-21 04:40:40,062 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000003 from /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000003.qcow2 to fake-provider
2017-06-21 04:40:40,063 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000003 in fake-provider is ready
2017-06-21 04:40:40,063 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:40,493 INFO [nodepool.builder.CleanupWorker.0] Doing cleanup for fake-image:0000000001
2017-06-21 04:40:40,493 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000001.qcow2
2017-06-21 04:40:40,493 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000001.qcow2.md5
2017-06-21 04:40:40,494 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000001.qcow2.sha256
2017-06-21 04:40:40,494 INFO [nodepool.builder.CleanupWorker.0] Removed DIB manifest /tmp/tmpmVjcmm/tmpgNk31q/fake-image-0000000001.d
2017-06-21 04:40:40,661 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:40,662 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:41,017 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:41,021 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:41,021 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:41,021 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:41,025 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:40:38.734369Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_removal
time: 2017-06-21 04:40:41.289303Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_removal [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1D9E
2017-06-21 04:40:38,735 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:38,777 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:38,787 INFO [nodepool.cmd.config_validator] validating /tmp/tmp_1w1br/tmpXft0jg
2017-06-21 04:40:38,830 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:38,833 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:38,942 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:38,960 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:38,972 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:38,987 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:39,009 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:39,024 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:39,027 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp_1w1br/tmpkyexJe/fake-image-0000000001 fedora vm
2017-06-21 04:40:39,039 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:39,040 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:39,040 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:39,040 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp_1w1br/tmpkyexJe/fake-image-0000000001 fedora vm
2017-06-21 04:40:39,040 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:39,042 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:39,042 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:39,042 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:39,042 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:39,045 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:39,045 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:39,045 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:39,045 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp_1w1br/tmpkyexJe/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:39,080 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:40:39,086 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp_1w1br/tmpkyexJe/fake-image2-0000000001 fedora vm
2017-06-21 04:40:39,102 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:40:39,105 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:40:39,105 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:39,106 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp_1w1br/tmpkyexJe/fake-image2-0000000001 fedora vm
2017-06-21 04:40:39,106 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:39,106 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:40:39,107 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:40:39,107 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:40:39,108 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:40:39,108 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:40:39,108 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:40:39,108 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:40:39,108 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmp_1w1br/tmpkyexJe/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:39,199 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:39,199 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmp_1w1br/tmpkyexJe/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:39,200 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:39,200 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:39,272 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:40:39,272 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmp_1w1br/tmpkyexJe/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:40:39,273 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:39,273 INFO [nodepool.builder.UploadWorker.1] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:40:39,898 DEBUG [tests] Replacing config with node_two_image_remove.yaml
2017-06-21 04:40:39,899 INFO [nodepool.cmd.config_validator] validating /tmp/tmp_1w1br/tmp9zWAci
2017-06-21 04:40:40,000 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,067 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,106 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,107 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,114 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,133 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image2-0000000001 from fake-provider
2017-06-21 04:40:40,134 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 59717072 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:40,134 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 59717072 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:40,167 INFO [nodepool.builder.CleanupWorker.0] Doing cleanup for fake-image2:0000000001
2017-06-21 04:40:40,168 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmp_1w1br/tmpkyexJe/fake-image2-0000000001.qcow2
2017-06-21 04:40:40,168 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmp_1w1br/tmpkyexJe/fake-image2-0000000001.qcow2.md5
2017-06-21 04:40:40,168 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmp_1w1br/tmpkyexJe/fake-image2-0000000001.qcow2.sha256
2017-06-21 04:40:40,169 INFO [nodepool.builder.CleanupWorker.0] Removed DIB manifest /tmp/tmp_1w1br/tmpkyexJe/fake-image2-0000000001.d
2017-06-21 04:40:40,944 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:40,944 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:41,206 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:41,209 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:41,211 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:41,212 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:41,215 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:40:41.092060Z
tags: worker-2
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_start_stop
time: 2017-06-21 04:40:41.823149Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_start_stop [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
64F
2017-06-21 04:40:41,093 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:41,110 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:41,116 INFO [nodepool.cmd.config_validator] validating /tmp/tmp0o0bgR/tmpREH0Be
2017-06-21 04:40:41,155 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:41,159 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:41,171 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:41,171 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:41,289 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,290 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,291 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,293 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,296 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,798 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:41,801 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:41,802 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:41,802 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:41,805 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:40:41.823648Z
tags: worker-2
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_to_path
time: 2017-06-21 04:40:41.825199Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_to_path [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:40:41,824 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-2
time: 2017-06-21 04:40:41.825589Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_image_list_fail
time: 2017-06-21 04:40:41.977640Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_image_list_fail [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3FE
2017-06-21 04:40:41,826 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:41,856 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:41,861 INFO [nodepool.cmd.config_validator] validating /tmp/tmpjukrpI/tmp02Z0mg
2017-06-21 04:40:41,940 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:41,956 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:40:41,957 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,957 WARNING [nodepool.cmd.nodepoolcmd] Exception listing alien images for fake-provider1: argument of type 'NoneType' is not iterable
2017-06-21 04:40:41,958 WARNING [nodepool.cmd.nodepoolcmd] Exception listing alien images for fake-provider2: argument of type 'NoneType' is not iterable
2017-06-21 04:40:41,961 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:41,964 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
7B
+----------+------+----------+
| Provider | Name | Image ID |
+----------+------+----------+
+----------+------+----------+0
]
tags: -worker-2
time: 2017-06-21 04:40:41.978180Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_config_validate
time: 2017-06-21 04:40:42.069982Z
failure: nodepool.tests.test_commands.TestNodepoolCMD.test_config_validate [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
15C
2017-06-21 04:40:41,979 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:42,006 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:42,013 INFO [nodepool.cmd.config_validator] validating nodepool/tests/fixtures/config_validate/good.yaml
2017-06-21 04:40:42,042 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/x-traceback;charset=utf8,language=python
traceback
529
Traceback (most recent call last):
  File "nodepool/tests/test_commands.py", line 133, in test_config_validate
    nodepoolcmd.main()
  File "nodepool/cmd/nodepoolcmd.py", line 353, in main
    return NodePoolCmd.main()
  File "nodepool/cmd/__init__.py", line 136, in main
    return cls()._main(argv=argv)
  File "nodepool/cmd/__init__.py", line 126, in _main
    return self._do_run()
  File "nodepool/cmd/__init__.py", line 132, in _do_run
    return self.run()
  File "nodepool/cmd/nodepoolcmd.py", line 331, in run
    return self.args.func()
  File "nodepool/cmd/nodepoolcmd.py", line 314, in config_validate
    validator.validate()
  File "nodepool/cmd/config_validator.py", line 144, in validate
    schema(config)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/voluptuous/schema_builder.py", line 221, in __call__
    return self._compiled([], data)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/voluptuous/schema_builder.py", line 538, in validate_dict
    return base_validate(path, iteritems(data), out)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/voluptuous/schema_builder.py", line 370, in validate_mapping
    raise er.MultipleInvalid(errors)
voluptuous.error.MultipleInvalid: required key not provided @ data['providers'][2]['cloud']
0
]
tags: -worker-2
time: 2017-06-21 04:40:40.039372Z
tags: worker-3
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_provider_addition
time: 2017-06-21 04:40:42.763431Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_provider_addition [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
156A
2017-06-21 04:40:40,044 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:40,080 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:40,085 INFO [nodepool.cmd.config_validator] validating /tmp/tmpQMMFAS/tmpXUwYyf
2017-06-21 04:40:40,120 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:40,121 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:40,230 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,242 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,254 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,263 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:40,266 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpQMMFAS/tmp6aGYqI/fake-image-0000000001 fedora vm
2017-06-21 04:40:40,281 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:40,281 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:40,281 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:40,281 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpQMMFAS/tmp6aGYqI/fake-image-0000000001 fedora vm
2017-06-21 04:40:40,281 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:40,281 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,287 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:40,288 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:40,290 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:40,290 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:40,290 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:40,291 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:40,291 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:40,291 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:40,291 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpQMMFAS/tmp6aGYqI/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:40,452 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:40,453 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpQMMFAS/tmp6aGYqI/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:40,457 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:40,458 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:41,222 DEBUG [tests] Replacing config with node_two_provider.yaml
2017-06-21 04:40:41,227 INFO [nodepool.cmd.config_validator] validating /tmp/tmpQMMFAS/tmp1uG86L
2017-06-21 04:40:41,374 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,375 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,468 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,468 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,476 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,477 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,485 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,485 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,486 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:41,488 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,488 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,490 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpQMMFAS/tmp6aGYqI/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:40:41,494 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:41,494 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:40:42,260 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:42,261 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:42,699 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:42,702 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:42,703 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:42,703 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:42,709 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:40:37.411453Z
tags: worker-1
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_upload_fail
time: 2017-06-21 04:40:42.977822Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_upload_fail [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1CEE
2017-06-21 04:40:37,413 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:37,444 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:37,448 INFO [nodepool.cmd.config_validator] validating /tmp/tmpCJPjzf/tmpQcZLhB
2017-06-21 04:40:37,486 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:37,490 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:37,582 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,645 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,648 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:37,661 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:37,666 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,668 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,672 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:37,710 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:37,713 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpCJPjzf/tmptC3v9a/fake-image-0000000001 fedora vm
2017-06-21 04:40:37,718 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:37,721 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:37,722 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:37,726 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:37,726 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:37,726 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:37,727 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpCJPjzf/tmptC3v9a/fake-image-0000000001 fedora vm
2017-06-21 04:40:37,727 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:37,729 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:37,729 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:37,729 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:37,729 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:37,733 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:37,733 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:37,733 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:37,733 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpCJPjzf/tmptC3v9a/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:37,936 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:37,937 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpCJPjzf/tmptC3v9a/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:37,938 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 253, in create_image
    raise exceptions.BuilderError("Test fail image upload.")
BuilderError: Test fail image upload.
2017-06-21 04:40:38,169 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:38,170 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpCJPjzf/tmptC3v9a/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:38,170 DEBUG [nodepool.FakeUploadFailCloud] Pause creates False
2017-06-21 04:40:38,170 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:38,782 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:39,773 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020038.782383, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=233472, mzxid=233472, ctime=1498020038789, mtime=1498020038789, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845684, dataLength=168, numChildren=0, pzxid=233472), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:39,774 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:39,859 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:39,905 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:40:39,906 DEBUG [nodepool.FakeUploadFailCloud] Pause creates False
2017-06-21 04:40:39,912 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 8cfbe739514445e3989d665517768d11 for node id: 0000000000
2017-06-21 04:40:40,022 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:40,022 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:40,037 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:40,883 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:40,886 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:40,932 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:41,555 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:41,556 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:41,640 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:41,643 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:41,645 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:41,645 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:41,851 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:42,275 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:42,275 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:42,275 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:42,275 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:42,902 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:42,903 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:42,906 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:40:42.978452Z
tags: worker-1
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_image_id
time: 2017-06-21 04:40:42.980581Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_image_id [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:40:42,979 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-1
time: 2017-06-21 04:40:42.764144Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_build_pause
time: 2017-06-21 04:40:43.623000Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_build_pause [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
100A
2017-06-21 04:40:42,765 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:42,786 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:42,792 INFO [nodepool.cmd.config_validator] validating /tmp/tmp4h0AGI/tmpDDbfSY
2017-06-21 04:40:42,824 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:42,827 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:42,943 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:42,992 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,013 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,023 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,033 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:40:43,036 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,039 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp4h0AGI/tmpOG76T5/fake-image2-0000000001 fedora vm
2017-06-21 04:40:43,042 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:43,054 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:40:43,054 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:40:43,054 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:43,059 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp4h0AGI/tmpOG76T5/fake-image2-0000000001 fedora vm
2017-06-21 04:40:43,060 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:43,060 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:40:43,060 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:40:43,062 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:40:43,063 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:40:43,063 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:40:43,063 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:40:43,067 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:40:43,068 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmp4h0AGI/tmpOG76T5/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:43,194 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:43,215 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:40:43,217 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmp4h0AGI/tmpOG76T5/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:40:43,221 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:43,223 INFO [nodepool.builder.UploadWorker.0] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:40:43,224 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:00']
2017-06-21 04:40:43,225 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:43,225 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:43,222 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:43,561 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:43,564 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:43,566 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:43,566 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:43,569 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
C3
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-3
time: 2017-06-21 04:40:41.289961Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_provider_removal
time: 2017-06-21 04:40:43.883362Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_provider_removal [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1732
2017-06-21 04:40:41,292 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:41,313 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:41,317 INFO [nodepool.cmd.config_validator] validating /tmp/tmpCbvDpA/tmppTTHIr
2017-06-21 04:40:41,348 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:41,350 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:41,440 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,440 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,457 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,460 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,471 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,472 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,500 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,501 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,504 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:41,504 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:41,530 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:41,533 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpCbvDpA/tmpDn1AwR/fake-image-0000000001 fedora vm
2017-06-21 04:40:41,540 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:41,540 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:41,541 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:41,541 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpCbvDpA/tmpDn1AwR/fake-image-0000000001 fedora vm
2017-06-21 04:40:41,541 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:41,543 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:41,543 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:41,543 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:41,543 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:41,545 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:41,545 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:41,545 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:41,546 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpCbvDpA/tmpDn1AwR/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:41,654 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:41,655 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpCbvDpA/tmpDn1AwR/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:41,656 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:41,657 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:41,729 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:41,730 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpCbvDpA/tmpDn1AwR/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:40:41,730 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:41,731 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:40:42,398 DEBUG [tests] Replacing config with node_two_provider_remove.yaml
2017-06-21 04:40:42,399 INFO [nodepool.cmd.config_validator] validating /tmp/tmpCbvDpA/tmptgz4Rt
2017-06-21 04:40:42,432 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:42,495 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:42,507 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:42,518 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:42,708 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:42,741 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image-0000000001 from fake-provider2
2017-06-21 04:40:42,741 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 140100692884112 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:42,741 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 140100692884112 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:43,419 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:43,419 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:43,810 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:43,813 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:43,816 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:43,816 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:43,819 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:40:43.883995Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_id_multiple
time: 2017-06-21 04:40:43.885889Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_id_multiple [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:40:43,884 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-0
time: 2017-06-21 04:40:43.886738Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_images_dir
time: 2017-06-21 04:40:43.888404Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_images_dir [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:40:43,887 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-0
time: 2017-06-21 04:40:43.889338Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_path
time: 2017-06-21 04:40:43.891492Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_path [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:40:43,890 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-0
time: 2017-06-21 04:40:43.892671Z
tags: worker-0
test: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_image_list_empty
time: 2017-06-21 04:40:45.900487Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_image_list_empty [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
11BA
2017-06-21 04:40:43,893 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:43,932 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:44,003 INFO [nodepool.cmd.config_validator] validating /tmp/tmpna6Fcf/tmpR5iT_D
2017-06-21 04:40:44,027 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:44,028 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:44,076 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:44,098 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:44,127 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:44,167 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:44,172 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:44,177 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:44,180 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpna6Fcf/tmpBTrZAM/fake-image-0000000001 fedora vm
2017-06-21 04:40:44,188 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:44,188 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:44,188 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:44,188 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpna6Fcf/tmpBTrZAM/fake-image-0000000001 fedora vm
2017-06-21 04:40:44,188 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:44,190 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:44,190 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:44,191 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:44,191 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:44,193 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:44,193 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:44,193 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:44,193 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpna6Fcf/tmpBTrZAM/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:44,315 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:44,315 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpna6Fcf/tmpBTrZAM/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:44,318 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:44,317 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:45,119 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:45,145 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:45,146 WARNING [nodepool.cmd.nodepoolcmd] Exception listing alien images for fake-provider: argument of type 'NoneType' is not iterable
2017-06-21 04:40:45,153 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:45,210 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:45,324 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:45,330 WARNING [nodepool.cmd.nodepoolcmd] Exception listing alien images for fake-provider: argument of type 'NoneType' is not iterable
2017-06-21 04:40:45,343 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:45,345 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:45,346 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:45,854 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:45,856 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:45,858 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:45,858 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:45,861 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
F7
+----------+------+----------+
| Provider | Name | Image ID |
+----------+------+----------+
+----------+------+----------+
+----------+------+----------+
| Provider | Name | Image ID |
+----------+------+----------+
+----------+------+----------+0
]
tags: -worker-0
time: 2017-06-21 04:40:45.901091Z
tags: worker-0
test: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_list_fail
time: 2017-06-21 04:40:46.054249Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_list_fail [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2CA
2017-06-21 04:40:45,902 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:45,943 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:45,951 INFO [nodepool.cmd.config_validator] validating /tmp/tmpKCgXXx/tmpc994lO
2017-06-21 04:40:46,005 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:46,023 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:40:46,024 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:46,029 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:46,036 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
A3
+----------+----------+-----------+----+
| Provider | Hostname | Server ID | IP |
+----------+----------+-----------+----+
+----------+----------+-----------+----+0
]
tags: -worker-0
time: 2017-06-21 04:40:42.071117Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_delete
time: 2017-06-21 04:40:48.586793Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_delete [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
29B4
2017-06-21 04:40:42,074 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:42,111 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:42,115 INFO [nodepool.cmd.config_validator] validating /tmp/tmpA0HcRB/tmpia9zM1
2017-06-21 04:40:42,147 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:42,151 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:42,281 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:42,302 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:42,335 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:42,345 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:42,349 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:42,350 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:42,351 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:42,356 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:42,360 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:42,362 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000001 fedora vm
2017-06-21 04:40:42,369 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:42,370 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:42,370 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:42,370 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:42,371 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000001 fedora vm
2017-06-21 04:40:42,371 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:42,371 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:42,371 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:42,372 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:42,373 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:42,373 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:42,373 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:42,375 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:42,376 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:42,376 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:42,376 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:42,431 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:42,432 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:42,432 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:42,433 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:43,444 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:44,425 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020043.445155, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=233955, mzxid=233955, ctime=1498020043455, mtime=1498020043455, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845712, dataLength=168, numChildren=0, pzxid=233955), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:44,427 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:44,444 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:44,450 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:40:44,451 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:44,453 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 74b1d7cf84174491a7cf0afe8502d261 for node id: 0000000000
2017-06-21 04:40:44,597 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:44,597 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:44,604 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:45,455 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:45,457 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:45,593 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:46,249 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:46,314 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:46,319 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:03']
2017-06-21 04:40:46,388 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:46,395 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:46,526 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image-0000000001 from fake-provider
2017-06-21 04:40:46,526 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 66840080 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:46,526 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 66840080 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:46,530 INFO [nodepool.builder.CleanupWorker.0] Doing cleanup for fake-image:0000000001
2017-06-21 04:40:46,530 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000001.qcow2
2017-06-21 04:40:46,530 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000001.qcow2.md5
2017-06-21 04:40:46,530 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000001.qcow2.sha256
2017-06-21 04:40:46,531 INFO [nodepool.builder.CleanupWorker.0] Removed DIB manifest /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000001.d
2017-06-21 04:40:46,535 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:46,538 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000002 fedora vm
2017-06-21 04:40:46,569 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:46,570 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:46,570 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:46,570 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000002 fedora vm
2017-06-21 04:40:46,570 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:46,576 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:46,582 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:46,585 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:46,591 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:46,592 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:46,592 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:46,593 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:46,593 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:40:46,722 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:40:46,722 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000002 from /tmp/tmpA0HcRB/tmpUQ6XBa/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:40:46,724 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:46,725 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:40:47,489 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:47,499 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,500 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000002', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:00']
2017-06-21 04:40:47,500 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:47,501 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:47,621 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:47,624 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,627 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:47,627 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:48,032 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:48,440 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:48,440 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:48,440 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:48,440 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:48,503 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:48,504 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:48,507 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
187
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-2
time: 2017-06-21 04:40:42.980994Z
tags: worker-1
test: nodepool.tests.test_commands.TestNodepoolCMD.test_delete_now
time: 2017-06-21 04:40:48.618374Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_delete_now [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2128
2017-06-21 04:40:42,982 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:43,016 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:43,023 INFO [nodepool.cmd.config_validator] validating /tmp/tmpAjMFcK/tmpPfjdwS
2017-06-21 04:40:43,052 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:43,057 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:43,144 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,145 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,187 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,188 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,200 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,202 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:43,221 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:43,228 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,243 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:43,245 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:43,248 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpAjMFcK/tmpXqwOiw/fake-image-0000000001 fedora vm
2017-06-21 04:40:43,261 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:43,261 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:43,261 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:43,262 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpAjMFcK/tmpXqwOiw/fake-image-0000000001 fedora vm
2017-06-21 04:40:43,263 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:43,264 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:43,264 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:43,264 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:43,264 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:43,266 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:43,271 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:43,271 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:43,271 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:43,274 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:43,274 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpAjMFcK/tmpXqwOiw/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:43,326 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:43,327 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpAjMFcK/tmpXqwOiw/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:43,329 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:43,331 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:44,388 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:45,360 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020044.388536, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234055, mzxid=234055, ctime=1498020044394, mtime=1498020044394, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845723, dataLength=168, numChildren=0, pzxid=234055), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:45,376 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:45,468 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:45,474 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:40:45,475 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:45,478 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server b0e59a1263104e1099d1cd8a5d585a70 for node id: 0000000000
2017-06-21 04:40:45,681 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:45,681 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:45,688 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:46,499 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:46,502 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:46,603 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:47,237 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:47,271 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,273 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27536-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'b0e59a1263104e1099d1cd8a5d585a70', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:40:47,314 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:47,359 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,360 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27536-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'b0e59a1263104e1099d1cd8a5d585a70', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:40:47,412 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:47,436 DEBUG [nodepool.FakeOpenStackCloud] Get b0e59a1263104e1099d1cd8a5d585a70 in []
2017-06-21 04:40:47,436 INFO [nodepool.NodeDeleter] Instance b0e59a1263104e1099d1cd8a5d585a70 not found in provider fake-provider
2017-06-21 04:40:47,436 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=b0e59a1263104e1099d1cd8a5d585a70
2017-06-21 04:40:47,482 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,610 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:47,646 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,648 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:47,648 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:47,655 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:47,744 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:47,747 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,748 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:47,748 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:47,853 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:48,328 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:48,328 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:48,329 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:48,329 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:48,518 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:48,520 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:48,522 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
85F
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+0
]
tags: -worker-1
time: 2017-06-21 04:40:43.623729Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_hold
time: 2017-06-21 04:40:49.192140Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_hold [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
22D3
2017-06-21 04:40:43,624 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:43,643 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:43,646 INFO [nodepool.cmd.config_validator] validating /tmp/tmpkykgzt/tmp1dZM5T
2017-06-21 04:40:43,674 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:43,678 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:43,747 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,780 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,785 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:43,789 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,792 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpkykgzt/tmpkRpnBI/fake-image-0000000001 fedora vm
2017-06-21 04:40:43,815 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:43,818 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:43,818 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:43,818 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpkykgzt/tmpkRpnBI/fake-image-0000000001 fedora vm
2017-06-21 04:40:43,820 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:43,820 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:43,827 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:43,829 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:43,829 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:43,829 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:43,829 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:43,831 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:43,831 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpkykgzt/tmpkRpnBI/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:43,833 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,837 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,845 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:43,846 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:43,856 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:43,939 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:43,944 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:43,944 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:43,976 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:43,977 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpkykgzt/tmpkRpnBI/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:43,979 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:43,980 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:45,059 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:46,022 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020045.059378, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234076, mzxid=234076, ctime=1498020045065, mtime=1498020045065, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845729, dataLength=168, numChildren=0, pzxid=234076), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:46,024 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:46,049 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:46,054 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:40:46,055 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:46,057 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 1705b581eb0147beb85ab3740dc30476 for node id: 0000000000
2017-06-21 04:40:46,163 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:46,163 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:46,184 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:47,058 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:47,061 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:47,208 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:47,803 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:47,819 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,821 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27538-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'1705b581eb0147beb85ab3740dc30476', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:40:47,961 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:47,986 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:47,990 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27538-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'1705b581eb0147beb85ab3740dc30476', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:40:48,014 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:48,037 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:48,075 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:48,166 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:48,168 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27538-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'1705b581eb0147beb85ab3740dc30476', u'fake', u'fake', u'', u'hold', '00:00:00:00', 'unlocked', u'testing']
2017-06-21 04:40:48,190 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:48,203 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:48,205 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27538-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'1705b581eb0147beb85ab3740dc30476', u'fake', u'fake', u'', u'hold', '00:00:00:00', 'unlocked', u'testing']
2017-06-21 04:40:48,205 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:48,205 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:48,229 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:48,483 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:48,486 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:48,487 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:48,487 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:48,611 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:49,013 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:49,013 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:49,013 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:49,014 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:49,090 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:49,091 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:49,093 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
D87
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
Waiting for lock...
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+-------+-------------+----------+---------+
| ID         | Provider      | AZ  | Label      | Launcher                                                | Hostname                            | Server ID                        | Public IPv4 | Private IPv4 | IPv6 | State | Age         | Locked   | Comment |
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+-------+-------------+----------+---------+
| 0000000000 | fake-provider | az1 | fake-label | sf-zuulv3.novalocal-27538-PoolWorker.fake-provider-main | fake-label-fake-provider-0000000000 | 1705b581eb0147beb85ab3740dc30476 | fake        | fake         |      | hold  | 00:00:00:00 | unlocked | testing |
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+-------+-------------+----------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+0
]
tags: -worker-3
time: 2017-06-21 04:40:49.192769Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_image_list_empty
time: 2017-06-21 04:40:49.293178Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_image_list_empty [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1EA
2017-06-21 04:40:49,195 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:49,222 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:49,228 INFO [nodepool.cmd.config_validator] validating /tmp/tmpxSC9M5/tmpSqJtqz
2017-06-21 04:40:49,262 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:49,268 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:49,274 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
18F
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
| Build ID | Upload ID | Provider | Image | Provider Image Name | Provider Image ID | State | Age |
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+0
]
tags: -worker-3
time: 2017-06-21 04:40:48.587413Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_list
time: 2017-06-21 04:40:50.008374Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_list [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
F9E
2017-06-21 04:40:48,588 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:48,616 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:48,623 INFO [nodepool.cmd.config_validator] validating /tmp/tmpMEjRIS/tmpHNJL0e
2017-06-21 04:40:48,660 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:48,664 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:48,749 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,767 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,772 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,778 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,781 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,783 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:48,785 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpMEjRIS/tmpwn6n64/fake-image-0000000001 fedora vm
2017-06-21 04:40:48,792 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:48,792 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:48,792 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:48,793 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpMEjRIS/tmpwn6n64/fake-image-0000000001 fedora vm
2017-06-21 04:40:48,793 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:48,795 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:48,796 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:48,796 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:48,796 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:48,798 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:48,798 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:48,799 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:48,799 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpMEjRIS/tmpwn6n64/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:48,925 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:48,926 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMEjRIS/tmpwn6n64/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:48,931 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:48,931 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:49,819 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:49,826 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:49,827 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:01']
2017-06-21 04:40:49,827 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:49,827 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:49,909 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:49,916 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:49,917 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:49,917 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:49,920 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
C3
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-2
time: 2017-06-21 04:40:46.056472Z
tags: worker-0
test: nodepool.tests.test_commands.TestNodepoolCMD.test_delete
time: 2017-06-21 04:40:52.640071Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_delete [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
27D3
2017-06-21 04:40:46,057 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:46,095 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:46,102 INFO [nodepool.cmd.config_validator] validating /tmp/tmpmkOMAu/tmpNbZ16i
2017-06-21 04:40:46,175 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:46,181 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:46,267 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:46,309 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:46,312 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpmkOMAu/tmpvPbTzj/fake-image-0000000001 fedora vm
2017-06-21 04:40:46,336 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:46,337 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:46,337 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:46,337 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpmkOMAu/tmpvPbTzj/fake-image-0000000001 fedora vm
2017-06-21 04:40:46,337 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:46,342 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:46,343 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:46,343 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:46,343 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:46,344 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:46,344 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:46,344 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:46,354 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:46,354 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpmkOMAu/tmpvPbTzj/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:46,359 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:46,367 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:46,375 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:46,389 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:46,398 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:46,399 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:46,406 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:46,408 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:46,408 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:46,452 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:46,453 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpmkOMAu/tmpvPbTzj/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:46,453 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:46,454 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:47,490 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:48,469 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020047.49024, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234256, mzxid=234256, ctime=1498020047512, mtime=1498020047512, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845745, dataLength=167, numChildren=0, pzxid=234256), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:48,471 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:48,492 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:48,496 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:40:48,496 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:48,499 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server a72a5887b8ad49d2802396ef8005ac79 for node id: 0000000000
2017-06-21 04:40:48,608 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:48,608 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:48,637 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:49,513 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:49,520 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:49,604 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:50,383 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:50,415 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:50,416 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27535-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'a72a5887b8ad49d2802396ef8005ac79', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:40:50,537 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:50,578 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:50,578 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27535-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'a72a5887b8ad49d2802396ef8005ac79', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:40:50,621 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:50,673 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:50,962 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance a72a5887b8ad49d2802396ef8005ac79 from fake-provider
2017-06-21 04:40:50,968 DEBUG [nodepool.FakeOpenStackCloud] Get a72a5887b8ad49d2802396ef8005ac79 in [<Instance 140100692890896 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x390a850> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=a72a5887b8ad49d2802396ef8005ac79 should_fail=False location=<Server.Location 140100692891344 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7f6bbc085190> key_name=None>]
2017-06-21 04:40:50,968 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server a72a5887b8ad49d2802396ef8005ac79
2017-06-21 04:40:50,968 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 140100692890896 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x390a850> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=a72a5887b8ad49d2802396ef8005ac79 should_fail=False location=<Server.Location 140100692891344 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7f6bbc085190> key_name=None>]
2017-06-21 04:40:50,968 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:40:50,968 DEBUG [nodepool.FakeOpenStackCloud] Get a72a5887b8ad49d2802396ef8005ac79 in []
2017-06-21 04:40:50,968 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=a72a5887b8ad49d2802396ef8005ac79
2017-06-21 04:40:51,691 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:51,779 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:51,810 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:51,815 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:51,815 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:51,998 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:52,001 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:52,001 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:52,002 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:52,117 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:52,466 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:52,466 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:52,466 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:52,467 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:52,585 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:52,586 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:52,589 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
B6A
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+----------+-------------+----------+---------+
| ID         | Provider      | AZ  | Label      | Launcher                                                | Hostname                            | Server ID                        | Public IPv4 | Private IPv4 | IPv6 | State    | Age         | Locked   | Comment |
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+----------+-------------+----------+---------+
| 0000000000 | fake-provider | az1 | fake-label | sf-zuulv3.novalocal-27535-PoolWorker.fake-provider-main | fake-label-fake-provider-0000000000 | a72a5887b8ad49d2802396ef8005ac79 | fake        | fake         |      | deleting | 00:00:00:00 | unlocked | None    |
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+----------+-------------+----------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+0
]
tags: -worker-0
time: 2017-06-21 04:40:50.008953Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_image_build
time: 2017-06-21 04:40:52.959619Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_image_build [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A3F
2017-06-21 04:40:50,010 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:50,047 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:50,057 INFO [nodepool.cmd.config_validator] validating /tmp/tmpAKknbW/tmpuak6Mx
2017-06-21 04:40:50,098 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:50,100 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:50,184 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:50,206 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:50,220 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:50,225 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpAKknbW/tmpsc0Dyh/fake-image-0000000001 fedora vm
2017-06-21 04:40:50,230 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:50,241 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:50,242 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:50,242 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:50,245 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:50,246 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpAKknbW/tmpsc0Dyh/fake-image-0000000001 fedora vm
2017-06-21 04:40:50,246 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:50,252 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:50,254 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:50,255 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:50,255 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:50,256 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:50,261 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:50,261 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:50,262 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:50,262 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpAKknbW/tmpsc0Dyh/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:50,334 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:50,342 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpAKknbW/tmpsc0Dyh/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:50,343 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:50,343 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:51,319 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:51,328 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:51,329 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:01']
2017-06-21 04:40:51,352 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:51,363 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:51,409 INFO [nodepool.builder.BuildWorker.0] Manual build request for image fake-image
2017-06-21 04:40:51,415 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpAKknbW/tmpsc0Dyh/fake-image-0000000002 fedora vm
2017-06-21 04:40:51,443 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:51,452 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:51,458 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:51,462 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpAKknbW/tmpsc0Dyh/fake-image-0000000002 fedora vm
2017-06-21 04:40:51,467 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:51,467 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:51,469 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:51,481 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:51,482 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:51,482 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:51,482 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:51,486 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:51,486 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpAKknbW/tmpsc0Dyh/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:40:51,562 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:40:51,564 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000002 from /tmp/tmpAKknbW/tmpsc0Dyh/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:40:51,567 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:40:51,567 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:52,395 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:52,404 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:52,408 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:02']
2017-06-21 04:40:52,408 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000002', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:00']
2017-06-21 04:40:52,408 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:52,408 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:52,866 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:52,869 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:52,870 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:52,870 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:52,876 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
187
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-2
time: 2017-06-21 04:40:49.294856Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_request_list
time: 2017-06-21 04:40:54.838986Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_request_list [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1BC6
2017-06-21 04:40:49,299 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:49,322 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:49,341 INFO [nodepool.cmd.config_validator] validating /tmp/tmpjYlIv_/tmpE1GkEc
2017-06-21 04:40:49,391 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:49,396 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:49,532 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:49,545 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:49,558 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:49,561 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:49,566 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:49,570 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:49,573 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:49,582 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:49,590 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:49,590 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:49,591 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:49,605 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:49,607 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpjYlIv_/tmpqPwLEY/fake-image-0000000001 fedora vm
2017-06-21 04:40:49,615 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:49,616 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:49,616 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:49,616 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpjYlIv_/tmpqPwLEY/fake-image-0000000001 fedora vm
2017-06-21 04:40:49,617 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:49,617 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:49,617 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:49,617 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:49,617 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:49,621 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:49,626 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:49,626 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:49,627 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpjYlIv_/tmpqPwLEY/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:49,796 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:49,796 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpjYlIv_/tmpqPwLEY/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:49,797 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:49,797 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:50,648 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:51,659 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020050.650538, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234552, mzxid=234552, ctime=1498020050693, mtime=1498020050693, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845773, dataLength=168, numChildren=0, pzxid=234552), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:51,664 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:51,695 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:51,699 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:40:51,713 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:51,718 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 3d950a493339448ca864db504809d96c for node id: 0000000000
2017-06-21 04:40:51,828 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:51,828 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:51,832 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:52,719 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:52,722 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:52,763 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:53,540 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:53,556 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:53,557 DEBUG [tests.PrettyTableMock] [u'100-0000000001', u'pending', u'test_request_list', u'fake-label', '', '']
2017-06-21 04:40:53,557 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:53,558 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:53,781 INFO [nodepool.CleanupWorker] Reset lost request 100-0000000001
2017-06-21 04:40:54,046 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:54,048 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:54,050 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:54,050 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:54,284 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:54,623 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:54,623 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:54,624 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:54,624 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:54,741 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:54,741 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:54,745 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
117
+------------+-------+-----------+------------+-------+-------------+
| Request ID | State | Requestor | Node Types | Nodes | Declined By |
+------------+-------+-----------+------------+-------+-------------+
+------------+-------+-----------+------------+-------+-------------+0
]
tags: -worker-3
time: 2017-06-21 04:40:54.839888Z
tags: worker-3
test: nodepool.tests.test_config_validator.TestConfigValidation.test_good_config
time: 2017-06-21 04:40:54.918470Z
failure: nodepool.tests.test_config_validator.TestConfigValidation.test_good_config [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
B5
2017-06-21 04:40:54,843 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:54,844 INFO [nodepool.cmd.config_validator] validating nodepool/tests/fixtures/config_validate/good.yaml
0
Content-Type: text/x-traceback;charset=utf8,language=python
traceback
334
Traceback (most recent call last):
  File "nodepool/tests/test_config_validator.py", line 33, in test_good_config
    validator.validate()
  File "nodepool/cmd/config_validator.py", line 144, in validate
    schema(config)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/voluptuous/schema_builder.py", line 221, in __call__
    return self._compiled([], data)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/voluptuous/schema_builder.py", line 538, in validate_dict
    return base_validate(path, iteritems(data), out)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/voluptuous/schema_builder.py", line 370, in validate_mapping
    raise er.MultipleInvalid(errors)
voluptuous.error.MultipleInvalid: required key not provided @ data['providers'][2]['cloud']
0
]
tags: -worker-3
time: 2017-06-21 04:40:48.618978Z
tags: worker-1
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_pause
time: 2017-06-21 04:40:55.864147Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_pause [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2C66
2017-06-21 04:40:48,619 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:48,640 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:48,642 INFO [nodepool.cmd.config_validator] validating /tmp/tmpjN9dZ1/tmpT_jRFy
2017-06-21 04:40:48,684 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:48,688 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:48,818 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,823 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,853 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,856 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,869 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,871 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:48,871 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:48,876 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:48,890 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:48,891 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:48,890 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:48,896 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:40:48,899 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpjN9dZ1/tmpCGiXMO/fake-image2-0000000001 fedora vm
2017-06-21 04:40:48,909 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:40:48,909 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:40:48,909 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:48,909 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpjN9dZ1/tmpCGiXMO/fake-image2-0000000001 fedora vm
2017-06-21 04:40:48,910 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:48,912 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:40:48,912 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:40:48,912 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:40:48,912 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:40:48,914 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:40:48,914 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:40:48,915 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:40:48,915 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmpjN9dZ1/tmpCGiXMO/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:49,085 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:40:49,085 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpjN9dZ1/tmpCGiXMO/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:40:49,086 INFO [nodepool.builder.UploadWorker.3] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:40:49,086 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:49,952 INFO [nodepool.NodePool] Creating requests for 1 fake-label2 nodes
2017-06-21 04:40:49,962 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:50,937 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020049.952891, 'declined_by': [], 'node_types': [u'fake-label2'], 'stat': ZnodeStat(czxid=234494, mzxid=234494, ctime=1498020049958, mtime=1498020049958, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845764, dataLength=169, numChildren=0, pzxid=234494), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:50,938 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:50,963 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:50,991 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label2-fake-provider-0000000000 in fake-provider from image fake-image2 for node id: 0000000000
2017-06-21 04:40:50,991 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:51,002 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 93f79ccea4984e5ba84539ef3cf4b9f8 for node id: 0000000000
2017-06-21 04:40:51,095 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020049.962589, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234495, mzxid=234495, ctime=1498020049962, mtime=1498020049962, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845764, dataLength=168, numChildren=0, pzxid=234495), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:51,097 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000001 because images are not available
2017-06-21 04:40:51,111 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000001
2017-06-21 04:40:51,112 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:51,113 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:51,129 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:52,088 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020051.111366, 'declined_by': [u'sf-zuulv3.novalocal-27536-PoolWorker.fake-provider-main'], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234495, mzxid=234576, ctime=1498020049962, mtime=1498020051117, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845764, dataLength=222, numChildren=0, pzxid=234495), 'state': u'failed', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:52,092 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:52,093 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:52,165 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000002', 'reuse': False, 'state_time': 1498020052.094048, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234633, mzxid=234633, ctime=1498020052094, mtime=1498020052094, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845764, dataLength=168, numChildren=0, pzxid=234633), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:52,166 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000002 because images are not available
2017-06-21 04:40:52,167 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000002
2017-06-21 04:40:52,182 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:52,186 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:53,127 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label2
2017-06-21 04:40:53,128 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'nodes': [], 'id': u'100-0000000002', 'reuse': False, 'state_time': 1498020052.16817, 'declined_by': [u'sf-zuulv3.novalocal-27536-PoolWorker.fake-provider-main'], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234633, mzxid=234639, ctime=1498020052094, mtime=1498020052169, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845764, dataLength=221, numChildren=0, pzxid=234633), 'state': u'failed', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:53,131 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:53,133 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:53,271 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000003', 'reuse': False, 'state_time': 1498020053.133155, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234737, mzxid=234737, ctime=1498020053133, mtime=1498020053133, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845764, dataLength=168, numChildren=0, pzxid=234737), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:53,273 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000003 because images are not available
2017-06-21 04:40:53,275 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000003
2017-06-21 04:40:53,814 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:53,822 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:53,823 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:04']
2017-06-21 04:40:53,884 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:53,961 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:53,981 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:05']
2017-06-21 04:40:54,196 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:54,450 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:54,450 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:54,450 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:54,450 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:55,294 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:55,295 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:55,295 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:55,296 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:55,784 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:55,787 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:55,788 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:55,788 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:55,790 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
187
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-1
time: 2017-06-21 04:40:54.919303Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_invalid_image_fails
time: 2017-06-21 04:40:57.105397Z
successful: nodepool.tests.test_launcher.TestLauncher.test_invalid_image_fails [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
879
2017-06-21 04:40:54,920 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:54,942 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:54,947 INFO [nodepool.cmd.config_validator] validating /tmp/tmpCfszPS/tmp7NPwPq
2017-06-21 04:40:54,982 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:54,983 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:54,989 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:55,002 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:55,003 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:55,004 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:55,037 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': True, 'state_time': 1498020054.959934, 'declined_by': [], 'node_types': [u'zorky-zumba'], 'stat': ZnodeStat(czxid=234833, mzxid=234833, ctime=1498020054981, mtime=1498020054981, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845801, dataLength=152, numChildren=0, pzxid=234833), 'state': u'requested', 'requestor': None}>
2017-06-21 04:40:55,038 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because node type(s) [zorky-zumba] not available
2017-06-21 04:40:55,039 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000000
2017-06-21 04:40:56,026 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:56,506 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:56,506 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:56,506 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:56,507 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:57,052 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:57,053 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:57,056 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:40:55.864915Z
tags: worker-1
test: nodepool.tests.test_commands.TestNodepoolCMD.test_image_delete
time: 2017-06-21 04:40:58.417086Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_image_delete [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1501
2017-06-21 04:40:55,866 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:55,890 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:55,892 INFO [nodepool.cmd.config_validator] validating /tmp/tmpxn64sK/tmpMt7ioJ
2017-06-21 04:40:55,940 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:55,942 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:56,062 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:56,081 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:56,084 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:56,091 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:56,097 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:56,119 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:56,121 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpxn64sK/tmp89G6Yb/fake-image-0000000001 fedora vm
2017-06-21 04:40:56,141 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:56,142 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:56,142 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:56,142 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpxn64sK/tmp89G6Yb/fake-image-0000000001 fedora vm
2017-06-21 04:40:56,142 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:56,144 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:56,144 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:56,145 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:56,145 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:56,150 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:56,150 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:56,150 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:56,150 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpxn64sK/tmp89G6Yb/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:56,235 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:56,242 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpxn64sK/tmp89G6Yb/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:56,246 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:56,247 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:57,163 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:57,171 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:57,309 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:57,310 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpxn64sK/tmp89G6Yb/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:57,312 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:57,313 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:57,338 INFO [nodepool.builder.CleanupWorker.0] Removing deleted upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider', 'external_name': u'fake-image-1498020056', 'id': u'0000000001', 'state_time': 1498020057.16615, 'format': u'qcow2', 'stat': ZnodeStat(czxid=234935, mzxid=234971, ctime=1498020056221, mtime=1498020057166, version=2, cversion=0, aversion=0, ephemeralOwner=0, dataLength=165, numChildren=0, pzxid=234935), 'external_id': u'2a284d54cec54ad6b8eef317dde97926', 'state': u'deleting'}>
2017-06-21 04:40:57,338 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image-0000000001 from fake-provider
2017-06-21 04:40:57,338 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 140395837733392 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:57,338 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 140395837733392 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:40:58,200 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:58,200 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:58,360 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:58,363 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:58,364 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:58,364 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:58,367 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:40:58.417719Z
tags: worker-1
test: nodepool.tests.test_config_validator.TestConfigValidation.test_yaml_error
time: 2017-06-21 04:40:58.432131Z
successful: nodepool.tests.test_config_validator.TestConfigValidation.test_yaml_error [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
BB
2017-06-21 04:40:58,418 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:58,419 INFO [nodepool.cmd.config_validator] validating nodepool/tests/fixtures/config_validate/yaml_error.yaml
0
]
tags: -worker-1
time: 2017-06-21 04:40:52.640722Z
tags: worker-0
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_upload_pause
time: 2017-06-21 04:40:58.836399Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_upload_pause [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3981
2017-06-21 04:40:52,641 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:52,661 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:52,664 INFO [nodepool.cmd.config_validator] validating /tmp/tmpCmn36s/tmpAH4PvA
2017-06-21 04:40:52,700 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:52,703 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:52,791 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:52,809 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:52,823 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:52,825 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:52,854 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:52,858 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpCmn36s/tmpVVHksj/fake-image-0000000001 fedora vm
2017-06-21 04:40:52,867 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:52,864 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:52,872 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:52,875 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:52,875 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:52,875 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:52,875 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpCmn36s/tmpVVHksj/fake-image-0000000001 fedora vm
2017-06-21 04:40:52,876 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:52,877 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:52,878 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:52,878 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:52,879 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:52,880 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:52,882 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:52,882 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:52,882 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:52,882 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpCmn36s/tmpVVHksj/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:52,892 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:52,905 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:52,908 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:52,956 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:40:52,970 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpCmn36s/tmpVVHksj/fake-image2-0000000001 fedora vm
2017-06-21 04:40:53,012 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:40:53,013 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:40:53,013 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:53,014 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpCmn36s/tmpVVHksj/fake-image2-0000000001 fedora vm
2017-06-21 04:40:53,014 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:40:53,022 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:40:53,022 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:40:53,022 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:40:53,022 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:40:53,030 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:40:53,030 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:40:53,031 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:40:53,031 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmpCmn36s/tmpVVHksj/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:53,146 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:40:53,179 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpCmn36s/tmpVVHksj/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:40:53,194 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:53,194 INFO [nodepool.builder.UploadWorker.0] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:40:53,986 INFO [nodepool.NodePool] Creating requests for 1 fake-label2 nodes
2017-06-21 04:40:54,058 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:54,970 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020053.98628, 'declined_by': [], 'node_types': [u'fake-label2'], 'stat': ZnodeStat(czxid=234787, mzxid=234787, ctime=1498020054042, mtime=1498020054042, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845790, dataLength=168, numChildren=0, pzxid=234787), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:54,971 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:54,996 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:55,006 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label2-fake-provider-0000000000 in fake-provider from image fake-image2 for node id: 0000000000
2017-06-21 04:40:55,007 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:55,011 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server fee40e6ad058484bad02041af736aea1 for node id: 0000000000
2017-06-21 04:40:55,030 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020054.05873, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234789, mzxid=234789, ctime=1498020054059, mtime=1498020054059, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845790, dataLength=167, numChildren=0, pzxid=234789), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:55,045 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000001 because images are not available
2017-06-21 04:40:55,048 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000001
2017-06-21 04:40:55,120 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:55,120 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:55,130 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020055.048277, 'declined_by': [u'sf-zuulv3.novalocal-27535-PoolWorker.fake-provider-main'], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234789, mzxid=234850, ctime=1498020054059, mtime=1498020055051, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845790, dataLength=222, numChildren=0, pzxid=234789), 'state': u'failed', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:55,131 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:55,135 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:55,151 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:56,082 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000002', 'reuse': False, 'state_time': 1498020055.151804, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234856, mzxid=234856, ctime=1498020055152, mtime=1498020055152, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845790, dataLength=168, numChildren=0, pzxid=234856), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:56,084 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000002 because images are not available
2017-06-21 04:40:56,084 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000002
2017-06-21 04:40:56,104 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:56,107 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:56,265 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label2
2017-06-21 04:40:56,266 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'nodes': [], 'id': u'100-0000000002', 'reuse': False, 'state_time': 1498020056.085035, 'declined_by': [u'sf-zuulv3.novalocal-27535-PoolWorker.fake-provider-main'], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234856, mzxid=234916, ctime=1498020055152, mtime=1498020056087, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845790, dataLength=222, numChildren=0, pzxid=234856), 'state': u'failed', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:56,268 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:56,271 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:56,964 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:56,974 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:56,975 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:04']
2017-06-21 04:40:56,975 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:03']
2017-06-21 04:40:57,037 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:57,091 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:57,102 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:04']
2017-06-21 04:40:57,102 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:04']
2017-06-21 04:40:57,186 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000003', 'reuse': False, 'state_time': 1498020056.272014, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234941, mzxid=234941, ctime=1498020056272, mtime=1498020056272, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845790, dataLength=168, numChildren=0, pzxid=234941), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:57,190 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000003 because images are not available
2017-06-21 04:40:57,194 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000003
2017-06-21 04:40:57,228 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:57,250 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:57,253 DEBUG [tests.PrettyTableMock] [u'0000000001', u'0000000001', u'fake-provider', u'fake-image2', u'fake-image2-1498020053', u'b775a0408d054744a1f7a7fe15adcc34', u'ready', '00:00:00:04']
2017-06-21 04:40:57,419 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'nodes': [], 'id': u'100-0000000003', 'reuse': False, 'state_time': 1498020057.19475, 'declined_by': [u'sf-zuulv3.novalocal-27535-PoolWorker.fake-provider-main'], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234941, mzxid=234977, ctime=1498020056272, mtime=1498020057206, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845790, dataLength=221, numChildren=0, pzxid=234941), 'state': u'failed', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:57,428 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:57,442 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:57,487 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:57,508 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:57,509 DEBUG [tests.PrettyTableMock] [u'0000000001', u'0000000001', u'fake-provider', u'fake-image2', u'fake-image2-1498020053', u'b775a0408d054744a1f7a7fe15adcc34', u'ready', '00:00:00:04']
2017-06-21 04:40:57,524 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:57,953 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:57,953 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:57,953 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:57,953 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:58,213 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:58,215 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:58,215 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:58,215 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:58,719 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:58,727 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:58,727 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:58,727 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:58,730 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
4A7
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
| Build ID | Upload ID | Provider | Image | Provider Image Name | Provider Image ID | State | Age |
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
| Build ID | Upload ID | Provider | Image | Provider Image Name | Provider Image ID | State | Age |
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+0
]
tags: -worker-0
time: 2017-06-21 04:40:58.837101Z
tags: worker-0
test: nodepool.tests.test_commands.TestNodepoolCMD.test_image_delete_invalid
time: 2017-06-21 04:40:58.927812Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_image_delete_invalid [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1EA
2017-06-21 04:40:58,838 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:58,854 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:58,857 INFO [nodepool.cmd.config_validator] validating /tmp/tmpVEzVDg/tmptTgX3C
2017-06-21 04:40:58,890 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:58,898 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:58,905 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
16
Image upload not found0
]
tags: -worker-0
time: 2017-06-21 04:40:58.928315Z
tags: worker-0
test: nodepool.tests.test_config_validator.TestConfigValidation.test_schema
time: 2017-06-21 04:40:58.936755Z
successful: nodepool.tests.test_config_validator.TestConfigValidation.test_schema [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
BD
2017-06-21 04:40:58,932 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:58,933 INFO [nodepool.cmd.config_validator] validating nodepool/tests/fixtures/config_validate/schema_error.yaml
0
]
tags: -worker-0
time: 2017-06-21 04:40:52.960228Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_list_nodes
time: 2017-06-21 04:40:58.969888Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_list_nodes [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1C25
2017-06-21 04:40:52,961 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:52,980 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:52,987 INFO [nodepool.cmd.config_validator] validating /tmp/tmpyyNydr/tmpkSVmT0
2017-06-21 04:40:53,066 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:53,070 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:53,169 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:53,194 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:53,225 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:53,227 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:53,229 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpyyNydr/tmp_U42Zv/fake-image-0000000001 fedora vm
2017-06-21 04:40:53,242 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:53,243 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:53,239 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:53,245 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:53,245 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:53,245 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:53,245 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpyyNydr/tmp_U42Zv/fake-image-0000000001 fedora vm
2017-06-21 04:40:53,245 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:53,249 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:53,249 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:53,249 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:53,249 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:53,252 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:53,252 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:53,252 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:53,252 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:53,253 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpyyNydr/tmp_U42Zv/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:53,264 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:53,266 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:53,267 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:53,268 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:53,372 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:53,372 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpyyNydr/tmp_U42Zv/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:53,373 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:53,376 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:54,339 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:55,306 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020054.339951, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=234794, mzxid=234794, ctime=1498020054353, mtime=1498020054353, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845795, dataLength=168, numChildren=0, pzxid=234794), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:55,307 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:40:55,327 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:40:55,336 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:40:55,337 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:55,341 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 0e4b980a80b54a99910c8ad8df540b95 for node id: 0000000000
2017-06-21 04:40:55,444 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:40:55,445 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:40:55,453 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:40:56,341 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:40:56,344 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:40:56,693 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:40:57,165 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:57,192 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:57,195 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-27537-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'0e4b980a80b54a99910c8ad8df540b95', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:40:57,394 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:40:57,857 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:40:57,858 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:40:57,858 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:40:57,858 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:40:58,365 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:58,369 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:40:58,369 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:40:58,369 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:40:58,880 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:40:58,885 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:40:58,888 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:40:58,888 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:40:58,892 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
217
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+0
]
tags: -worker-2
time: 2017-06-21 04:40:58.970480Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_disabled_label
time: 2017-06-21 04:41:01.315091Z
successful: nodepool.tests.test_launcher.TestLauncher.test_disabled_label [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1278
2017-06-21 04:40:58,971 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:59,004 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:59,011 INFO [nodepool.cmd.config_validator] validating /tmp/tmpGSHK2z/tmpfO3rN6
2017-06-21 04:40:59,044 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:59,049 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:59,123 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,125 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,158 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,183 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,186 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,192 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,196 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:59,205 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:59,209 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:59,210 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:59,210 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:59,210 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:59,214 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpGSHK2z/tmphR66yf/fake-image-0000000001 fedora vm
2017-06-21 04:40:59,238 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:59,239 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:59,239 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:59,239 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpGSHK2z/tmphR66yf/fake-image-0000000001 fedora vm
2017-06-21 04:40:59,239 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:59,254 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:59,254 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:59,254 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:59,254 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:59,266 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:59,267 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:59,267 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:59,267 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpGSHK2z/tmphR66yf/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:59,335 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,335 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpGSHK2z/tmphR66yf/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:59,335 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:59,336 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:00,129 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:00,129 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:00,215 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:00,219 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:00,220 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:00,220 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:00,222 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:00,717 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:00,717 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:00,717 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:00,717 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:01,256 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:01,260 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:01,263 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:40:57.105900Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_label_provider
time: 2017-06-21 04:41:03.772810Z
successful: nodepool.tests.test_launcher.TestLauncher.test_label_provider [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
22F6
2017-06-21 04:40:57,107 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:57,122 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:57,126 INFO [nodepool.cmd.config_validator] validating /tmp/tmpaIjqUl/tmpH72WG_
2017-06-21 04:40:57,178 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:57,182 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:57,290 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:57,290 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:57,298 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:57,299 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:57,315 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:57,315 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:57,330 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:57,330 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:57,345 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:57,346 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:57,349 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:57,349 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:57,350 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:57,356 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:57,362 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:57,363 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:57,363 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:40:57,364 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider2-main
2017-06-21 04:40:57,372 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:57,375 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpaIjqUl/tmpxEiOyP/fake-image-0000000001 fedora vm
2017-06-21 04:40:57,385 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:57,385 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:57,385 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:57,385 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpaIjqUl/tmpxEiOyP/fake-image-0000000001 fedora vm
2017-06-21 04:40:57,386 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:57,386 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:57,386 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:57,386 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:57,386 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:57,388 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:57,391 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:57,391 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:57,391 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpaIjqUl/tmpxEiOyP/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:57,546 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:57,547 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpaIjqUl/tmpxEiOyP/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:57,548 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:57,548 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:57,602 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:57,602 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpaIjqUl/tmpxEiOyP/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:40:57,603 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:40:57,603 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:58,442 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:40:59,451 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020058.443226, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235076, mzxid=235076, ctime=1498020058452, mtime=1498020058452, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845816, dataLength=168, numChildren=0, pzxid=235076), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:40:59,451 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because node type(s) [fake-label] not available
2017-06-21 04:41:00,505 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020058.443226, 'declined_by': [u'sf-zuulv3.novalocal-27538-PoolWorker.fake-provider-main'], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235076, mzxid=235297, ctime=1498020058452, mtime=1498020059470, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845816, dataLength=225, numChildren=0, pzxid=235076), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:00,511 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:00,584 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:00,594 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider2-0000000000 in fake-provider2 from image fake-image for node id: 0000000000
2017-06-21 04:41:00,594 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:00,597 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 44c508f45383447a884f39f165199709 for node id: 0000000000
2017-06-21 04:41:00,703 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:00,703 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:00,710 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:01,628 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:01,634 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:01,713 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:02,269 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:02,269 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:02,610 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:02,613 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:02,615 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:02,615 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:02,661 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:02,911 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:02,911 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:02,911 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:02,912 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:03,509 INFO [nodepool.PoolWorker.fake-provider2-main] PoolWorker.fake-provider2-main received stop
2017-06-21 04:41:03,509 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider2-main
2017-06-21 04:41:03,665 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:03,666 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:03,669 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:40:58.937162Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_fail_request_on_launch_failure
time: 2017-06-21 04:41:04.761541Z
successful: nodepool.tests.test_launcher.TestLauncher.test_fail_request_on_launch_failure [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1FB8
2017-06-21 04:40:58,939 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:58,969 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:58,993 INFO [nodepool.cmd.config_validator] validating /tmp/tmpsVdvFO/tmpLY7piB
2017-06-21 04:40:59,079 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:59,082 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:59,132 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,149 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,181 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:59,186 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpsVdvFO/tmpG5p1uw/fake-image-0000000001 fedora vm
2017-06-21 04:40:59,196 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:59,196 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:59,197 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:59,197 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpsVdvFO/tmpG5p1uw/fake-image-0000000001 fedora vm
2017-06-21 04:40:59,197 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:59,199 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:59,200 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:59,201 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:59,202 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:59,202 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:59,203 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:59,204 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:59,204 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpsVdvFO/tmpG5p1uw/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:59,210 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,212 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,218 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:40:59,268 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,271 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpsVdvFO/tmpG5p1uw/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:40:59,272 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:40:59,273 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:00,171 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:00,171 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:00,177 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:00,188 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:00,189 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:00,188 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:01,277 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': True, 'state_time': 1498020060.224602, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235360, mzxid=235360, ctime=1498020060229, mtime=1498020060229, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845830, dataLength=151, numChildren=0, pzxid=235360), 'state': u'requested', 'requestor': None}>
2017-06-21 04:41:01,299 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:01,346 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:01,355 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:01,355 ERROR [nodepool.NodeLauncher-0000000000] Launch attempt 1/2 failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:41:01,360 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:01,360 ERROR [nodepool.NodeLauncher-0000000000] Launch attempt 2/2 failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:41:01,360 ERROR [nodepool.NodeLauncher-0000000000] Launch failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 238, in run
    self._run()
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:41:02,376 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because nodes failed
2017-06-21 04:41:02,380 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000000
2017-06-21 04:41:02,383 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:02,762 INFO [nodepool.DeletedNodeWorker] Deleting failed instance None from fake-provider
2017-06-21 04:41:02,778 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=None
2017-06-21 04:41:03,290 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:03,768 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:03,768 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:03,768 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:03,769 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:04,397 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:04,397 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:04,397 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:04,397 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:04,677 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:04,681 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:04,681 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:04,682 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:04,685 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:40:58.433678Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_dib_upload_fail
time: 2017-06-21 04:41:07.108334Z
successful: nodepool.tests.test_launcher.TestLauncher.test_dib_upload_fail [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
10000
2017-06-21 04:40:58,434 DEBUG [nodepool.test] set up fakes
2017-06-21 04:40:58,463 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:58,467 INFO [nodepool.cmd.config_validator] validating /tmp/tmpMqNv3D/tmpkcrIoS
2017-06-21 04:40:58,497 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:58,500 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:40:58,610 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:40:58,610 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:58,611 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:40:58,612 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:40:58,614 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:58,616 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001 fedora vm
2017-06-21 04:40:58,629 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:40:58,630 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:40:58,631 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:58,639 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001 fedora vm
2017-06-21 04:40:58,640 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:40:58,645 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:40:58,645 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:40:58,647 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:40:58,647 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:40:58,648 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:58,649 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:40:58,650 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:40:58,650 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:40:58,650 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:40:58,650 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:58,651 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:40:58,651 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:40:58,665 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:40:58,665 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:58,676 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:40:58,677 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:40:58,678 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:40:58,685 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:40:58,700 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:40:58,701 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:40:58,702 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider1-main
2017-06-21 04:40:58,703 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider2-main
2017-06-21 04:40:58,716 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:58,716 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:58,717 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:58,770 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:58,774 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:40:58,776 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:40:58,775 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:40:58,818 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:58,818 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:58,819 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:58,865 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:58,865 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:58,865 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:58,984 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:58,988 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:58,989 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,041 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,043 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,043 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,191 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,191 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,191 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,263 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,263 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,264 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,285 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000001', 'state_time': 1498020058.717985, 'format': None, 'stat': ZnodeStat(czxid=235102, mzxid=235109, ctime=1498020058711, mtime=1498020058731, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235102), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:40:59,289 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000003', 'state_time': 1498020058.866106, 'format': None, 'stat': ZnodeStat(czxid=235157, mzxid=235158, ctime=1498020058863, mtime=1498020058866, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235157), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:40:59,296 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000002', 'state_time': 1498020058.819344, 'format': None, 'stat': ZnodeStat(czxid=235142, mzxid=235146, ctime=1498020058814, mtime=1498020058822, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235142), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:40:59,301 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000005', 'state_time': 1498020059.043602, 'format': None, 'stat': ZnodeStat(czxid=235206, mzxid=235208, ctime=1498020059039, mtime=1498020059045, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235206), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:40:59,320 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000004', 'state_time': 1498020058.995033, 'format': None, 'stat': ZnodeStat(czxid=235194, mzxid=235198, ctime=1498020058968, mtime=1498020058999, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235194), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:40:59,330 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000007', 'state_time': 1498020059.264335, 'format': None, 'stat': ZnodeStat(czxid=235245, mzxid=235248, ctime=1498020059261, mtime=1498020059266, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235245), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:40:59,343 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000006', 'state_time': 1498020059.191915, 'format': None, 'stat': ZnodeStat(czxid=235221, mzxid=235223, ctime=1498020059187, mtime=1498020059192, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235221), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:40:59,354 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,354 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,355 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,469 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,476 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,476 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,517 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,518 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,518 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,701 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,701 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,702 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,768 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,768 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,768 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:40:59,786 INFO [nodepool.NodePool] Creating requests for 2 fake-label nodes
2017-06-21 04:40:59,794 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:40:59,795 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:40:59,795 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:00,043 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:00,043 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:00,043 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:00,046 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000012', 'state_time': 1498020059.769093, 'format': None, 'stat': ZnodeStat(czxid=235319, mzxid=235320, ctime=1498020059766, mtime=1498020059770, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235319), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,060 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000011', 'state_time': 1498020059.702689, 'format': None, 'stat': ZnodeStat(czxid=235311, mzxid=235312, ctime=1498020059698, mtime=1498020059714, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235311), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,067 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000013', 'state_time': 1498020059.797376, 'format': None, 'stat': ZnodeStat(czxid=235323, mzxid=235325, ctime=1498020059789, mtime=1498020059798, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235323), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,073 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000009', 'state_time': 1498020059.478868, 'format': None, 'stat': ZnodeStat(czxid=235296, mzxid=235300, ctime=1498020059468, mtime=1498020059480, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235296), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,079 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000008', 'state_time': 1498020059.355365, 'format': None, 'stat': ZnodeStat(czxid=235285, mzxid=235286, ctime=1498020059352, mtime=1498020059355, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235285), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,086 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000010', 'state_time': 1498020059.518525, 'format': None, 'stat': ZnodeStat(czxid=235307, mzxid=235308, ctime=1498020059515, mtime=1498020059519, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235307), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,257 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:00,257 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:00,258 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:00,496 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:00,498 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:00,499 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:00,854 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000014', 'state_time': 1498020060.044167, 'format': None, 'stat': ZnodeStat(czxid=235337, mzxid=235338, ctime=1498020060038, mtime=1498020060051, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235337), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,857 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:00,858 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:00,858 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:00,860 INFO [nodepool.PoolWorker.fake-provider1-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020059.787237, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235328, mzxid=235328, ctime=1498020059805, mtime=1498020059805, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845822, dataLength=168, numChildren=0, pzxid=235328), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:00,864 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000016', 'state_time': 1498020060.499869, 'format': None, 'stat': ZnodeStat(czxid=235376, mzxid=235380, ctime=1498020060494, mtime=1498020060508, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235376), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,877 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because images are not available
2017-06-21 04:41:00,885 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000015', 'state_time': 1498020060.25838, 'format': None, 'stat': ZnodeStat(czxid=235365, mzxid=235368, ctime=1498020060253, mtime=1498020060260, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=111, numChildren=0, pzxid=235365), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:00,888 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020059.807656, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235329, mzxid=235329, ctime=1498020059807, mtime=1498020059807, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845822, dataLength=168, numChildren=0, pzxid=235329), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:00,895 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:41:00,917 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000001
2017-06-21 04:41:00,922 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider2-0000000000 in fake-provider2 from image fake-image for node id: 0000000000
2017-06-21 04:41:00,922 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:00,926 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server b84d1ae66e57473e8c3e0a69ef28fe7e for node id: 0000000000
2017-06-21 04:41:01,038 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:01,038 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:01,045 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:01,074 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:01,074 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:01,075 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:01,347 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:01,347 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:01,347 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:01,428 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000018', 'state_time': 1498020061.075896, 'format': None, 'stat': ZnodeStat(czxid=235440, mzxid=235444, ctime=1498020061066, mtime=1498020061083, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235440), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:01,468 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000017', 'state_time': 1498020060.859475, 'format': None, 'stat': ZnodeStat(czxid=235406, mzxid=235414, ctime=1498020060855, mtime=1498020060865, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235406), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:01,490 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000019', 'state_time': 1498020061.348046, 'format': None, 'stat': ZnodeStat(czxid=235490, mzxid=235493, ctime=1498020061343, mtime=1498020061349, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235490), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:01,570 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:01,570 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:01,571 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:01,832 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:01,832 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:01,833 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:01,939 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020059.787237, 'declined_by': [u'sf-zuulv3.novalocal-27536-PoolWorker.fake-provider1-main'], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235328, mzxid=235422, ctime=1498020059805, mtime=1498020060884, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845822, dataLength=226, numChildren=0, pzxid=235328), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:01,942 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:02,042 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000000
2017-06-21 04:41:02,069 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:41:02,075 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000001
2017-06-21 04:41:02,082 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider2-0000000001 in fake-provider2 from image fake-image for node id: 0000000001
2017-06-21 04:41:02,087 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:02,088 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:02,089 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:02,089 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:02,100 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server 1a806a524fb844b3860647b920c5a889 for node id: 0000000001
2017-06-21 04:41:02,134 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:02,135 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:02,135 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000022', 'state_time': 1498020062.09593, 'format': None, 'stat': ZnodeStat(czxid=235568, mzxid=235572, ctime=1498020062084, mtime=1498020062106, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=111, numChildren=0, pzxid=235568), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:02,136 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:02,145 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000021', 'state_time': 1498020061.833236, 'format': None, 'stat': ZnodeStat(czxid=235551, mzxid=235553, ctime=1498020061826, mtime=1498020061843, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235551), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:02,151 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000020', 'state_time': 1498020061.571246, 'format': None, 'stat': ZnodeStat(czxid=235514, mzxid=235519, ctime=1498020061564, mtime=1498020061574, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235514), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:02,202 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:02,202 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:41:02,207 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:41:02,355 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:02,356 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:02,356 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:02,597 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:02,597 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:02,597 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:02,677 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000023', 'state_time': 1498020062.136521, 'format': None, 'stat': ZnodeStat(czxid=235578, mzxid=235580, ctime=1498020062132, mtime=1498020062137, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235578), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:02,682 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000025', 'state_time': 1498020062.598003, 'format': None, 'stat': ZnodeStat(czxid=235617, mzxid=235619, ctime=1498020062595, mtime=1498020062599, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235617), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:02,691 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000024', 'state_time': 1498020062.356728, 'format': None, 'stat': ZnodeStat(czxid=235599, mzxid=235603, ctime=1498020062353, mtime=1498020062359, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235599), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:02,815 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:02,816 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:02,816 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:02,832 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:02,832 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:02,832 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:03,075 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:03,076 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:03,077 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:03,101 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:03,103 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000000
2017-06-21 04:41:03,287 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:03,296 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:03,296 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:03,354 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:03,354 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:03,354 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:03,362 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000027', 'state_time': 1498020062.832983, 'format': None, 'stat': ZnodeStat(czxid=235647, mzxid=235648, ctime=1498020062830, mtime=1498020062833, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235647), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:03,367 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000026', 'state_time': 1498020062.816949, 'format': None, 'stat': ZnodeStat(czxid=235643, mzxid=235644, ctime=1498020062809, mtime=1498020062818, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235643), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:03,373 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000029', 'state_time': 1498020063.298713, 'format': None, 'stat': ZnodeStat(czxid=235670, mzxid=235671, ctime=1498020063284, mtime=1498020063303, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235670), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:03,378 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000028', 'state_time': 1498020063.078456, 'format': None, 'stat': ZnodeStat(czxid=235661, mzxid=235663, ctime=1498020063071, mtime=1498020063080, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235661), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:03,383 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000030', 'state_time': 1498020063.354878, 'format': None, 'stat': ZnodeStat(czxid=235678, mzxid=235679, ctime=1498020063350, mtime=1498020063356, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235678), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:03,509 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:03,513 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:03,513 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:03,554 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:03,555 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:03,555 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:03,655 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:03,675 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:03,678 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:03,777 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:03,777 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:03,777 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:03,841 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:03,841 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:03,842 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:04,015 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:04,016 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:04,016 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:04,049 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:04,084 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:04,084 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:04,085 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:04,105 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000034', 'state_time': 1498020063.778017, 'format': None, 'stat': ZnodeStat(czxid=235752, mzxid=235754, ctime=1498020063774, mtime=1498020063779, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235752), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:04,111 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000033', 'state_time': 1498020063.688965, 'format': None, 'stat': ZnodeStat(czxid=235706, mzxid=235715, ctime=1498020063653, mtime=1498020063695, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235706), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:04,118 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000036', 'state_time': 1498020064.016681, 'format': None, 'stat': ZnodeStat(czxid=235778, mzxid=235779, ctime=1498020064012, mtime=1498020064036, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235778), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:04,126 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000035', 'state_time': 1498020063.842741, 'format': None, 'stat': ZnodeStat(czxid=235761, mzxid=235762, ctime=1498020063839, mtime=1498020063843, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235761), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:04,139 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000037', 'state_time': 1498020064.085487, 'format': None, 'stat': ZnodeStat(czxid=235794, mzxid=235799, ctime=1498020064081, mtime=1498020064089, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235794), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:04,156 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000032', 'state_time': 1498020063.555698, 'format': None, 'stat': ZnodeStat(czxid=235701, mzxid=235702, ctime=1498020063550, mtime=1498020063556, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235701), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:04,165 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'image_name': u'fake-image', 'provider_name': 'fake-provider1', 'external_name': None, 'id': u'0000000031', 'state_time': 1498020063.519072, 'format': None, 'stat': ZnodeStat(czxid=235693, mzxid=235694, ctime=1498020063506, mtime=1498020063526, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=235693), 'external_id': None, 'state': u'failed'}>
2017-06-21 04:41:04,290 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:04,291 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:04,291 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/build1314
er.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:04,309 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:04,309 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:04,310 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:04,526 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:04,527 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:04,527 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:04,552 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:04,552 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpMqNv3D/tmpVp9hP4/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:04,553 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:41:04,580 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:04,581 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:04,678 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:04,683 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:04,687 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:04,687 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:04,996 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:05,332 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:05,332 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:05,333 INFO [nodepool.PoolWorker.fake-provider2-main] PoolWorker.fake-provider2-main received stop
2017-06-21 04:41:05,333 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider2-main
2017-06-21 04:41:06,129 INFO [nodepool.PoolWorker.fake-provider1-main] PoolWorker.fake-provider1-main received stop
2017-06-21 04:41:06,129 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider1-main
2017-06-21 04:41:06,976 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:06,976 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:06,981 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:07.111455Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_deallocation
time: 2017-06-21 04:41:08.456482Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_deallocation [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
10F0
2017-06-21 04:41:07,113 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:07,138 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:07,154 INFO [nodepool.cmd.config_validator] validating /tmp/tmpQyBUKb/tmpUUYG43
2017-06-21 04:41:07,177 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:07,183 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:07,241 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:07,258 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:07,266 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:07,276 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:07,284 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:07,287 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpQyBUKb/tmphtvazH/fake-image-0000000001 fedora vm
2017-06-21 04:41:07,297 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:07,298 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:07,298 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:07,299 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpQyBUKb/tmphtvazH/fake-image-0000000001 fedora vm
2017-06-21 04:41:07,299 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:07,306 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:07,306 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:07,308 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:07,309 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:07,312 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:07,313 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:07,313 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:07,314 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:07,315 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpQyBUKb/tmphtvazH/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:07,317 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:07,321 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:07,334 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:07,343 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:07,348 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:07,348 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:07,388 DEBUG [nodepool.DeletedNodeWorker] Unallocating node 0000000000 with missing request MISSING
2017-06-21 04:41:07,402 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:07,402 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:07,835 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:07,839 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:07,840 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:07,840 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:07,862 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:07,906 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:07,906 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:07,907 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:07,907 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:08,406 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:08,406 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:08,410 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:04.762127Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_lost_requests
time: 2017-06-21 04:41:09.196052Z
successful: nodepool.tests.test_launcher.TestLauncher.test_lost_requests [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1736
2017-06-21 04:41:04,765 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:04,796 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:04,823 INFO [nodepool.cmd.config_validator] validating /tmp/tmppUk0Ew/tmpquTso5
2017-06-21 04:41:04,852 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:04,857 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:04,930 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,957 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,960 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,961 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,972 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,975 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:04,978 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmppUk0Ew/tmpd3UYsE/fake-image-0000000001 fedora vm
2017-06-21 04:41:04,988 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:04,989 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:04,989 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:04,989 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmppUk0Ew/tmpd3UYsE/fake-image-0000000001 fedora vm
2017-06-21 04:41:04,989 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:04,993 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:04,994 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:04,994 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:04,995 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:04,997 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:04,997 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:04,997 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:04,997 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmppUk0Ew/tmpd3UYsE/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:05,093 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:05,100 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmppUk0Ew/tmpd3UYsE/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:05,104 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:05,103 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:05,961 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:05,962 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:05,981 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:05,985 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:05,993 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:05,993 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:06,025 DEBUG [nodepool.CleanupWorker] Unallocated lost request node 0000000000
2017-06-21 04:41:06,030 INFO [nodepool.CleanupWorker] Reset lost request 100-0000000000
2017-06-21 04:41:07,022 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': True, 'state_time': 1498020066.0252, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235889, mzxid=235936, ctime=1498020064807, mtime=1498020066026, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845849, dataLength=160, numChildren=0, pzxid=235889), 'state': u'requested', 'requestor': u'test_nodepool'}>
2017-06-21 04:41:07,024 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:07,048 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked existing node 0000000000 for request 100-0000000000
2017-06-21 04:41:07,075 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:07,078 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:07,892 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:07,892 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:08,180 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:08,185 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:08,188 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:08,188 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:08,654 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:09,012 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:09,012 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:09,012 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:09,013 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:09,102 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:09,103 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:09,106 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:01.315662Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_leaked_node
time: 2017-06-21 04:41:11.117086Z
successful: nodepool.tests.test_launcher.TestLauncher.test_leaked_node [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2E16
2017-06-21 04:41:01,316 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:01,339 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:01,346 INFO [nodepool.cmd.config_validator] validating /tmp/tmpZMgl68/tmp28RNTv
2017-06-21 04:41:01,376 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:01,381 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:01,464 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:01,507 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:01,513 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:01,532 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:01,540 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:01,545 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:01,547 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:01,552 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:01,551 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:01,556 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpZMgl68/tmpSid6Q1/fake-image-0000000001 fedora vm
2017-06-21 04:41:01,560 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:01,567 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:01,568 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:01,570 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:01,570 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:01,571 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:01,571 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpZMgl68/tmpSid6Q1/fake-image-0000000001 fedora vm
2017-06-21 04:41:01,571 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:01,572 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:01,572 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:01,572 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:01,572 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:01,573 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:01,573 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:01,575 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:01,576 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpZMgl68/tmpSid6Q1/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:01,638 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:01,652 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpZMgl68/tmpSid6Q1/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:01,653 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:01,654 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:02,421 DEBUG [tests] Waiting for initial pool...
2017-06-21 04:41:02,642 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:03,698 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020062.642641, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235625, mzxid=235625, ctime=1498020062649, mtime=1498020062649, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845841, dataLength=168, numChildren=0, pzxid=235625), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:03,704 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:03,737 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:03,761 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:03,763 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:03,769 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 83779df19994452f8db2da50d0fa7118 for node id: 0000000000
2017-06-21 04:41:03,877 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:03,878 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:03,889 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:04,794 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:04,800 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:05,980 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:06,430 DEBUG [tests] ...done waiting for initial pool.
2017-06-21 04:41:06,430 DEBUG [tests] Delete node db record so instance is leaked...
2017-06-21 04:41:06,437 DEBUG [tests] ...deleted node db so instance is leaked.
2017-06-21 04:41:06,438 DEBUG [tests] Waiting for replacement pool...
2017-06-21 04:41:06,941 WARNING [nodepool.CleanupWorker] Deleting leaked instance fake-label-fake-provider-0000000000 (83779df19994452f8db2da50d0fa7118) in fake-provider (unknown node id 0000000000)
2017-06-21 04:41:06,942 INFO [nodepool.CleanupWorker] Deleting None instance 83779df19994452f8db2da50d0fa7118 from fake-provider
2017-06-21 04:41:06,948 DEBUG [nodepool.FakeOpenStackCloud] Get 83779df19994452f8db2da50d0fa7118 in [<Instance 66854672 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7ff22401fa90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=83779df19994452f8db2da50d0fa7118 should_fail=False location=<Server.Location 66851600 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x3fc18d0> key_name=None>]
2017-06-21 04:41:06,948 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 83779df19994452f8db2da50d0fa7118
2017-06-21 04:41:06,948 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 66854672 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7ff22401fa90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=83779df19994452f8db2da50d0fa7118 should_fail=False location=<Server.Location 66851600 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x3fc18d0> key_name=None>]
2017-06-21 04:41:06,948 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:41:06,948 DEBUG [nodepool.FakeOpenStackCloud] Get 83779df19994452f8db2da50d0fa7118 in []
2017-06-21 04:41:06,997 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:07,174 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 83779df19994452f8db2da50d0fa7118 from fake-provider
2017-06-21 04:41:07,181 DEBUG [nodepool.FakeOpenStackCloud] Get 83779df19994452f8db2da50d0fa7118 in []
2017-06-21 04:41:07,181 INFO [nodepool.NodeDeleter] Instance 83779df19994452f8db2da50d0fa7118 not found in provider fake-provider
2017-06-21 04:41:07,181 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000001, state=deleting, external_id=83779df19994452f8db2da50d0fa7118
2017-06-21 04:41:07,942 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020066.997274, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=235963, mzxid=235963, ctime=1498020066997, mtime=1498020066997, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845841, dataLength=168, numChildren=0, pzxid=235963), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:07,949 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:41:07,993 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000002 for request 100-0000000001
2017-06-21 04:41:08,028 INFO [nodepool.NodeLauncher-0000000002] Creating server with hostname fake-label-fake-provider-0000000002 in fake-provider from image fake-image for node id: 0000000002
2017-06-21 04:41:08,030 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:08,034 DEBUG [nodepool.NodeLauncher-0000000002] Waiting for server ed5f32e090fb4b67b31ead76ba81ae00 for node id: 0000000002
2017-06-21 04:41:08,148 DEBUG [nodepool.NodeLauncher-0000000002] Node 0000000002 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:08,148 DEBUG [nodepool.NodeLauncher-0000000002] Gathering host keys for node 0000000002
2017-06-21 04:41:08,170 INFO [nodepool.NodeLauncher-0000000002] Node id 0000000002 is ready
2017-06-21 04:41:09,027 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:41:09,029 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000002 for request 100-0000000001
2017-06-21 04:41:09,123 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:09,459 DEBUG [tests] ...done waiting for replacement pool.
2017-06-21 04:41:09,460 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:09,460 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:09,825 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:09,829 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:09,830 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:09,830 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:10,085 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:10,219 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:10,219 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:10,219 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:10,219 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:11,050 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:11,051 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:11,053 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:03.773431Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_multiple_pools
time: 2017-06-21 04:41:12.736345Z
successful: nodepool.tests.test_launcher.TestLauncher.test_multiple_pools [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2912
2017-06-21 04:41:03,774 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:03,795 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:03,799 INFO [nodepool.cmd.config_validator] validating /tmp/tmp_cah3a/tmpJwySLQ
2017-06-21 04:41:03,841 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:03,845 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:03,936 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:03,940 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp_cah3a/tmpoiExjl/fake-image-0000000001 fedora vm
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp_cah3a/tmpoiExjl/fake-image-0000000001 fedora vm
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:03,959 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:03,967 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:03,967 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:03,969 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:03,969 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp_cah3a/tmpoiExjl/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:04,002 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,011 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,061 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,065 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,068 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,069 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:04,078 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:04,082 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:04,104 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:04,106 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmp_cah3a/tmpoiExjl/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:04,107 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:04,113 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:04,113 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-pool1
2017-06-21 04:41:04,114 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:04,114 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:04,121 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-pool2
2017-06-21 04:41:05,281 INFO [nodepool.NodePool] Creating requests for 1 fake-label2 nodes
2017-06-21 04:41:05,303 INFO [nodepool.NodePool] Creating requests for 1 fake-label1 nodes
2017-06-21 04:41:06,291 INFO [nodepool.PoolWorker.fake-provider-pool1] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020065.281899, 'declined_by': [], 'node_types': [u'fake-label2'], 'stat': ZnodeStat(czxid=235919, mzxid=235919, ctime=1498020065297, mtime=1498020065297, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845846, dataLength=169, numChildren=0, pzxid=235919), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:06,292 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because node type(s) [fake-label2] not available
2017-06-21 04:41:06,317 INFO [nodepool.PoolWorker.fake-provider-pool2] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020065.303409, 'declined_by': [], 'node_types': [u'fake-label1'], 'stat': ZnodeStat(czxid=235920, mzxid=235920, ctime=1498020065304, mtime=1498020065304, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845846, dataLength=169, numChildren=0, pzxid=235920), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:06,317 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000001 because node type(s) [fake-label1] not available
2017-06-21 04:41:07,382 INFO [nodepool.PoolWorker.fake-provider-pool1] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020065.303409, 'declined_by': [u'sf-zuulv3.novalocal-27538-PoolWorker.fake-provider-pool2'], 'node_types': [u'fake-label1'], 'stat': ZnodeStat(czxid=235920, mzxid=235953, ctime=1498020065304, mtime=1498020066320, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845846, dataLength=227, numChildren=0, pzxid=235920), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:07,385 INFO [nodepool.PoolWorker.fake-provider-pool2] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020065.281899, 'declined_by': [u'sf-zuulv3.novalocal-27538-PoolWorker.fake-provider-pool1'], 'node_types': [u'fake-label2'], 'stat': ZnodeStat(czxid=235919, mzxid=235947, ctime=1498020065297, mtime=1498020066297, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845846, dataLength=227, numChildren=0, pzxid=235919), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:07,393 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:41:07,411 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:07,488 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000001
2017-06-21 04:41:07,493 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000000
2017-06-21 04:41:07,527 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label1-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:07,529 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:07,536 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server f3d03893c9aa4ddaa829645a243a5753 for node id: 0000000000
2017-06-21 04:41:07,539 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label2-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:41:07,539 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:07,542 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server c017c79349b7442089bc635b24b8abfb for node id: 0000000001
2017-06-21 04:41:07,641 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:07,641 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:07,648 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:07,648 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:41:07,656 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:07,662 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:41:08,553 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:41:08,564 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000001
2017-06-21 04:41:08,573 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:08,580 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000000
2017-06-21 04:41:09,684 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label2
2017-06-21 04:41:09,694 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label1
2017-06-21 04:41:09,921 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:09,921 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:10,009 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:10,013 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:10,017 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:10,017 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:10,376 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:10,761 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:10,761 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:10,762 INFO [nodepool.PoolWorker.fake-provider-pool2] PoolWorker.fake-provider-pool2 received stop
2017-06-21 04:41:10,762 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-pool2
2017-06-21 04:41:11,628 INFO [nodepool.PoolWorker.fake-provider-pool1] PoolWorker.fake-provider-pool1 received stop
2017-06-21 04:41:11,629 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-pool1
2017-06-21 04:41:12,636 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:12,637 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:12,640 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:08.457064Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_delete_failure
time: 2017-06-21 04:41:17.115490Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_delete_failure [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
63FC
2017-06-21 04:41:08,458 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:08,481 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:08,487 INFO [nodepool.cmd.config_validator] validating /tmp/tmpzLt_h0/tmpQpBO6z
2017-06-21 04:41:08,537 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:08,543 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:08,643 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:08,645 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:08,678 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:08,682 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:08,690 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:08,692 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:08,696 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpzLt_h0/tmpqYVik0/fake-image-0000000001 fedora vm
2017-06-21 04:41:08,708 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:08,711 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:08,715 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:08,715 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:08,716 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:08,716 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpzLt_h0/tmpqYVik0/fake-image-0000000001 fedora vm
2017-06-21 04:41:08,716 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:08,721 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:08,721 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:08,722 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:08,722 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:08,725 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:08,725 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:08,725 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:08,725 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpzLt_h0/tmpqYVik0/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:08,726 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:08,733 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:08,734 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:08,734 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:08,865 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:08,865 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpzLt_h0/tmpqYVik0/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:08,866 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:08,866 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:09,819 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:10,794 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020069.819652, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236213, mzxid=236213, ctime=1498020069826, mtime=1498020069826, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845861, dataLength=168, numChildren=0, pzxid=236213), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:10,795 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:10,813 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:10,821 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:10,821 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:10,824 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server febd65bfe43b41fda04108bdbfc73c2b for node id: 0000000000
2017-06-21 04:41:10,935 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:10,935 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:10,944 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:11,826 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:11,830 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:12,018 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:12,616 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>]
2017-06-21 04:41:12,617 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:12,617 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:12,781 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider
2017-06-21 04:41:12,798 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>]
2017-06-21 04:41:12,805 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:12,805 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:13,042 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:13,309 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider
2017-06-21 04:41:13,377 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>]
2017-06-21 04:41:13,377 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:13,377 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:13,870 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider
2017-06-21 04:41:13,939 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>]
2017-06-21 04:41:13,939 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:13,939 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:13,942 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020073.042349, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236437, mzxid=236437, ctime=1498020073042, mtime=1498020073042, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845861, dataLength=168, numChildren=0, pzxid=236437), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:13,959 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:41:13,979 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:41:13,985 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:41:13,985 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:13,993 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server f542c1e97a0a4249ad37c111d1f1618d for node id: 0000000001
2017-06-21 04:41:14,111 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:14,111 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:41:14,129 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:41:14,384 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider
2017-06-21 04:41:14,389 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>, <Instance 140395904614032 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=f542c1e97a0a4249ad37c111d1f1618d should_fail=False location=<Server.Location 140395904610768 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07805b510> key_name=None>]
2017-06-21 04:41:14,389 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:14,389 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:14,900 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider
2017-06-21 04:41:14,904 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>, <Instance 140395904614032 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=f542c1e97a0a4249ad37c111d1f1618d should_fail=False location=<Server.Location 140395904610768 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07805b510> key_name=None>]
2017-06-21 04:41:14,904 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:14,904 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:14,990 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:41:15,005 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000001
2017-06-21 04:41:15,157 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:15,407 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider
2017-06-21 04:41:15,418 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>, <Instance 140395904614032 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=f542c1e97a0a4249ad37c111d1f1618d should_fail=False location=<Server.Location 140395904610768 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07805b510> key_name=None>]
2017-06-21 04:41:15,420 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:15,421 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:15,630 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:15,630 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:15,914 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider
2017-06-21 04:41:15,918 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>, <Instance 140395904614032 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=f542c1e97a0a4249ad37c111d1f1618d should_fail=False location=<Server.Location 140395904610768 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07805b510> key_name=None>]
2017-06-21 04:41:15,918 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:15,918 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:16,128 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:16,131 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:16,132 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:16,132 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:16,421 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider
2017-06-21 04:41:16,425 DEBUG [nodepool.FakeOpenStackCloud] Get febd65bfe43b41fda04108bdbfc73c2b in [<Instance 140395837635920 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=febd65bfe43b41fda04108bdbfc73c2b should_fail=False location=<Server.Location 140395837634000 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07407b9d0> key_name=None>, <Instance 140395904614032 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3678710> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=f542c1e97a0a4249ad37c111d1f1618d should_fail=False location=<Server.Location 140395904610768 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7fb07805b510> key_name=None>]
2017-06-21 04:41:16,425 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server febd65bfe43b41fda04108bdbfc73c2b
2017-06-21 04:41:16,425 ERROR [nodepool.NodeDeleter] Exception deleting instance febd65bfe43b41fda04108bdbfc73c2b from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:41:16,548 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:16,922 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:16,922 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:16,922 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:16,923 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:17,031 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:17,032 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:17,035 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:12.736954Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_assignment
time: 2017-06-21 04:41:18.501045Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_assignment [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
19EA
2017-06-21 04:41:12,738 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:12,756 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:12,759 INFO [nodepool.cmd.config_validator] validating /tmp/tmpw7hZVO/tmpWYDzgG
2017-06-21 04:41:12,796 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:12,799 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:12,870 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:12,874 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpw7hZVO/tmpFJ1Hvo/fake-image-0000000001 fedora vm
2017-06-21 04:41:12,890 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:12,891 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:12,891 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:12,894 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpw7hZVO/tmpFJ1Hvo/fake-image-0000000001 fedora vm
2017-06-21 04:41:12,894 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:12,895 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:12,897 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:12,899 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:12,899 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:12,900 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:12,902 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:12,904 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:12,904 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpw7hZVO/tmpFJ1Hvo/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:12,915 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:12,929 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:12,941 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:12,942 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:12,956 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:12,981 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:12,981 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpw7hZVO/tmpFJ1Hvo/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:12,984 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:12,984 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:13,958 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:13,962 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:13,972 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:13,979 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:13,979 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:13,979 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:14,003 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': True, 'state_time': 1498020073.87249, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236461, mzxid=236461, ctime=1498020073941, mtime=1498020073941, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845874, dataLength=150, numChildren=0, pzxid=236461), 'state': u'requested', 'requestor': None}>
2017-06-21 04:41:14,005 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:14,026 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:14,030 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:14,031 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:14,035 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 5cb4e854d16441468edaf3cb4667e82d for node id: 0000000000
2017-06-21 04:41:14,139 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:14,140 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:14,148 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:15,039 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:15,048 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:16,035 DEBUG [nodepool.DeletedNodeWorker] Unallocating node 0000000000 with missing request 100-0000000000
2017-06-21 04:41:17,132 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:17,560 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:17,560 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:17,560 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:17,560 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:18,073 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:18,074 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:18,074 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:18,074 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:18,429 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:18,433 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:18,433 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:18,433 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:18,436 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:09.196669Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_node_assignment_at_quota
time: 2017-06-21 04:41:19.943334Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_assignment_at_quota [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
5A9F
2017-06-21 04:41:09,198 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:09,221 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:09,229 INFO [nodepool.cmd.config_validator] validating /tmp/tmpUlAcM3/tmpNmc1_2
2017-06-21 04:41:09,265 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:09,267 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:09,349 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:09,363 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:09,365 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:09,394 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:09,397 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:09,398 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpUlAcM3/tmpb7zLE5/fake-image-0000000001 fedora vm
2017-06-21 04:41:09,406 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:09,415 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:09,415 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:09,416 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:09,418 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpUlAcM3/tmpb7zLE5/fake-image-0000000001 fedora vm
2017-06-21 04:41:09,418 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:09,420 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:09,421 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:09,421 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:09,421 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:09,426 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:09,427 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:09,427 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:09,427 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpUlAcM3/tmpb7zLE5/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:09,534 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:09,536 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpUlAcM3/tmpb7zLE5/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:09,544 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:09,545 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:10,301 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:10,301 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:10,308 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:10,310 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:10,311 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:10,311 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:11,412 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': True, 'state_time': 1498020070.390735, 'declined_by': [], 'node_types': [u'fake-label', u'fake-label'], 'stat': ZnodeStat(czxid=236222, mzxid=236222, ctime=1498020070435, mtime=1498020070435, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845864, dataLength=165, numChildren=0, pzxid=236222), 'state': u'requested', 'requestor': None}>
2017-06-21 04:41:11,441 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:11,463 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:11,474 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:11,475 DEBUG [nodepool.FakeOpenStackCloud] Pause creates True
2017-06-21 04:41:11,475 DEBUG [nodepool.FakeOpenStackCloud] Pausing
2017-06-21 04:41:11,478 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server da7c8ce964714d9598b24c3f4e10f581 for node id: 0000000000
2017-06-21 04:41:11,484 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000000
2017-06-21 04:41:11,494 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:41:11,494 DEBUG [nodepool.FakeOpenStackCloud] Pause creates True
2017-06-21 04:41:11,494 DEBUG [nodepool.FakeOpenStackCloud] Pausing
2017-06-21 04:41:11,500 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server eba3307cc42b4c5d9f228072b73201ca for node id: 0000000001
2017-06-21 04:41:11,501 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': True, 'state_time': 1498020070.44292, 'declined_by': [], 'node_types': [u'fake-label', u'fake-label'], 'stat': ZnodeStat(czxid=236223, mzxid=236223, ctime=1498020070443, mtime=1498020070443, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845864, dataLength=164, numChildren=0, pzxid=236223), 'state': u'requested', 'requestor': None}>
2017-06-21 04:41:11,504 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:41:11,511 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Pausing request handling to satisfy request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': True, 'state_time': 1498020071.504186, 'declined_by': [], 'node_types': [u'fake-label', u'fake-label'], 'stat': ZnodeStat(czxid=236223, mzxid=236223, ctime=1498020070443, mtime=1498020070443, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845864, dataLength=164, numChildren=0, pzxid=236223), 'state': 'pending', 'requestor': None}>
2017-06-21 04:41:12,452 DEBUG [nodepool.FakeOpenStackCloud] Continuing
2017-06-21 04:41:12,452 DEBUG [tests] Waiting for 1st request 100-0000000000
2017-06-21 04:41:12,453 DEBUG [nodepool.FakeOpenStackCloud] Continuing
2017-06-21 04:41:12,484 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:12,484 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:12,492 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:12,518 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:12,518 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:41:12,525 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:41:12,528 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Retrying node request 100-0000000001
2017-06-21 04:41:12,532 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:12,536 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:12,538 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000000
2017-06-21 04:41:13,455 DEBUG [tests] Marking first node as used 100-0000000000
2017-06-21 04:41:13,554 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Retrying node request 100-0000000001
2017-06-21 04:41:13,932 INFO [nodepool.DeletedNodeWorker] Deleting used instance da7c8ce964714d9598b24c3f4e10f581 from fake-provider
2017-06-21 04:41:13,939 DEBUG [nodepool.FakeOpenStackCloud] Get da7c8ce964714d9598b24c3f4e10f581 in [<Instance 59885136 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=da7c8ce964714d9598b24c3f4e10f581 should_fail=False location=<Server.Location 59884240 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x391c8d0> key_name=None>, <Instance 59812240 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=eba3307cc42b4c5d9f228072b73201ca should_fail=False location=<Server.Location 59813456 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x390a950> key_name=None>]
2017-06-21 04:41:13,939 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server da7c8ce964714d9598b24c3f4e10f581
2017-06-21 04:41:13,939 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 59885136 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=da7c8ce964714d9598b24c3f4e10f581 should_fail=False location=<Server.Location 59884240 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x391c8d0> key_name=None>, <Instance 59812240 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=eba3307cc42b4c5d9f228072b73201ca should_fail=False location=<Server.Location 59813456 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x390a950> key_name=None>]
2017-06-21 04:41:13,939 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Instance 59812240 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=eba3307cc42b4c5d9f228072b73201ca should_fail=False location=<Server.Location 59813456 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x390a950> key_name=None>]
2017-06-21 04:41:13,939 DEBUG [nodepool.FakeOpenStackCloud] Get da7c8ce964714d9598b24c3f4e10f581 in [<Instance 59812240 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=eba3307cc42b4c5d9f228072b73201ca should_fail=False location=<Server.Location 59813456 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x390a950> key_name=None>]
2017-06-21 04:41:13,940 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=da7c8ce964714d9598b24c3f4e10f581
2017-06-21 04:41:14,462 DEBUG [tests] Waiting for node allocation for 2nd request
2017-06-21 04:41:14,588 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Retrying node request 100-0000000001
2017-06-21 04:41:14,592 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unpaused request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': True, 'state_time': 1498020071.504186, 'declined_by': [], 'node_types': [u'fake-label', u'fake-label'], 'stat': ZnodeStat(czxid=236223, mzxid=236223, ctime=1498020070443, mtime=1498020070443, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845864, dataLength=164, numChildren=0, pzxid=236223), 'state': 'pending', 'requestor': None}>
2017-06-21 04:41:14,604 DEBUG [tests] Marking second node as used 100-0000000000
2017-06-21 04:41:14,621 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000002 for request 100-0000000001
2017-06-21 04:41:14,632 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Pausing request handling to satisfy request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': True, 'state_time': 1498020071.504186, 'declined_by': [], 'node_types': [u'fake-label', u'fake-label'], 'stat': ZnodeStat(czxid=236223, mzxid=236223, ctime=1498020070443, mtime=1498020070443, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845864, dataLength=164, numChildren=0, pzxid=236223), 'state': 'pending', 'requestor': None}>
2017-06-21 04:41:14,633 INFO [nodepool.NodeLauncher-0000000002] Creating server with hostname fake-label-fake-provider-0000000002 in fake-provider from image fake-image for node id: 0000000002
2017-06-21 04:41:14,634 DEBUG [nodepool.FakeOpenStackCloud] Pause creates True
2017-06-21 04:41:14,635 DEBUG [nodepool.FakeOpenStackCloud] Pausing
2017-06-21 04:41:14,639 DEBUG [nodepool.NodeLauncher-0000000002] Waiting for server 3006296d45e348598f362b2542804056 for node id: 0000000002
2017-06-21 04:41:14,942 INFO [nodepool.DeletedNodeWorker] Deleting used instance eba3307cc42b4c5d9f228072b73201ca from fake-provider
2017-06-21 04:41:14,946 DEBUG [nodepool.FakeOpenStackCloud] Get eba3307cc42b4c5d9f228072b73201ca in [<Instance 59812240 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=eba3307cc42b4c5d9f228072b73201ca should_fail=False location=<Server.Location 59813456 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x390a950> key_name=None>, <Instance 59905680 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000002 private_v4=fake metadata={'nodepool_node_id': u'0000000002', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=3006296d45e348598f362b2542804056 should_fail=False location=<Server.Location 59906320 zone=None> status=BUILD interface_ip=fake event=<threading._Event object at 0x39214d0> key_name=None>]
2017-06-21 04:41:14,946 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server eba3307cc42b4c5d9f228072b73201ca
2017-06-21 04:41:14,946 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 59812240 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=eba3307cc42b4c5d9f228072b73201ca should_fail=False location=<Server.Location 59813456 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x390a950> key_name=None>, <Instance 59905680 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000002 private_v4=fake metadata={'nodepool_node_id': u'0000000002', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=3006296d45e348598f362b2542804056 should_fail=False location=<Server.Location 59906320 zone=None> status=BUILD interface_ip=fake event=<threading._Event object at 0x39214d0> key_name=None>]
2017-06-21 04:41:14,947 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Instance 59905680 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000002 private_v4=fake metadata={'nodepool_node_id': u'0000000002', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=3006296d45e348598f362b2542804056 should_fail=False location=<Server.Location 59906320 zone=None> status=BUILD interface_ip=fake event=<threading._Event object at 0x39214d0> key_name=None>]
2017-06-21 04:41:14,947 DEBUG [nodepool.FakeOpenStackCloud] Get eba3307cc42b4c5d9f228072b73201ca in [<Instance 59905680 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x37bed90> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000002 private_v4=fake metadata={'nodepool_node_id': u'0000000002', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=3006296d45e348598f362b2542804056 should_fail=False location=<Server.Location 59906320 zone=None> status=BUILD interface_ip=fake event=<threading._Event object at 0x39214d0> key_name=None>]
2017-06-21 04:41:14,947 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000001, state=deleting, external_id=eba3307cc42b4c5d9f228072b73201ca
2017-06-21 04:41:15,629 DEBUG [tests] Deleting 1st request 100-0000000000
2017-06-21 04:41:15,638 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Retrying node request 100-0000000001
2017-06-21 04:41:15,640 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unpaused request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': True, 'state_time': 1498020071.504186, 'declined_by': [], 'node_types': [u'fake-label', u'fake-label'], 'stat': ZnodeStat(czxid=236223, mzxid=236223, ctime=1498020070443, mtime=1498020070443, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845864, dataLength=164, numChildren=0, pzxid=236223), 'state': 'pending', 'requestor': None}>
2017-06-21 04:41:15,651 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000003 for request 100-0000000001
2017-06-21 04:41:15,655 INFO [nodepool.NodeLauncher-0000000003] Creating server with hostname fake-label-fake-provider-0000000003 in fake-provider from image fake-image for node id: 0000000003
2017-06-21 04:41:15,655 DEBUG [nodepool.FakeOpenStackCloud] Pause creates True
2017-06-21 04:41:15,656 DEBUG [nodepool.FakeOpenStackCloud] Pausing
2017-06-21 04:41:15,658 DEBUG [nodepool.NodeLauncher-0000000003] Waiting for server ea6c0c51532e4c57b492b8bc49561fb1 for node id: 0000000003
2017-06-21 04:41:16,635 DEBUG [nodepool.FakeOpenStackCloud] Continuing
2017-06-21 04:41:16,636 DEBUG [nodepool.FakeOpenStackCloud] Continuing
2017-06-21 04:41:16,666 DEBUG [nodepool.NodeLauncher-0000000002] Node 0000000002 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:16,666 DEBUG [nodepool.NodeLauncher-0000000002] Gathering host keys for node 0000000002
2017-06-21 04:41:16,676 DEBUG [nodepool.NodeLauncher-0000000003] Node 0000000003 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:16,676 DEBUG [nodepool.NodeLauncher-0000000003] Gathering host keys for node 0000000003
2017-06-21 04:41:16,689 INFO [nodepool.NodeLauncher-0000000003] Node id 0000000003 is ready
2017-06-21 04:41:16,691 INFO [nodepool.NodeLauncher-0000000002] Node id 0000000002 is ready
2017-06-21 04:41:17,688 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:41:17,690 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000002 for request 100-0000000001
2017-06-21 04:41:17,693 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000003 for request 100-0000000001
2017-06-21 04:41:18,663 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:19,142 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:19,142 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:19,143 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:19,143 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:19,711 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:19,712 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:19,712 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:19,712 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:19,839 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:19,842 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:19,843 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:19,843 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:19,848 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:11.117978Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_max_ready_age
time: 2017-06-21 04:41:20.787314Z
successful: nodepool.tests.test_launcher.TestLauncher.test_max_ready_age [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
32B2
2017-06-21 04:41:11,119 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:11,164 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:11,167 INFO [nodepool.cmd.config_validator] validating /tmp/tmpF5_qn5/tmpgGNQCO
2017-06-21 04:41:11,197 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:11,199 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:11,290 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:11,314 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:11,328 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:11,338 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:11,356 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:11,357 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:11,359 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpF5_qn5/tmpRmy7DS/fake-image-0000000001 fedora vm
2017-06-21 04:41:11,368 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:11,369 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:11,374 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:11,374 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:11,374 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:11,374 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpF5_qn5/tmpRmy7DS/fake-image-0000000001 fedora vm
2017-06-21 04:41:11,374 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:11,380 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:11,380 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:11,381 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:11,381 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:11,381 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:11,384 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:11,385 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:11,385 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:11,385 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpF5_qn5/tmpRmy7DS/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:11,387 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:11,387 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:11,388 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:11,470 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:11,472 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpF5_qn5/tmpRmy7DS/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:11,474 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:11,475 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:12,252 DEBUG [tests] Waiting for initial pool...
2017-06-21 04:41:12,403 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:12,432 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020072.403181, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236339, mzxid=236339, ctime=1498020072409, mtime=1498020072409, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845871, dataLength=168, numChildren=0, pzxid=236339), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:12,445 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:12,557 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:12,567 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:12,567 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:12,570 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server d8e7a35a675246329dfdf689413d262e for node id: 0000000000
2017-06-21 04:41:12,674 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:12,674 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:12,686 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:13,572 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:13,578 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:14,522 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:15,024 INFO [nodepool.CleanupWorker] Deleting ready instance d8e7a35a675246329dfdf689413d262e from fake-provider
2017-06-21 04:41:15,034 DEBUG [nodepool.FakeOpenStackCloud] Get d8e7a35a675246329dfdf689413d262e in [<Instance 66901008 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3ee3850> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=d8e7a35a675246329dfdf689413d262e should_fail=False location=<Server.Location 140678500010896 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7ff244054d50> key_name=None>]
2017-06-21 04:41:15,035 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server d8e7a35a675246329dfdf689413d262e
2017-06-21 04:41:15,035 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 66901008 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3ee3850> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=d8e7a35a675246329dfdf689413d262e should_fail=False location=<Server.Location 140678500010896 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7ff244054d50> key_name=None>]
2017-06-21 04:41:15,035 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:41:15,035 DEBUG [nodepool.FakeOpenStackCloud] Get d8e7a35a675246329dfdf689413d262e in []
2017-06-21 04:41:15,044 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=d8e7a35a675246329dfdf689413d262e
2017-06-21 04:41:15,634 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:16,625 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020075.634981, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236551, mzxid=236551, ctime=1498020075635, mtime=1498020075635, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845871, dataLength=168, numChildren=0, pzxid=236551), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:16,628 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:41:16,653 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:41:16,667 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:41:16,668 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:16,672 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server bea9d00b5483404ebd4be43ed0e17b79 for node id: 0000000001
2017-06-21 04:41:16,782 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:16,782 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:41:16,796 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:41:17,671 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:41:17,675 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000001
2017-06-21 04:41:17,797 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:18,295 DEBUG [tests] ...done waiting for initial pool.
2017-06-21 04:41:19,184 INFO [nodepool.CleanupWorker] Deleting ready instance bea9d00b5483404ebd4be43ed0e17b79 from fake-provider
2017-06-21 04:41:19,187 DEBUG [nodepool.FakeOpenStackCloud] Get bea9d00b5483404ebd4be43ed0e17b79 in [<Instance 140678701543504 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3ee3850> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=bea9d00b5483404ebd4be43ed0e17b79 should_fail=False location=<Server.Location 65216016 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x3e312d0> key_name=None>]
2017-06-21 04:41:19,187 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server bea9d00b5483404ebd4be43ed0e17b79
2017-06-21 04:41:19,187 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 140678701543504 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3ee3850> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000001 private_v4=fake metadata={'nodepool_node_id': u'0000000001', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=bea9d00b5483404ebd4be43ed0e17b79 should_fail=False location=<Server.Location 65216016 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x3e312d0> key_name=None>]
2017-06-21 04:41:19,187 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:41:19,187 DEBUG [nodepool.FakeOpenStackCloud] Get bea9d00b5483404ebd4be43ed0e17b79 in []
2017-06-21 04:41:19,188 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000001, state=deleting, external_id=bea9d00b5483404ebd4be43ed0e17b79
2017-06-21 04:41:19,296 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:19,296 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:19,796 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:19,799 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:19,799 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:19,799 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:20,188 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:20,497 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:20,497 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:20,497 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:20,498 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:20,700 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:20,701 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:20,704 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:17.116292Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_flavor_name
time: 2017-06-21 04:41:23.632658Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_flavor_name [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A49
2017-06-21 04:41:17,117 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:17,133 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:17,138 INFO [nodepool.cmd.config_validator] validating /tmp/tmphO7I9G/tmpGWpKne
2017-06-21 04:41:17,164 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:17,168 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:17,224 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:17,244 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:17,247 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmphO7I9G/tmpss3sjv/fake-image-0000000001 fedora vm
2017-06-21 04:41:17,257 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:17,262 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:17,263 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:17,264 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmphO7I9G/tmpss3sjv/fake-image-0000000001 fedora vm
2017-06-21 04:41:17,266 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:17,266 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:17,268 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:17,270 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:17,270 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:17,271 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:17,271 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:17,271 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:17,272 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmphO7I9G/tmpss3sjv/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:17,273 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:17,292 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:17,293 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:17,299 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:17,304 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:17,306 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:17,312 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:17,344 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:17,350 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:17,351 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:17,351 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmphO7I9G/tmpss3sjv/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:17,352 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:17,352 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:17,354 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:18,366 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:19,476 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020078.367109, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236686, mzxid=236686, ctime=1498020078413, mtime=1498020078413, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845881, dataLength=168, numChildren=0, pzxid=236686), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:19,480 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:19,509 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:19,514 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:19,515 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:19,523 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server ad889e419fe74bb58784e8468c549505 for node id: 0000000000
2017-06-21 04:41:19,627 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:19,628 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:19,639 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:20,523 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:20,527 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:21,616 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:22,244 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:22,245 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:22,319 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:22,322 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:22,323 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:22,323 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:22,637 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:22,922 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:22,922 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:22,923 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:22,923 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:23,569 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:23,569 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:23,571 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:19.944024Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_node_az
time: 2017-06-21 04:41:24.446726Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_az [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A44
2017-06-21 04:41:19,945 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:19,966 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:19,969 INFO [nodepool.cmd.config_validator] validating /tmp/tmpLcj1Q_/tmp5dtsls
2017-06-21 04:41:19,992 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:19,993 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:20,047 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:20,098 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:20,102 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpLcj1Q_/tmpn7ST3K/fake-image-0000000001 fedora vm
2017-06-21 04:41:20,109 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:20,114 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:20,115 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:20,115 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:20,117 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpLcj1Q_/tmpn7ST3K/fake-image-0000000001 fedora vm
2017-06-21 04:41:20,118 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:20,118 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:20,119 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:20,120 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:20,121 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:20,123 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:20,123 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:20,124 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:20,125 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpLcj1Q_/tmpn7ST3K/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:20,128 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:20,145 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:20,168 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:20,175 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:20,178 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:20,186 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:20,188 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:20,189 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLcj1Q_/tmpn7ST3K/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:20,190 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:20,190 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:20,198 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:20,225 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:20,226 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:20,227 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:20,261 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020080.198994, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236831, mzxid=236831, ctime=1498020080211, mtime=1498020080211, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845891, dataLength=168, numChildren=0, pzxid=236831), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:20,262 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:20,279 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:20,284 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:20,285 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:20,289 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 8a53563b4b2145b988292daf3f40a160 for node id: 0000000000
2017-06-21 04:41:20,392 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:20,392 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:20,397 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:21,288 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:21,291 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:22,335 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:23,061 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:23,061 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:23,162 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:23,165 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:23,166 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:23,166 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:23,386 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:23,771 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:23,771 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:23,771 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:23,772 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:24,350 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:24,351 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:24,354 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:20.787930Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_node
time: 2017-06-21 04:41:26.347537Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A44
2017-06-21 04:41:20,789 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:20,816 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:20,828 INFO [nodepool.cmd.config_validator] validating /tmp/tmphM1JgA/tmp6D00wg
2017-06-21 04:41:20,867 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:20,871 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:20,978 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:21,001 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:21,005 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:21,006 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:21,011 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:21,016 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:21,017 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:21,038 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:21,045 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:21,048 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmphM1JgA/tmptzHMyD/fake-image-0000000001 fedora vm
2017-06-21 04:41:21,053 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:21,054 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:21,055 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:21,058 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:21,059 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:21,059 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:21,059 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmphM1JgA/tmptzHMyD/fake-image-0000000001 fedora vm
2017-06-21 04:41:21,059 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:21,061 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:21,061 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:21,062 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:21,062 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:21,065 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:21,065 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:21,065 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:21,065 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmphM1JgA/tmptzHMyD/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:21,224 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:21,224 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmphM1JgA/tmptzHMyD/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:21,225 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:21,225 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:22,071 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:22,105 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020082.071228, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236945, mzxid=236945, ctime=1498020082077, mtime=1498020082077, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845896, dataLength=168, numChildren=0, pzxid=236945), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:22,114 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:22,227 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:22,237 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:22,238 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:22,243 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 02f4f7d021064b0b990a9cd715cfe64b for node id: 0000000000
2017-06-21 04:41:22,347 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:22,347 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:22,355 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:23,240 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:23,243 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:24,250 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:24,960 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:24,960 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:25,119 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:25,123 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:25,124 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:25,125 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:25,174 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:25,612 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:25,612 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:25,612 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:25,613 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:26,263 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:26,263 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:26,268 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:18.501638Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_delete_success
time: 2017-06-21 04:41:27.165377Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_delete_success [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2A28
2017-06-21 04:41:18,503 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:18,528 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:18,534 INFO [nodepool.cmd.config_validator] validating /tmp/tmpiXMClD/tmpSP3S9Y
2017-06-21 04:41:18,561 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:18,565 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:18,705 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:18,714 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:18,716 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:18,719 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:18,722 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:18,726 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:18,727 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:18,732 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:18,733 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:18,734 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:18,734 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:18,741 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:18,744 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpiXMClD/tmpDcj8w5/fake-image-0000000001 fedora vm
2017-06-21 04:41:18,759 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:18,759 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:18,759 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:18,760 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpiXMClD/tmpDcj8w5/fake-image-0000000001 fedora vm
2017-06-21 04:41:18,760 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:18,760 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:18,760 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:18,760 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:18,760 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:18,760 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:18,760 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:18,760 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:18,760 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpiXMClD/tmpDcj8w5/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:18,947 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:18,948 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpiXMClD/tmpDcj8w5/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:18,948 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:18,949 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:19,778 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:20,813 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020079.778947, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236775, mzxid=236775, ctime=1498020079786, mtime=1498020079786, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845886, dataLength=168, numChildren=0, pzxid=236775), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:20,833 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:20,921 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:20,930 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:20,934 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:20,938 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 3b60b850d7854bd689167b794354cff5 for node id: 0000000000
2017-06-21 04:41:21,054 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:21,054 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:21,077 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:21,943 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:21,947 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:22,006 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:22,801 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 3b60b850d7854bd689167b794354cff5 from fake-provider
2017-06-21 04:41:22,813 DEBUG [nodepool.FakeOpenStackCloud] Get 3b60b850d7854bd689167b794354cff5 in [<Instance 67175568 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3f55f50> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=3b60b850d7854bd689167b794354cff5 should_fail=False location=<Server.Location 140299334886224 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7f99fc080390> key_name=None>]
2017-06-21 04:41:22,814 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 3b60b850d7854bd689167b794354cff5
2017-06-21 04:41:22,815 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 67175568 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3f55f50> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-label-fake-provider-0000000000 private_v4=fake metadata={'nodepool_node_id': u'0000000000', 'nodepool_provider_name': 'fake-provider', 'groups': 'fake-provider,fake-image', 'nodepool_image_name': 'fake-image'} id=3b60b850d7854bd689167b794354cff5 should_fail=False location=<Server.Location 140299334886224 zone=None> status=ACTIVE interface_ip=fake event=<threading._Event object at 0x7f99fc080390> key_name=None>]
2017-06-21 04:41:22,815 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:41:22,815 DEBUG [nodepool.FakeOpenStackCloud] Get 3b60b850d7854bd689167b794354cff5 in []
2017-06-21 04:41:22,815 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=3b60b850d7854bd689167b794354cff5
2017-06-21 04:41:23,023 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:23,985 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020083.024029, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=236977, mzxid=236977, ctime=1498020083024, mtime=1498020083024, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845886, dataLength=168, numChildren=0, pzxid=236977), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:23,986 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:41:24,019 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:41:24,035 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:41:24,039 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:24,042 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server 3c61c685cf844916a423d82dd5cbbd66 for node id: 0000000001
2017-06-21 04:41:24,145 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:24,145 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:41:24,150 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:41:25,039 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:41:25,044 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000001
2017-06-21 04:41:25,077 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:25,623 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:25,623 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:26,107 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:26,110 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:26,111 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:26,111 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:26,490 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:26,841 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:26,841 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:26,842 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:26,842 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:27,063 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:27,064 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:27,067 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:23.633223Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_ipv6
time: 2017-06-21 04:41:30.312140Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_ipv6 [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2807
2017-06-21 04:41:23,634 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:23,649 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:23,652 INFO [nodepool.cmd.config_validator] validating /tmp/tmpbDfb77/tmpTWbIxt
2017-06-21 04:41:23,690 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:23,692 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:23,735 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:23,735 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:23,787 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:23,787 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:23,816 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:23,819 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpbDfb77/tmpeYPEpX/fake-image-0000000001 fedora vm
2017-06-21 04:41:23,828 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:23,829 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:23,829 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:23,829 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpbDfb77/tmpeYPEpX/fake-image-0000000001 fedora vm
2017-06-21 04:41:23,829 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:23,831 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:23,833 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:23,836 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:23,837 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:23,837 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:23,838 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:23,841 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:23,842 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:23,842 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpbDfb77/tmpeYPEpX/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:23,848 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:23,871 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:23,871 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:23,878 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:23,878 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:23,909 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:23,915 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:23,923 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:23,949 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:23,968 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:23,969 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:23,971 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider1-main
2017-06-21 04:41:23,979 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider2-main
2017-06-21 04:41:23,981 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:23,981 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpbDfb77/tmpeYPEpX/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:41:23,988 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider1 is ready
2017-06-21 04:41:23,989 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:24,060 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:24,060 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpbDfb77/tmpeYPEpX/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:41:24,060 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:24,061 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:41:25,135 INFO [nodepool.NodePool] Creating requests for 1 fake-label2 nodes
2017-06-21 04:41:25,191 INFO [nodepool.NodePool] Creating requests for 1 fake-label1 nodes
2017-06-21 04:41:26,093 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020085.135582, 'declined_by': [], 'node_types': [u'fake-label2'], 'stat': ZnodeStat(czxid=237153, mzxid=237153, ctime=1498020085172, mtime=1498020085172, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845901, dataLength=169, numChildren=0, pzxid=237153), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:26,097 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:26,109 INFO [nodepool.PoolWorker.fake-provider1-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000001', 'reuse': False, 'state_time': 1498020085.192736, 'declined_by': [], 'node_types': [u'fake-label1'], 'stat': ZnodeStat(czxid=237154, mzxid=237154, ctime=1498020085198, mtime=1498020085198, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845901, dataLength=169, numChildren=0, pzxid=237154), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:26,112 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:41:26,127 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:26,138 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:41:26,138 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label2-fake-provider2-0000000000 in fake-provider2 from image fake-image for node id: 0000000000
2017-06-21 04:41:26,139 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:26,142 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server aebda1f13ebf434fb0bde6bbdf193dad for node id: 0000000000
2017-06-21 04:41:26,143 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label1-fake-provider1-0000000001 in fake-provider1 from image fake-image for node id: 0000000001
2017-06-21 04:41:26,143 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:26,145 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server d1078aef52e849ac8958d96ba59ed33a for node id: 0000000001
2017-06-21 04:41:26,249 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:26,249 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:26,255 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: fake-az1, ip: fake_v6 ipv4: fake, ipv6: fake_v6]
2017-06-21 04:41:26,255 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:41:26,280 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:26,282 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:41:27,154 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:27,158 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:27,163 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:41:27,167 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000001
2017-06-21 04:41:27,423 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label2
2017-06-21 04:41:27,430 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label1
2017-06-21 04:41:27,779 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:27,779 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:28,134 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:28,137 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:28,138 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:28,138 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:28,185 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:28,568 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:28,568 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:28,568 INFO [nodepool.PoolWorker.fake-provider2-main] PoolWorker.fake-provider2-main received stop
2017-06-21 04:41:28,568 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider2-main
2017-06-21 04:41:29,189 INFO [nodepool.PoolWorker.fake-provider1-main] PoolWorker.fake-provider1-main received stop
2017-06-21 04:41:29,189 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider1-main
2017-06-21 04:41:30,195 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:30,196 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:30,199 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:24.447432Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_node_net_name
time: 2017-06-21 04:41:31.142863Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_net_name [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A49
2017-06-21 04:41:24,453 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:24,498 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:24,509 INFO [nodepool.cmd.config_validator] validating /tmp/tmpr1qb7X/tmp3P7979
2017-06-21 04:41:24,561 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:24,563 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:24,656 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:24,663 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpr1qb7X/tmpT_Odya/fake-image-0000000001 fedora vm
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpr1qb7X/tmpT_Odya/fake-image-0000000001 fedora vm
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:24,684 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:24,685 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:24,685 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:24,685 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpr1qb7X/tmpT_Odya/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:24,696 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:24,708 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:24,716 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:24,731 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:24,741 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:24,774 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:24,783 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:24,805 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:24,822 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:24,823 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpr1qb7X/tmpT_Odya/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:24,823 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:24,824 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:24,824 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:24,825 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:24,826 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:25,917 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:26,881 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020085.917349, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=237160, mzxid=237160, ctime=1498020085923, mtime=1498020085923, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845906, dataLength=168, numChildren=0, pzxid=237160), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:26,882 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:27,005 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:27,009 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:27,009 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:27,011 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 1c3f46e89b574de29dd9c2da7c1e0930 for node id: 0000000000
2017-06-21 04:41:27,125 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:27,125 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:27,137 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:28,017 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:28,020 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:29,136 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:29,642 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:29,642 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:29,757 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:29,760 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:29,761 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:29,761 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:30,096 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:30,435 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:30,435 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:30,435 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:30,435 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:31,081 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:31,081 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:31,084 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:26.348136Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_node_boot_from_volume
time: 2017-06-21 04:41:31.987071Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_boot_from_volume [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A44
2017-06-21 04:41:26,349 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:26,377 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:26,379 INFO [nodepool.cmd.config_validator] validating /tmp/tmpmxQtG5/tmpQHne1g
2017-06-21 04:41:26,426 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:26,430 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:26,467 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:26,528 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:26,554 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:26,567 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:26,577 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:26,585 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:26,585 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:26,611 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:26,613 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpmxQtG5/tmpDGyGee/fake-image-0000000001 fedora vm
2017-06-21 04:41:26,622 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:26,625 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:26,625 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:26,625 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:26,625 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpmxQtG5/tmpDGyGee/fake-image-0000000001 fedora vm
2017-06-21 04:41:26,625 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:26,627 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:26,627 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:26,627 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:26,627 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:26,628 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:26,630 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:26,630 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:26,630 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:26,631 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:26,631 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:26,631 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpmxQtG5/tmpDGyGee/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:26,709 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:26,719 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpmxQtG5/tmpDGyGee/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:26,725 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:26,725 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:27,644 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:27,700 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020087.644571, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=237350, mzxid=237350, ctime=1498020087653, mtime=1498020087653, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845911, dataLength=168, numChildren=0, pzxid=237350), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:27,729 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:27,824 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:27,831 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:27,833 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:27,838 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 403b786cc8ec4df3959175243db909e0 for node id: 0000000000
2017-06-21 04:41:28,041 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:28,041 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:28,046 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:28,876 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:28,879 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:29,734 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:30,498 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:30,498 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:30,625 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:30,627 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:30,629 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:30,629 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:30,809 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:31,187 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:31,187 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:31,188 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:31,188 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:31,926 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:31,927 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:31,930 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:31.987693Z
tags: worker-2
test: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_mixed_launch
time: 2017-06-21 04:41:33.376238Z
successful: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_mixed_launch [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
12FE
2017-06-21 04:41:31,988 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:32,008 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:32,011 INFO [nodepool.cmd.config_validator] validating /tmp/tmpKx_8P2/tmp6oMd9K
2017-06-21 04:41:32,066 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:32,067 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:32,145 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:32,171 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:32,172 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:32,176 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:32,182 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:32,203 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:32,205 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpKx_8P2/tmpNUcBQh/fake-image-0000000001 fedora vm
2017-06-21 04:41:32,216 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:32,216 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:32,216 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:32,217 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpKx_8P2/tmpNUcBQh/fake-image-0000000001 fedora vm
2017-06-21 04:41:32,217 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:32,220 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:32,220 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:32,220 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:32,220 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:32,223 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:32,223 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:32,223 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:32,223 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpKx_8P2/tmpNUcBQh/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:32,397 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:32,398 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpKx_8P2/tmpNUcBQh/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:32,399 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:32,400 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:33,092 ERROR [nodepool.NodeLauncher-None] Launch attempt 1/1 failed for node None:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1062, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1123, in _mock_call
    raise result
Exception
2017-06-21 04:41:33,114 INFO [nodepool.NodeLauncher-None] Node id 0000000000 is ready
2017-06-21 04:41:33,121 ERROR [nodepool.NodeLauncher-None] Launch failed for node None:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 238, in run
    self._run()
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1062, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1123, in _mock_call
    raise result
Exception
2017-06-21 04:41:33,171 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:33,177 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:33,321 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:33,324 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:33,325 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:33,325 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:33,328 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:33.376919Z
tags: worker-2
test: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_provider_config_bad
time: 2017-06-21 04:41:33.435533Z
successful: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_provider_config_bad [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
108
2017-06-21 04:41:33,392 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:33,394 INFO [nodepool.cmd.config_validator] validating /tmp/tmploYX94/tmp9SHoE0
2017-06-21 04:41:33,407 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:27.166108Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_launch_retries
time: 2017-06-21 04:41:33.726071Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_launch_retries [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1FB8
2017-06-21 04:41:27,168 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:27,198 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:27,202 INFO [nodepool.cmd.config_validator] validating /tmp/tmpyKqtxz/tmpmCe2b2
2017-06-21 04:41:27,225 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:27,229 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:27,277 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:27,290 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:27,293 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:27,310 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:27,313 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpyKqtxz/tmpB305BK/fake-image-0000000001 fedora vm
2017-06-21 04:41:27,332 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:27,345 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:27,345 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:27,345 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:27,346 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpyKqtxz/tmpB305BK/fake-image-0000000001 fedora vm
2017-06-21 04:41:27,346 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:27,355 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:27,355 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:27,355 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:27,355 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:27,356 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:27,363 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:27,364 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:27,373 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:27,373 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:27,373 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:27,373 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpyKqtxz/tmpB305BK/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:27,377 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:27,404 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:27,414 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:27,414 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:27,552 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:27,553 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpyKqtxz/tmpB305BK/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:27,553 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:27,554 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:29,493 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': True, 'state_time': 1498020088.456244, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=237380, mzxid=237380, ctime=1498020088486, mtime=1498020088486, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845914, dataLength=151, numChildren=0, pzxid=237380), 'state': u'requested', 'requestor': None}>
2017-06-21 04:41:29,497 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:29,531 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:29,535 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:29,535 ERROR [nodepool.NodeLauncher-0000000000] Launch attempt 1/2 failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:41:29,538 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:29,538 ERROR [nodepool.NodeLauncher-0000000000] Launch attempt 2/2 failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:41:29,538 ERROR [nodepool.NodeLauncher-0000000000] Launch failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 238, in run
    self._run()
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:41:30,593 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because nodes failed
2017-06-21 04:41:30,605 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000000
2017-06-21 04:41:30,614 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:31,158 INFO [nodepool.DeletedNodeWorker] Deleting failed instance None from fake-provider
2017-06-21 04:41:31,166 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=None
2017-06-21 04:41:31,510 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:31,510 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:31,895 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:31,897 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:31,899 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:31,899 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:32,172 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:32,662 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:32,662 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:32,662 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:32,662 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:33,649 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:33,650 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:33,653 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:33.726609Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_vhd_and_qcow2
time: 2017-06-21 04:41:35.138974Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_vhd_and_qcow2 [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
132F
2017-06-21 04:41:33,727 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:33,750 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:33,754 INFO [nodepool.cmd.config_validator] validating /tmp/tmpz126mm/tmp4UZKMZ
2017-06-21 04:41:33,806 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:33,809 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:33,888 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:33,888 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:33,904 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:33,910 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:33,910 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:33,911 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:33,933 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:33,934 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:33,943 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:41:33,943 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:41:33,943 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:33,947 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2,vhd --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpz126mm/tmpEJwabT/fake-image-0000000001 fedora vm
2017-06-21 04:41:33,954 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:33,955 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:33,955 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:33,955 INFO [nodepool.image.build.fake-image] -x -t qcow2,vhd --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpz126mm/tmpEJwabT/fake-image-0000000001 fedora vm
2017-06-21 04:41:33,955 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:33,965 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:33,965 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:33,965 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:33,965 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:33,966 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:33,967 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:33,967 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:33,967 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpz126mm/tmpEJwabT/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:33,968 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpz126mm/tmpEJwabT/fake-image-0000000001.vhd (size: 4096) 
2017-06-21 04:41:34,045 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type vhd for image id: fake-image-0000000001
2017-06-21 04:41:34,046 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpz126mm/tmpEJwabT/fake-image-0000000001.vhd to fake-provider1
2017-06-21 04:41:34,047 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:34,047 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider1 is ready
2017-06-21 04:41:34,145 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:34,145 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpz126mm/tmpEJwabT/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:41:34,148 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:34,148 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:41:34,908 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:34,908 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:35,059 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:35,062 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:35,063 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:35,063 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:35,067 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:30.312697Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_unmanaged_image
time: 2017-06-21 04:41:35.500868Z
successful: nodepool.tests.test_launcher.TestLauncher.test_unmanaged_image [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
15C8
2017-06-21 04:41:30,313 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:30,333 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:30,335 INFO [nodepool.cmd.config_validator] validating /tmp/tmp94cTFc/tmpffRs_g
2017-06-21 04:41:30,349 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:30,350 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:30,356 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:30,361 DEBUG [nodepool.FakeOpenStackCloud] Get fake-image in [<Image 140395837579920 metadata={} name=Fake Precise id=fake-image-id status=READY>]
2017-06-21 04:41:30,361 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:30,362 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:30,363 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:30,442 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:31,380 DEBUG [nodepool.FakeOpenStackCloud] Get fake-image in [<Image 140395837579920 metadata={} name=Fake Precise id=fake-image-id status=READY>, <Image 140396039296656 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb07406e210> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-image private_v4=fake metadata={} id=51b9af1bd0a14967bd43e3b8f1e404a0 should_fail=False location=<Server.Location 140396039285200 zone=None> status=READY interface_ip=fake event=<threading._Event object at 0x7fb0800cd510> key_name=None>]
2017-06-21 04:41:31,381 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:32,409 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020091.381481, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=237505, mzxid=237505, ctime=1498020091392, mtime=1498020091392, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845920, dataLength=168, numChildren=0, pzxid=237505), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:32,409 DEBUG [nodepool.FakeOpenStackCloud] Get fake-image in [<Image 140395837579920 metadata={} name=Fake Precise id=fake-image-id status=READY>, <Image 140396039296656 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb07406e210> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-image private_v4=fake metadata={} id=51b9af1bd0a14967bd43e3b8f1e404a0 should_fail=False location=<Server.Location 140396039285200 zone=None> status=READY interface_ip=fake event=<threading._Event object at 0x7fb0800cd510> key_name=None>]
2017-06-21 04:41:32,409 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:32,429 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:32,432 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:32,432 DEBUG [nodepool.FakeOpenStackCloud] Get fake-image in [<Image 140395837579920 metadata={} name=Fake Precise id=fake-image-id status=READY>, <Image 140396039296656 adminPass=fake manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb07406e210> addresses={'private': [{'version': 4, 'addr': 'fake'}], 'public': [{'version': 4, 'addr': 'fake'}]} public_v6= public_v4=fake name=fake-image private_v4=fake metadata={} id=51b9af1bd0a14967bd43e3b8f1e404a0 should_fail=False location=<Server.Location 140396039285200 zone=None> status=READY interface_ip=fake event=<threading._Event object at 0x7fb0800cd510> key_name=None>]
2017-06-21 04:41:32,433 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:32,436 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server d43f67c3d9ad49e0b483c6f32a9b5c27 for node id: 0000000000
2017-06-21 04:41:32,539 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:32,540 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:32,544 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:33,436 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:33,438 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:34,435 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:34,919 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:35,388 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:35,388 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:35,388 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:35,388 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:35,451 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:35,456 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:35,459 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:31.143375Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_node_vhd_image
time: 2017-06-21 04:41:36.699289Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_vhd_image [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
19A0
2017-06-21 04:41:31,144 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:31,173 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:31,181 INFO [nodepool.cmd.config_validator] validating /tmp/tmpFgFGAb/tmpiD9GWx
2017-06-21 04:41:31,208 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:31,212 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:31,279 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:31,287 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:31,301 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:31,302 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:31,311 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:31,318 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:31,323 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:31,371 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:31,385 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:31,387 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t vhd --checksum --no-tmpfs  -o /tmp/tmpFgFGAb/tmpb74o6N/fake-image-0000000001 fedora vm
2017-06-21 04:41:31,404 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:31,404 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:31,404 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:31,409 INFO [nodepool.image.build.fake-image] -x -t vhd --checksum --no-tmpfs -o /tmp/tmpFgFGAb/tmpb74o6N/fake-image-0000000001 fedora vm
2017-06-21 04:41:31,409 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:31,410 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:31,410 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:31,410 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:31,410 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:31,410 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:31,422 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:31,427 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:31,427 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpFgFGAb/tmpb74o6N/fake-image-0000000001.vhd (size: 4096) 
2017-06-21 04:41:31,421 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:31,433 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:31,533 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type vhd for image id: fake-image-0000000001
2017-06-21 04:41:31,533 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpFgFGAb/tmpb74o6N/fake-image-0000000001.vhd to fake-provider
2017-06-21 04:41:31,534 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:31,534 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:32,456 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:32,487 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020092.456402, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=237609, mzxid=237609, ctime=1498020092462, mtime=1498020092462, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845925, dataLength=168, numChildren=0, pzxid=237609), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:32,488 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:32,515 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:32,577 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:32,585 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 62303de812df429c8767bd277bc25cce for node id: 0000000000
2017-06-21 04:41:32,584 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:32,790 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:32,790 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:32,798 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:33,538 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:33,540 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:34,612 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:35,295 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:35,295 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:35,716 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:35,721 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:35,724 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:35,724 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:36,146 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:36,487 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:36,487 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:36,487 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:36,487 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:36,603 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:36,604 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:36,607 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:36.699981Z
tags: worker-0
test: nodepool.tests.test_shade_integration.TestShadeIntegration.test_exceptions
time: 2017-06-21 04:41:36.757081Z
successful: nodepool.tests.test_shade_integration.TestShadeIntegration.test_exceptions [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
B6
outer test
Traceback (most recent call last):
  File "nodepool/tests/test_shade_integration.py", line 100, in test_exceptions
    raise Exception("inner test")
Exception: inner test
0
Content-Type: text/plain;charset=utf8
pythonlogging:''-1
A7
2017-06-21 04:41:36,737 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:36,741 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:35.501383Z
tags: worker-1
test: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_failed_launch
time: 2017-06-21 04:41:36.918670Z
successful: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_failed_launch [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
12A8
2017-06-21 04:41:35,502 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:35,529 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:35,542 INFO [nodepool.cmd.config_validator] validating /tmp/tmpWkUg89/tmpAWOeGA
2017-06-21 04:41:35,589 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:35,592 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:35,678 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,702 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,712 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,716 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:35,719 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,723 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpWkUg89/tmpWhyxFA/fake-image-0000000001 fedora vm
2017-06-21 04:41:35,739 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:35,742 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:35,742 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:35,742 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpWkUg89/tmpWhyxFA/fake-image-0000000001 fedora vm
2017-06-21 04:41:35,742 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:35,743 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:35,744 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:35,747 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:35,747 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:35,748 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,748 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:35,749 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:35,749 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:35,749 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpWkUg89/tmpWhyxFA/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:35,834 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:35,840 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpWkUg89/tmpWhyxFA/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:35,859 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:35,860 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:36,650 ERROR [nodepool.NodeLauncher-None] Launch attempt 1/1 failed for node None:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1062, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1118, in _mock_call
    raise effect
Exception
2017-06-21 04:41:36,682 ERROR [nodepool.NodeLauncher-None] Launch failed for node None:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 238, in run
    self._run()
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1062, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1118, in _mock_call
    raise effect
Exception
2017-06-21 04:41:36,715 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:36,715 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:36,829 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:36,832 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:36,833 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:36,833 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:36,836 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:36.757617Z
tags: worker-0
test: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_occ_config_reload
time: 2017-06-21 04:41:37.607044Z
successful: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_occ_config_reload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
36B
2017-06-21 04:41:36,779 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:36,781 INFO [nodepool.cmd.config_validator] validating /tmp/tmpJL91Ej/tmpWlg2e1
2017-06-21 04:41:37,564 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for real-provider
2017-06-21 04:41:37,565 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:37,570 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:37,584 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for real-provider
2017-06-21 04:41:37,586 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:37,588 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:37,589 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:37,591 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:37.611320Z
tags: worker-0
test: nodepool.tests.test_zk.TestZKModel.test_ImageBuild_toDict
time: 2017-06-21 04:41:37.629444Z
successful: nodepool.tests.test_zk.TestZKModel.test_ImageBuild_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:37,622 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-0
time: 2017-06-21 04:41:37.650114Z
tags: worker-0
test: nodepool.tests.test_zk.TestZKModel.test_NodeRequest_fromDict
time: 2017-06-21 04:41:37.661692Z
successful: nodepool.tests.test_zk.TestZKModel.test_NodeRequest_fromDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:37,654 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-0
time: 2017-06-21 04:41:37.663501Z
tags: worker-0
test: nodepool.tests.test_zk.TestZKModel.test_Node_fromDict
time: 2017-06-21 04:41:37.665207Z
successful: nodepool.tests.test_zk.TestZKModel.test_Node_fromDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:37,664 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-0
time: 2017-06-21 04:41:37.670692Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteBuild
time: 2017-06-21 04:41:37.760071Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteBuild [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:37,674 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:37,702 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:37,738 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:37.760566Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuildProviders_not_found
time: 2017-06-21 04:41:37.809959Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuildProviders_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:37,761 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:37,776 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:37,780 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:37.810416Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getImageUpload_not_found
time: 2017-06-21 04:41:37.902104Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getImageUpload_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:37,819 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:37,872 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:37,884 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:37.902530Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuildImageUploads_any_state
time: 2017-06-21 04:41:38.025039Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuildImageUploads_any_state [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:37,903 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:37,920 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:37,960 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:38.025474Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentImageUpload
time: 2017-06-21 04:41:38.183970Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentImageUpload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:38,027 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:38,062 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:38,124 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:38.184377Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequestLock
time: 2017-06-21 04:41:38.307144Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequestLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:38,188 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:38,238 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:38,285 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:38.307588Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequests
time: 2017-06-21 04:41:38.374043Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequests [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:38,308 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:38,322 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:38,343 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:38.374446Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequests_empty
time: 2017-06-21 04:41:38.418770Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequests_empty [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:38,375 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:38,398 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:38,401 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:38.419167Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getReadyNodesOfTypes
time: 2017-06-21 04:41:38.492399Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getReadyNodesOfTypes [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:38,420 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:38,437 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:38,468 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:38.493792Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getUploads
time: 2017-06-21 04:41:38.635421Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getUploads [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:38,494 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:38,515 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:38,567 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:36.919359Z
tags: worker-1
test: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_successful_launch
time: 2017-06-21 04:41:38.867068Z
successful: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_successful_launch [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1127
2017-06-21 04:41:36,920 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:36,955 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:36,961 INFO [nodepool.cmd.config_validator] validating /tmp/tmpZkxk3D/tmpGEX91B
2017-06-21 04:41:36,988 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:36,989 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:37,056 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:37,067 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpZkxk3D/tmp2Xbbi4/fake-image-0000000001 fedora vm
2017-06-21 04:41:37,110 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:37,111 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:37,112 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:37,112 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpZkxk3D/tmp2Xbbi4/fake-image-0000000001 fedora vm
2017-06-21 04:41:37,113 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:37,126 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:37,127 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:37,127 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:37,128 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:37,128 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:37,135 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:37,139 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:37,139 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:37,140 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpZkxk3D/tmp2Xbbi4/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:37,149 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:37,149 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:37,154 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:37,170 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:37,198 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:37,198 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpZkxk3D/tmp2Xbbi4/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:37,204 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:37,204 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:38,114 INFO [nodepool.NodeLauncher-None] Creating server with hostname fake-label-fake-provider-None in fake-provider from image fake-image for node id: None
2017-06-21 04:41:38,115 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:38,127 DEBUG [nodepool.NodeLauncher-None] Waiting for server eeabfea31ba842e0935312e2a3b71ba1 for node id: 0000000000
2017-06-21 04:41:38,242 DEBUG [nodepool.NodeLauncher-None] Node 0000000000 is running [region: None, az: None, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:38,243 DEBUG [nodepool.NodeLauncher-None] Gathering host keys for node 0000000000
2017-06-21 04:41:38,258 INFO [nodepool.NodeLauncher-None] Node id 0000000000 is ready
2017-06-21 04:41:38,280 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:38,280 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:38,809 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:38,813 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:38,814 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:38,814 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:38,818 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:33.438005Z
tags: worker-2
test: nodepool.tests.test_webapp.TestWebApp.test_dib_image_list_json
time: 2017-06-21 04:41:38.973092Z
successful: nodepool.tests.test_webapp.TestWebApp.test_dib_image_list_json [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
245B
2017-06-21 04:41:33,439 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:33,464 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:33,467 INFO [nodepool.cmd.config_validator] validating /tmp/tmpspGt9s/tmp_IDX8q
2017-06-21 04:41:33,501 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:33,506 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:33,621 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:33,628 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:33,630 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:33,634 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:33,639 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpspGt9s/tmpm7rqQA/fake-image-0000000001 fedora vm
2017-06-21 04:41:33,643 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:33,653 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:33,655 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:33,656 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:33,656 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:33,656 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpspGt9s/tmpm7rqQA/fake-image-0000000001 fedora vm
2017-06-21 04:41:33,658 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:33,658 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:33,659 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:33,660 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:33,660 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:33,661 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:33,661 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:33,661 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:33,661 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpspGt9s/tmpm7rqQA/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:33,664 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:33,664 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:33,671 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:33,676 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:33,676 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:33,677 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:33,746 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677929219840: Initial worker pool
2017-06-21 04:41:33,755 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677920827136: Initial worker pool
2017-06-21 04:41:33,771 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677912434432: Initial worker pool
2017-06-21 04:41:33,788 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677425919744: Initial worker pool
2017-06-21 04:41:33,794 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677417527040: Initial worker pool
2017-06-21 04:41:33,799 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677409134336: Initial worker pool
2017-06-21 04:41:33,805 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677400741632: Initial worker pool
2017-06-21 04:41:33,810 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677392348928: Initial worker pool
2017-06-21 04:41:33,820 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677383956224: Initial worker pool
2017-06-21 04:41:33,830 DEBUG [paste.httpserver.ThreadPool] Started new worker 140677375563520: Initial worker pool
2017-06-21 04:41:33,856 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:33,856 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpspGt9s/tmpm7rqQA/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:33,857 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:33,857 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:34,700 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:35,771 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020094.70034, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=237775, mzxid=237775, ctime=1498020094706, mtime=1498020094706, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845938, dataLength=167, numChildren=0, pzxid=237775), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:35,789 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:35,850 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:35,860 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:35,879 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:35,886 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server ea5e8bb101e64333a66757663e9d8f10 for node id: 0000000000
2017-06-21 04:41:35,989 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:35,989 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:35,996 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:36,873 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:36,879 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:36,933 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:37,875 DEBUG [paste.httpserver.ThreadPool] Added task (0 tasks queued)
2017-06-21 04:41:37,881 INFO [paste.httpserver.ThreadPool] Shutting down threadpool
2017-06-21 04:41:37,882 DEBUG [paste.httpserver.ThreadPool] Worker 140677417527040 asked to SHUTDOWN
2017-06-21 04:41:37,882 DEBUG [paste.httpserver.ThreadPool] Worker 140677400741632 asked to SHUTDOWN
2017-06-21 04:41:37,882 DEBUG [paste.httpserver.ThreadPool] Worker 140677912434432 asked to SHUTDOWN
2017-06-21 04:41:37,882 DEBUG [paste.httpserver.ThreadPool] Worker 140677920827136 asked to SHUTDOWN
2017-06-21 04:41:37,882 DEBUG [paste.httpserver.ThreadPool] Worker 140677409134336 asked to SHUTDOWN
2017-06-21 04:41:37,883 DEBUG [paste.httpserver.ThreadPool] Worker 140677425919744 asked to SHUTDOWN
2017-06-21 04:41:37,883 DEBUG [paste.httpserver.ThreadPool] Worker 140677392348928 asked to SHUTDOWN
2017-06-21 04:41:37,884 DEBUG [paste.httpserver.ThreadPool] Worker 140677375563520 asked to SHUTDOWN
2017-06-21 04:41:37,884 DEBUG [paste.httpserver.ThreadPool] Worker 140677929219840 asked to SHUTDOWN
2017-06-21 04:41:37,884 DEBUG [paste.httpserver.ThreadPool] Worker 140677383956224 asked to SHUTDOWN
2017-06-21 04:41:37,885 INFO [paste.httpserver.ThreadPool] All workers stopped
2017-06-21 04:41:37,885 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:37,885 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:38,232 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:38,236 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:38,236 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:38,236 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:38,368 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:38,714 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:38,714 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:38,715 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:38,715 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:38,877 INFO [paste.httpserver.ThreadPool] Shutting down threadpool
2017-06-21 04:41:38,877 INFO [paste.httpserver.ThreadPool] All workers stopped
2017-06-21 04:41:38,911 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:38,912 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:38,915 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:38.973727Z
tags: worker-2
test: nodepool.tests.test_webapp.TestWebApp.test_webapp_config
time: 2017-06-21 04:41:39.018862Z
successful: nodepool.tests.test_webapp.TestWebApp.test_webapp_config [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
143
2017-06-21 04:41:38,974 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:38,995 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,001 INFO [nodepool.cmd.config_validator] validating /tmp/tmpmfL1yT/tmp1kVfJO
2017-06-21 04:41:39,006 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.020295Z
tags: worker-2
test: nodepool.tests.test_zk.TestZKModel.test_BaseModel_toDict
time: 2017-06-21 04:41:39.022137Z
successful: nodepool.tests.test_zk.TestZKModel.test_BaseModel_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:39,021 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.023320Z
tags: worker-2
test: nodepool.tests.test_zk.TestZKModel.test_ImageBuild_fromDict
time: 2017-06-21 04:41:39.024985Z
successful: nodepool.tests.test_zk.TestZKModel.test_ImageBuild_fromDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:39,024 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.026244Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteBuild_with_uploads
time: 2017-06-21 04:41:39.110068Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteBuild_with_uploads [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,027 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,042 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,074 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.110468Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteNode
time: 2017-06-21 04:41:39.163159Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteNode [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,111 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,128 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,146 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.163614Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuild_not_found
time: 2017-06-21 04:41:39.203290Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuild_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,164 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,184 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,191 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.203700Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuilds
time: 2017-06-21 04:41:39.290576Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuilds [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,204 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,224 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,255 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.291022Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuilds
time: 2017-06-21 04:41:39.371734Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuilds [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,291 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,307 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,337 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:38.867724Z
tags: worker-1
test: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_occ_config
time: 2017-06-21 04:41:39.431310Z
successful: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_occ_config [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
108
2017-06-21 04:41:38,884 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:38,886 INFO [nodepool.cmd.config_validator] validating /tmp/tmppYrXH_/tmpX9mP8s
2017-06-21 04:41:39,418 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.434357Z
tags: worker-1
test: nodepool.tests.test_zk.TestZKModel.test_BaseModel_bad_id
time: 2017-06-21 04:41:39.436496Z
successful: nodepool.tests.test_zk.TestZKModel.test_BaseModel_bad_id [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:39,435 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.439068Z
tags: worker-1
test: nodepool.tests.test_zk.TestZKModel.test_BaseModel_bad_state
time: 2017-06-21 04:41:39.441497Z
successful: nodepool.tests.test_zk.TestZKModel.test_BaseModel_bad_state [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:39,440 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.372158Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequestLocks
time: 2017-06-21 04:41:39.443276Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequestLocks [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,373 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,387 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,415 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.444660Z
tags: worker-1
test: nodepool.tests.test_zk.TestZKModel.test_Node_toDict
time: 2017-06-21 04:41:39.448248Z
successful: nodepool.tests.test_zk.TestZKModel.test_Node_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:39,447 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.443743Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getNode_not_found
time: 2017-06-21 04:41:39.480775Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNode_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,444 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,460 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,463 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.450343Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_buildZooKeeperHosts_single
time: 2017-06-21 04:41:39.495359Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_buildZooKeeperHosts_single [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,451 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,474 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,479 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.481190Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodes
time: 2017-06-21 04:41:39.565073Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodes [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,482 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,505 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,537 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.495842Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteNodeRequest
time: 2017-06-21 04:41:39.571006Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteNodeRequest [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,497 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,516 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,544 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.571644Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteNodeRequestLock
time: 2017-06-21 04:41:39.673299Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteNodeRequestLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,572 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,595 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,651 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.565529Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getUploads_any
time: 2017-06-21 04:41:39.724130Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getUploads_any [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,566 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,589 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,656 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:38.635885Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock_exception_blocking
time: 2017-06-21 04:41:39.747506Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock_exception_blocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:38,636 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:38,666 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,705 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:39.748002Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_nodeIterator
time: 2017-06-21 04:41:39.835862Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_nodeIterator [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,748 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,776 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,801 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:39.673739Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteUpload
time: 2017-06-21 04:41:39.842229Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteUpload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,674 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,701 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,774 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.724584Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock_exception_nonblocking
time: 2017-06-21 04:41:39.865747Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock_exception_nonblocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,725 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,760 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,820 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.842651Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuildNumbers_not_found
time: 2017-06-21 04:41:39.908143Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuildNumbers_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,846 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,882 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,889 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.836328Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_registerLauncher_safe_repeat
time: 2017-06-21 04:41:39.930411Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_registerLauncher_safe_repeat [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,845 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,872 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,896 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:39.908593Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getImageNames_not_found
time: 2017-06-21 04:41:39.973386Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getImageNames_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,909 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,946 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,957 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:39.866247Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock
time: 2017-06-21 04:41:40.019369Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,867 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,892 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,954 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:39.930883Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_storeNodeRequest
time: 2017-06-21 04:41:40.029290Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeNodeRequest [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,931 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:39,959 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:39,987 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:40.029771Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_unlockNode_not_locked
time: 2017-06-21 04:41:40.080650Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_unlockNode_not_locked [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,030 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,053 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,060 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:41:39.973961Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock_exception_nonblocking
time: 2017-06-21 04:41:40.111458Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock_exception_nonblocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:39,976 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,006 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,061 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:40.019826Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock_exception_nonblocking
time: 2017-06-21 04:41:40.154456Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock_exception_nonblocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,021 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,049 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,111 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:40.111899Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock
time: 2017-06-21 04:41:40.220076Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,112 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,132 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,179 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:40.154912Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_registerLauncher
time: 2017-06-21 04:41:40.229093Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_registerLauncher [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,155 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,178 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,204 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:40.229515Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_storeImageUpload_invalid_build
time: 2017-06-21 04:41:40.273087Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeImageUpload_invalid_build [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,230 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,249 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,253 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:41:35.139668Z
tags: worker-3
test: nodepool.tests.test_webapp.TestWebApp.test_image_list
time: 2017-06-21 04:41:40.689054Z
successful: nodepool.tests.test_webapp.TestWebApp.test_image_list [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
245C
2017-06-21 04:41:35,140 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:35,166 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:35,169 INFO [nodepool.cmd.config_validator] validating /tmp/tmphvgki4/tmp5ec20E
2017-06-21 04:41:35,196 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:35,200 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:41:35,302 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,307 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,319 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,348 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,349 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,353 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:41:35,359 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:41:35,361 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:41:35,363 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmphvgki4/tmpxpRJ9K/fake-image-0000000001 fedora vm
2017-06-21 04:41:35,372 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:35,379 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:41:35,379 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:41:35,380 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:35,380 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmphvgki4/tmpxpRJ9K/fake-image-0000000001 fedora vm
2017-06-21 04:41:35,380 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:41:35,381 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:41:35,381 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:41:35,381 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:41:35,381 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:41:35,382 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:41:35,383 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:41:35,383 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:41:35,383 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmphvgki4/tmpxpRJ9K/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:41:35,394 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:41:35,395 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:41:35,395 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:41:35,437 DEBUG [paste.httpserver.ThreadPool] Started new worker 140298512488192: Initial worker pool
2017-06-21 04:41:35,444 DEBUG [paste.httpserver.ThreadPool] Started new worker 140298504095488: Initial worker pool
2017-06-21 04:41:35,446 DEBUG [paste.httpserver.ThreadPool] Started new worker 140298495702784: Initial worker pool
2017-06-21 04:41:35,450 DEBUG [paste.httpserver.ThreadPool] Started new worker 140298487310080: Initial worker pool
2017-06-21 04:41:35,456 DEBUG [paste.httpserver.ThreadPool] Started new worker 140298478917376: Initial worker pool
2017-06-21 04:41:35,464 DEBUG [paste.httpserver.ThreadPool] Started new worker 140297992402688: Initial worker pool
2017-06-21 04:41:35,472 DEBUG [paste.httpserver.ThreadPool] Started new worker 140297984009984: Initial worker pool
2017-06-21 04:41:35,475 DEBUG [paste.httpserver.ThreadPool] Started new worker 140297975617280: Initial worker pool
2017-06-21 04:41:35,487 DEBUG [paste.httpserver.ThreadPool] Started new worker 140297967224576: Initial worker pool
2017-06-21 04:41:35,490 DEBUG [paste.httpserver.ThreadPool] Started new worker 140297958831872: Initial worker pool
2017-06-21 04:41:35,575 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:41:35,575 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmphvgki4/tmpxpRJ9K/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:41:35,582 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:35,582 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:41:36,522 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:41:37,488 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'nodes': [], 'id': u'100-0000000000', 'reuse': False, 'state_time': 1498020096.522311, 'declined_by': [], 'node_types': [u'fake-label'], 'stat': ZnodeStat(czxid=237895, mzxid=237895, ctime=1498020096535, mtime=1498020096535, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845946, dataLength=168, numChildren=0, pzxid=237895), 'state': u'requested', 'requestor': u'NodePool:min-ready'}>
2017-06-21 04:41:37,490 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:41:37,515 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:41:37,527 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:41:37,540 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:41:37,553 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server eaa159635f724dab996bb3dde51c7904 for node id: 0000000000
2017-06-21 04:41:37,659 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:41:37,660 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:41:37,671 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:41:38,580 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:41:38,595 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:41:38,628 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:41:38,799 DEBUG [paste.httpserver.ThreadPool] Added task (0 tasks queued)
2017-06-21 04:41:38,820 INFO [paste.httpserver.ThreadPool] Shutting down threadpool
2017-06-21 04:41:38,821 DEBUG [paste.httpserver.ThreadPool] Worker 140298495702784 asked to SHUTDOWN
2017-06-21 04:41:38,822 DEBUG [paste.httpserver.ThreadPool] Worker 140297984009984 asked to SHUTDOWN
2017-06-21 04:41:38,822 DEBUG [paste.httpserver.ThreadPool] Worker 140298504095488 asked to SHUTDOWN
2017-06-21 04:41:38,822 DEBUG [paste.httpserver.ThreadPool] Worker 140298487310080 asked to SHUTDOWN
2017-06-21 04:41:38,823 DEBUG [paste.httpserver.ThreadPool] Worker 140298478917376 asked to SHUTDOWN
2017-06-21 04:41:38,823 DEBUG [paste.httpserver.ThreadPool] Worker 140297992402688 asked to SHUTDOWN
2017-06-21 04:41:38,823 DEBUG [paste.httpserver.ThreadPool] Worker 140297975617280 asked to SHUTDOWN
2017-06-21 04:41:38,823 DEBUG [paste.httpserver.ThreadPool] Worker 140297967224576 asked to SHUTDOWN
2017-06-21 04:41:38,824 DEBUG [paste.httpserver.ThreadPool] Worker 140298512488192 asked to SHUTDOWN
2017-06-21 04:41:38,824 DEBUG [paste.httpserver.ThreadPool] Worker 140297958831872 asked to SHUTDOWN
2017-06-21 04:41:38,825 INFO [paste.httpserver.ThreadPool] All workers stopped
2017-06-21 04:41:38,826 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:41:38,826 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:41:39,331 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:41:39,334 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:39,335 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:41:39,335 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:41:39,629 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:41:39,799 INFO [paste.httpserver.ThreadPool] Shutting down threadpool
2017-06-21 04:41:39,799 INFO [paste.httpserver.ThreadPool] All workers stopped
2017-06-21 04:41:39,946 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:41:39,946 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:41:39,947 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:41:39,947 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:41:40,625 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:41:40,626 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:41:40,629 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.689720Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_ImageUpload_fromDict
time: 2017-06-21 04:41:40.692715Z
successful: nodepool.tests.test_zk.TestZKModel.test_ImageUpload_fromDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:40,692 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.693029Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_ImageUpload_toDict
time: 2017-06-21 04:41:40.695219Z
successful: nodepool.tests.test_zk.TestZKModel.test_ImageUpload_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:40,694 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.695539Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_NodeRequest_toDict
time: 2017-06-21 04:41:40.697735Z
successful: nodepool.tests.test_zk.TestZKModel.test_NodeRequest_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:41:40,697 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.699205Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_buildZooKeeperHosts_multiple
time: 2017-06-21 04:41:40.732025Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_buildZooKeeperHosts_multiple [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,700 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,716 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,718 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.732429Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_build_request
time: 2017-06-21 04:41:40.790360Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_build_request [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,733 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,754 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,771 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.790898Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuilds_any
time: 2017-06-21 04:41:40.879245Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuilds_any [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,791 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,806 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,840 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.879685Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getImageUploadNumbers_not_found
time: 2017-06-21 04:41:40.920218Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getImageUploadNumbers_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,880 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,896 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,901 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.920671Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuildImageUploads_with_state
time: 2017-06-21 04:41:41.029875Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuildImageUploads_with_state [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,921 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,937 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:40,985 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:41.030386Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getNode
time: 2017-06-21 04:41:41.084295Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNode [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,031 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,047 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,065 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:41.084867Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequest
time: 2017-06-21 04:41:41.142727Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequest [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,085 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,106 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,125 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:41.143193Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequest_not_found
time: 2017-06-21 04:41:41.182794Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequest_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,145 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,162 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,169 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:41.183322Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock
time: 2017-06-21 04:41:41.253567Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,184 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,205 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,227 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:40.220523Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock_exception_blocking
time: 2017-06-21 04:41:41.325913Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock_exception_blocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:40,222 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:40,244 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,292 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:41.326399Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_lockNode_multi
time: 2017-06-21 04:41:41.393109Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_lockNode_multi [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,327 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,346 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,371 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:41.393509Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_lockNode_unlockNode
time: 2017-06-21 04:41:41.455800Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_lockNode_unlockNode [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,394 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,414 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,434 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:41.456227Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_nodeRequestLockIterator
time: 2017-06-21 04:41:41.531104Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_nodeRequestLockIterator [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,457 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,472 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,509 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:41.531572Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_storeNode
time: 2017-06-21 04:41:41.586421Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeNode [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,532 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,549 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,567 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:41.586880Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_storeNode_update
time: 2017-06-21 04:41:41.642830Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeNode_update [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,587 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,602 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,623 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:41.643249Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_store_and_get_build
time: 2017-06-21 04:41:41.712345Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_store_and_get_build [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,644 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,659 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,686 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:41.712787Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_store_and_get_image_upload
time: 2017-06-21 04:41:41.799797Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_store_and_get_image_upload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,713 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,729 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:41,767 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:41:41.254087Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock_exception_blocking
time: 2017-06-21 04:41:42.389581Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock_exception_blocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:41,254 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:41,269 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:42,314 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:42.390027Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_nodeRequestIterator
time: 2017-06-21 04:41:42.461923Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_nodeRequestIterator [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:42,390 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:42,410 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:42,439 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:42.462340Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_storeBuild
time: 2017-06-21 04:41:42.527139Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeBuild [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:42,463 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:42,477 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:42,499 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:42.527565Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_storeImageUpload
time: 2017-06-21 04:41:42.618423Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeImageUpload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:42,528 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:42,543 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:42,580 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:41:42.618889Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_storeNodeRequest_update
time: 2017-06-21 04:41:42.669533Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeNodeRequest_update [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:41:42,619 DEBUG [nodepool.test] set up fakes
2017-06-21 04:41:42,634 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:41:42,652 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
