time: 2017-06-21 04:37:45.343606Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_cleanup_failed_image_build
time: 2017-06-21 04:37:46.785572Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_cleanup_failed_image_build [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1564
2017-06-21 04:37:45,345 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:45,380 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:45,385 INFO [nodepool.cmd.config_validator] validating /tmp/tmpxvLOTg/tmp7nUD6I
2017-06-21 04:37:45,416 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:45,418 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:45,464 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,481 DEBUG [tests] Replacing config with node.yaml
2017-06-21 04:37:45,482 INFO [nodepool.cmd.config_validator] validating /tmp/tmpxvLOTg/tmpBzpcP3
2017-06-21 04:37:45,492 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,543 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,546 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,547 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:45,553 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpxvLOTg/tmpSKdim9/fake-image-0000000001 fedora vm
2017-06-21 04:37:45,554 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,561 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:45,561 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:45,561 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,562 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpxvLOTg/tmpSKdim9/fake-image-0000000001 fedora vm
2017-06-21 04:37:45,562 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,562 INFO [nodepool.image.build.fake-image] Should fail is set, exiting with status 127
2017-06-21 04:37:45,562 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:45,562 INFO [nodepool.builder.BuildWorker.0] DIB failed creating fake-image (127)
2017-06-21 04:37:45,616 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,617 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,691 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,692 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,706 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:45,708 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpxvLOTg/tmpSKdim9/fake-image-0000000002 fedora vm
2017-06-21 04:37:45,715 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:45,715 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:45,715 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,715 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpxvLOTg/tmpSKdim9/fake-image-0000000002 fedora vm
2017-06-21 04:37:45,715 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,716 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:45,716 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:45,716 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:45,716 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:45,720 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:45,722 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:45,722 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:45,722 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpxvLOTg/tmpSKdim9/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:37:45,824 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:37:45,827 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000002 from /tmp/tmpxvLOTg/tmpSKdim9/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:37:45,832 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:37:45,833 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:46,117 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,567 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:46,567 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:46,707 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:46,711 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:46,711 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:46,711 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:46,714 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stderr
35
No handlers could be found for logger "kazoo.client"
0
]
tags: -worker-0
time: 2017-06-21 04:37:45.338342Z
tags: worker-2
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_addition
time: 2017-06-21 04:37:47.735727Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_addition [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1959
2017-06-21 04:37:45,342 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:45,368 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:45,375 INFO [nodepool.cmd.config_validator] validating /tmp/tmpKMAOz2/tmpZspnn_
2017-06-21 04:37:45,402 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:45,406 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:45,453 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,457 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,476 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,493 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,515 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,519 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:45,522 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpKMAOz2/tmpvGtFZi/fake-image-0000000001 fedora vm
2017-06-21 04:37:45,530 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:45,530 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:45,530 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,530 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpKMAOz2/tmpvGtFZi/fake-image-0000000001 fedora vm
2017-06-21 04:37:45,531 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,532 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:45,532 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:45,532 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:45,532 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:45,534 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:45,534 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:45,534 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:45,534 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpKMAOz2/tmpvGtFZi/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:45,628 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:45,628 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpKMAOz2/tmpvGtFZi/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:45,629 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:45,630 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:46,494 DEBUG [tests] Replacing config with node_two_image.yaml
2017-06-21 04:37:46,497 INFO [nodepool.cmd.config_validator] validating /tmp/tmpKMAOz2/tmpsqv9hs
2017-06-21 04:37:46,595 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,620 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,684 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,699 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,707 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,734 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:37:46,739 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpKMAOz2/tmpvGtFZi/fake-image2-0000000001 fedora vm
2017-06-21 04:37:46,744 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:37:46,745 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:37:46,745 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:37:46,745 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpKMAOz2/tmpvGtFZi/fake-image2-0000000001 fedora vm
2017-06-21 04:37:46,745 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:37:46,746 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:37:46,746 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:37:46,746 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:37:46,746 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:37:46,748 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:37:46,748 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:37:46,748 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:37:46,748 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmpKMAOz2/tmpvGtFZi/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:46,800 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:37:46,800 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpKMAOz2/tmpvGtFZi/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:37:46,800 INFO [nodepool.builder.UploadWorker.3] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:37:46,800 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:47,549 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:47,550 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:47,624 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:47,627 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:47,628 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:47,628 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:47,631 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stderr
35
No handlers could be found for logger "kazoo.client"
0
]
tags: -worker-2
time: 2017-06-21 04:37:45.342042Z
tags: worker-1
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_provider_addition
time: 2017-06-21 04:37:47.831345Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_provider_addition [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
156A
2017-06-21 04:37:45,343 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:45,368 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:45,375 INFO [nodepool.cmd.config_validator] validating /tmp/tmpmopITv/tmp0gXiqj
2017-06-21 04:37:45,402 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:45,406 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:45,428 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,458 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,463 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,486 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:45,489 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpmopITv/tmpZP4YDS/fake-image-0000000001 fedora vm
2017-06-21 04:37:45,503 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,505 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:45,505 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:45,506 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,506 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpmopITv/tmpZP4YDS/fake-image-0000000001 fedora vm
2017-06-21 04:37:45,506 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,506 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,508 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:45,509 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:45,509 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:45,509 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:45,512 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:45,512 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:45,512 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:45,512 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpmopITv/tmpZP4YDS/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:45,571 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:45,571 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpmopITv/tmpZP4YDS/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:45,571 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:45,572 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:46,464 DEBUG [tests] Replacing config with node_two_provider.yaml
2017-06-21 04:37:46,468 INFO [nodepool.cmd.config_validator] validating /tmp/tmpmopITv/tmp3ppr4o
2017-06-21 04:37:46,590 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:46,590 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,708 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:46,709 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,715 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:46,716 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,717 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:46,717 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,719 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:46,719 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,789 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:46,790 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpmopITv/tmpZP4YDS/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:37:46,790 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:46,792 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:37:47,555 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:47,555 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:47,765 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:47,768 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:47,769 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:47,769 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:47,776 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stderr
35
No handlers could be found for logger "kazoo.client"
0
]
tags: -worker-1
time: 2017-06-21 04:37:45.348475Z
tags: worker-3
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rebuild_age
time: 2017-06-21 04:37:47.896931Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rebuild_age [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1669
2017-06-21 04:37:45,350 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:45,378 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:45,382 INFO [nodepool.cmd.config_validator] validating /tmp/tmp9q3L50/tmpll16Re
2017-06-21 04:37:45,413 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:45,415 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:45,465 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,478 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,504 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,517 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,531 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:45,544 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:45,547 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp9q3L50/tmpwUGGoW/fake-image-0000000001 fedora vm
2017-06-21 04:37:45,555 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:45,556 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:45,556 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,556 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp9q3L50/tmpwUGGoW/fake-image-0000000001 fedora vm
2017-06-21 04:37:45,556 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:45,557 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:45,557 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:45,557 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:45,557 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:45,558 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:45,558 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:45,559 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:45,559 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp9q3L50/tmpwUGGoW/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:45,697 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:45,698 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmp9q3L50/tmpwUGGoW/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:45,698 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:45,699 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:46,686 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:46,695 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp9q3L50/tmpwUGGoW/fake-image-0000000002 fedora vm
2017-06-21 04:37:46,704 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:46,705 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:46,706 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:46,706 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp9q3L50/tmpwUGGoW/fake-image-0000000002 fedora vm
2017-06-21 04:37:46,706 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:46,709 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:46,709 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:46,710 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:46,710 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:46,714 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:46,714 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:46,714 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:46,715 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp9q3L50/tmpwUGGoW/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:37:46,870 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:37:46,870 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000002 from /tmp/tmp9q3L50/tmpwUGGoW/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:37:46,870 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:46,871 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:37:47,515 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:47,516 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:47,812 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:47,814 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:47,816 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:47,816 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:47,821 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stderr
35
No handlers could be found for logger "kazoo.client"
0
]
tags: -worker-3
time: 2017-06-21 04:37:47.897572Z
tags: worker-3
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_id_multiple
time: 2017-06-21 04:37:47.901744Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_id_multiple [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:37:47,900 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:37:47.902074Z
tags: worker-3
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_image_id
time: 2017-06-21 04:37:47.905505Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_image_id [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:37:47,903 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:37:47.907749Z
tags: worker-3
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_images_dir
time: 2017-06-21 04:37:47.911434Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_images_dir [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:37:47,910 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:37:47.913213Z
tags: worker-3
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_path
time: 2017-06-21 04:37:47.914611Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_from_path [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:37:47,914 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:37:47.915002Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_image_list_fail
time: 2017-06-21 04:37:48.051243Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_image_list_fail [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3FE
2017-06-21 04:37:47,920 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:47,956 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:47,961 INFO [nodepool.cmd.config_validator] validating /tmp/tmp96nXwa/tmpdnxYhI
2017-06-21 04:37:48,000 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:48,026 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:48,027 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:37:48,028 WARNING [nodepool.cmd.nodepoolcmd] Exception listing alien images for fake-provider2: argument of type 'NoneType' is not iterable
2017-06-21 04:37:48,030 WARNING [nodepool.cmd.nodepoolcmd] Exception listing alien images for fake-provider1: argument of type 'NoneType' is not iterable
2017-06-21 04:37:48,035 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:48,038 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
7B
+----------+------+----------+
| Provider | Name | Image ID |
+----------+------+----------+
+----------+------+----------+0
]
tags: -worker-3
time: 2017-06-21 04:37:48.051722Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_list_fail
time: 2017-06-21 04:37:48.247621Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_list_fail [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2CA
2017-06-21 04:37:48,053 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:48,078 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:48,085 INFO [nodepool.cmd.config_validator] validating /tmp/tmpaO9Ezu/tmpOlK3tq
2017-06-21 04:37:48,144 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:48,170 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:48,171 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:37:48,174 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:48,184 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
A3
+----------+----------+-----------+----+
| Provider | Hostname | Server ID | IP |
+----------+----------+-----------+----+
+----------+----------+-----------+----+0
]
tags: -worker-3
time: 2017-06-21 04:37:47.831957Z
tags: worker-1
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_start_stop
time: 2017-06-21 04:37:48.821221Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_start_stop [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
8A1
2017-06-21 04:37:47,832 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:47,857 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:47,865 INFO [nodepool.cmd.config_validator] validating /tmp/tmp4rGibn/tmpBWJaCw
2017-06-21 04:37:47,903 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:47,909 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:47,971 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:47,971 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:47,996 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,004 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,033 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,034 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,035 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,039 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:48,042 INFO [nodepool.builder.BuildWorker.0] Running disk-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp4rGibn/tmpfv41Yv/fake-image-0000000001 fedora vm
2017-06-21 04:37:48,674 INFO [nodepool.image.build.fake-image] mkdir: cannot create directory '/opt/dib_cache': Permission denied
2017-06-21 04:37:48,674 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:48,674 INFO [nodepool.builder.BuildWorker.0] DIB failed creating fake-image (1)
2017-06-21 04:37:48,779 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:48,782 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:48,783 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:48,784 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:48,789 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:37:48.821784Z
tags: worker-1
test: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_to_path
time: 2017-06-21 04:37:48.824300Z
successful: nodepool.tests.test_builder.TestNodepoolBuilderDibImage.test_to_path [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:37:48,822 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-1
time: 2017-06-21 04:37:46.786171Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_cleanup_hard_upload_fails
time: 2017-06-21 04:37:49.363409Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_cleanup_hard_upload_fails [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
109F
2017-06-21 04:37:46,787 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:46,815 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:46,824 INFO [nodepool.cmd.config_validator] validating /tmp/tmpGnxjXC/tmpX7it3G
2017-06-21 04:37:46,862 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:46,865 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:46,917 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,931 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:46,939 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpGnxjXC/tmpTIJkAB/fake-image-0000000001 fedora vm
2017-06-21 04:37:46,954 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:46,954 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:46,955 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:46,955 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpGnxjXC/tmpTIJkAB/fake-image-0000000001 fedora vm
2017-06-21 04:37:46,955 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:46,955 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:46,956 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:46,956 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:46,956 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:46,961 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:46,961 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:46,961 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:46,964 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpGnxjXC/tmpTIJkAB/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:46,972 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,983 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:46,984 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:47,036 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:47,044 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:47,045 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpGnxjXC/tmpTIJkAB/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:47,046 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:47,047 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:48,259 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload record: <ImageUpload {'build_id': u'0000000001', 'format': u'qcow2', 'image_name': u'fake-image', 'external_id': u'fdae35f8771a4bfe821f6f1684a62da2', 'id': u'0000000002', 'provider_name': 'fake-provider', 'external_name': u'fake-image-1498019867', 'stat': ZnodeStat(czxid=227157, mzxid=227157, ctime=1498019867957, mtime=1498019867957, version=0, cversion=0, aversion=0, ephemeralOwner=0, dataLength=167, numChildren=0, pzxid=227157), 'state_time': 1498019867.934892, 'state': u'uploading'}>
2017-06-21 04:37:48,966 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:48,966 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:49,302 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:49,305 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:49,306 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:49,306 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:49,312 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:37:48.824723Z
tags: worker-1
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_build_pause
time: 2017-06-21 04:37:49.623389Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_build_pause [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
100A
2017-06-21 04:37:48,825 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:48,845 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:48,847 INFO [nodepool.cmd.config_validator] validating /tmp/tmpX3UtT1/tmpMFS_VL
2017-06-21 04:37:48,906 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:48,914 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:49,029 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,032 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,036 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,070 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,090 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:49,091 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,164 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:37:49,170 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpX3UtT1/tmpNkO_r_/fake-image2-0000000001 fedora vm
2017-06-21 04:37:49,184 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:37:49,184 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:37:49,184 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:37:49,185 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpX3UtT1/tmpNkO_r_/fake-image2-0000000001 fedora vm
2017-06-21 04:37:49,187 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:37:49,188 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:37:49,190 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:37:49,190 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:37:49,191 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:37:49,191 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:37:49,191 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:37:49,192 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:37:49,192 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmpX3UtT1/tmpNkO_r_/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:49,283 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:49,303 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:49,304 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:00']
2017-06-21 04:37:49,305 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:49,305 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:49,311 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:37:49,311 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpX3UtT1/tmpNkO_r_/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:37:49,312 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:49,312 INFO [nodepool.builder.UploadWorker.3] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:37:49,577 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:49,580 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:49,581 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:49,581 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:49,584 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
C3
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-1
time: 2017-06-21 04:37:48.248120Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_list
time: 2017-06-21 04:37:50.102400Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_list [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
F9E
2017-06-21 04:37:48,248 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:48,280 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:48,282 INFO [nodepool.cmd.config_validator] validating /tmp/tmpVMlNP4/tmp7TeSMt
2017-06-21 04:37:48,328 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:48,329 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:48,428 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,437 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:48,445 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpVMlNP4/tmp8tKA8o/fake-image-0000000001 fedora vm
2017-06-21 04:37:48,457 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,462 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:48,462 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:48,462 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:48,462 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpVMlNP4/tmp8tKA8o/fake-image-0000000001 fedora vm
2017-06-21 04:37:48,463 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:48,464 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,465 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:48,468 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:48,473 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:48,473 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:48,473 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:48,477 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:48,478 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:48,478 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpVMlNP4/tmp8tKA8o/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:48,479 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,481 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:48,529 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:48,530 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpVMlNP4/tmp8tKA8o/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:48,539 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:48,545 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:49,535 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:49,546 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:49,548 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:01']
2017-06-21 04:37:49,548 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:49,548 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:50,050 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:50,052 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:50,053 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:50,054 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:50,057 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
C3
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-3
time: 2017-06-21 04:37:47.736358Z
tags: worker-2
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_removal
time: 2017-06-21 04:37:50.295467Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_removal [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1D9E
2017-06-21 04:37:47,738 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:47,758 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:47,760 INFO [nodepool.cmd.config_validator] validating /tmp/tmpxXMtGL/tmpSg6Ebb
2017-06-21 04:37:47,790 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:47,793 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:47,865 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:47,895 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:47,923 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:47,924 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:47,927 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:47,960 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:37:47,970 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpxXMtGL/tmpeBVHZA/fake-image2-0000000001 fedora vm
2017-06-21 04:37:48,001 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:37:48,001 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:37:48,001 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:37:48,001 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpxXMtGL/tmpeBVHZA/fake-image2-0000000001 fedora vm
2017-06-21 04:37:48,002 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:37:48,004 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:37:48,004 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:37:48,004 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:37:48,005 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:37:48,007 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:37:48,007 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:37:48,007 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:37:48,007 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmpxXMtGL/tmpeBVHZA/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:48,092 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:48,097 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpxXMtGL/tmpeBVHZA/fake-image-0000000001 fedora vm
2017-06-21 04:37:48,113 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:48,114 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:48,114 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:48,114 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpxXMtGL/tmpeBVHZA/fake-image-0000000001 fedora vm
2017-06-21 04:37:48,114 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:48,117 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:48,121 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:48,122 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:48,122 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:48,122 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:48,122 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:48,122 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:48,123 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpxXMtGL/tmpeBVHZA/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:48,156 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:37:48,156 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpxXMtGL/tmpeBVHZA/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:37:48,157 INFO [nodepool.builder.UploadWorker.0] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:37:48,158 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:48,240 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:48,245 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpxXMtGL/tmpeBVHZA/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:48,247 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:48,250 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:48,857 DEBUG [tests] Replacing config with node_two_image_remove.yaml
2017-06-21 04:37:48,864 INFO [nodepool.cmd.config_validator] validating /tmp/tmpxXMtGL/tmpPqoSNK
2017-06-21 04:37:49,116 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,126 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,127 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,128 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,129 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,170 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image2-0000000001 from fake-provider
2017-06-21 04:37:49,170 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 61101712 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:49,171 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 61101712 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:49,189 INFO [nodepool.builder.CleanupWorker.0] Doing cleanup for fake-image2:0000000001
2017-06-21 04:37:49,189 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpxXMtGL/tmpeBVHZA/fake-image2-0000000001.qcow2
2017-06-21 04:37:49,189 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpxXMtGL/tmpeBVHZA/fake-image2-0000000001.qcow2.md5
2017-06-21 04:37:49,189 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpxXMtGL/tmpeBVHZA/fake-image2-0000000001.qcow2.sha256
2017-06-21 04:37:49,189 INFO [nodepool.builder.CleanupWorker.0] Removed DIB manifest /tmp/tmpxXMtGL/tmpeBVHZA/fake-image2-0000000001.d
2017-06-21 04:37:49,942 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:49,942 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:50,228 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:50,231 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:50,232 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:50,232 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:50,235 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:37:49.364072Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_diskimage_build_only
time: 2017-06-21 04:37:50.578170Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_diskimage_build_only [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
98F
2017-06-21 04:37:49,365 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:49,381 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:49,385 INFO [nodepool.cmd.config_validator] validating /tmp/tmpMrpYYn/tmpht4U9b
2017-06-21 04:37:49,400 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:49,402 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:49,488 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:49,493 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t tar --checksum --no-tmpfs  -o /tmp/tmpMrpYYn/tmpRcplLK/fake-image-0000000001 fedora vm
2017-06-21 04:37:49,513 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:49,514 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:49,514 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:49,514 INFO [nodepool.image.build.fake-image] -x -t tar --checksum --no-tmpfs -o /tmp/tmpMrpYYn/tmpRcplLK/fake-image-0000000001 fedora vm
2017-06-21 04:37:49,515 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:49,522 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:49,523 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:49,523 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:49,525 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:49,525 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:49,525 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:49,526 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpMrpYYn/tmpRcplLK/fake-image-0000000001.tar (size: 4096) 
2017-06-21 04:37:50,426 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:50,426 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:50,535 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:50,538 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:50,540 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:50,540 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:50,543 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:37:50.297148Z
tags: worker-2
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_provider_removal
time: 2017-06-21 04:37:52.922666Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_provider_removal [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1732
2017-06-21 04:37:50,298 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:50,317 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:50,324 INFO [nodepool.cmd.config_validator] validating /tmp/tmpbmbxU8/tmpAjGlgv
2017-06-21 04:37:50,369 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:50,372 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:50,487 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:50,488 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,511 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:50,511 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,512 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:50,518 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:50,518 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,519 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:50,519 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,520 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpbmbxU8/tmpzuUqOH/fake-image-0000000001 fedora vm
2017-06-21 04:37:50,527 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:50,527 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,533 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:50,535 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:50,535 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:50,536 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpbmbxU8/tmpzuUqOH/fake-image-0000000001 fedora vm
2017-06-21 04:37:50,536 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:50,537 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:50,539 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:50,539 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:50,539 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:50,542 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:50,542 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:50,542 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:50,542 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpbmbxU8/tmpzuUqOH/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:50,699 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:50,700 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpbmbxU8/tmpzuUqOH/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:37:50,702 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:50,703 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:37:50,764 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:50,764 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpbmbxU8/tmpzuUqOH/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:50,765 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:50,765 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:51,420 DEBUG [tests] Replacing config with node_two_provider_remove.yaml
2017-06-21 04:37:51,421 INFO [nodepool.cmd.config_validator] validating /tmp/tmpbmbxU8/tmpZ0Jj1_
2017-06-21 04:37:51,472 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:51,528 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:51,546 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:51,547 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:51,758 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:51,789 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image-0000000001 from fake-provider2
2017-06-21 04:37:51,792 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 140565018876048 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:51,792 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 140565018876048 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:52,453 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:52,453 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:52,851 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:52,855 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:52,855 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:52,856 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:52,860 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:37:50.102957Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_image_build
time: 2017-06-21 04:37:53.262533Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_image_build [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A3F
2017-06-21 04:37:50,104 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:50,122 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:50,125 INFO [nodepool.cmd.config_validator] validating /tmp/tmpg3pXLm/tmppzOTrk
2017-06-21 04:37:50,148 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:50,149 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:50,182 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,222 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:50,239 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpg3pXLm/tmpaXhRgl/fake-image-0000000001 fedora vm
2017-06-21 04:37:50,250 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:50,251 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:50,251 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:50,254 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpg3pXLm/tmpaXhRgl/fake-image-0000000001 fedora vm
2017-06-21 04:37:50,254 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:50,255 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,257 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:50,259 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:50,260 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:50,260 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:50,261 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:50,261 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:50,261 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:50,262 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpg3pXLm/tmpaXhRgl/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:50,265 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,268 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,268 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,343 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:50,343 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpg3pXLm/tmpaXhRgl/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:50,349 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:50,350 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:51,308 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:51,326 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:51,340 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:01']
2017-06-21 04:37:51,483 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:51,511 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:51,671 INFO [nodepool.builder.BuildWorker.0] Manual build request for image fake-image
2017-06-21 04:37:51,675 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpg3pXLm/tmpaXhRgl/fake-image-0000000002 fedora vm
2017-06-21 04:37:51,691 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:51,693 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:51,696 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:51,696 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpg3pXLm/tmpaXhRgl/fake-image-0000000002 fedora vm
2017-06-21 04:37:51,697 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:51,697 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:51,698 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:51,698 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:51,699 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:51,699 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:51,699 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:51,699 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:51,699 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpg3pXLm/tmpaXhRgl/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:37:51,881 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:37:51,881 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000002 from /tmp/tmpg3pXLm/tmpaXhRgl/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:37:51,881 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:51,882 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:37:52,545 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:52,568 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:52,595 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:02']
2017-06-21 04:37:52,595 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000002', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:00']
2017-06-21 04:37:52,596 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:52,596 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:53,161 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:53,164 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:53,166 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:53,166 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:53,169 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
187
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-3
time: 2017-06-21 04:37:53.263205Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_image_list_empty
time: 2017-06-21 04:37:53.365986Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_image_list_empty [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1EA
2017-06-21 04:37:53,264 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:53,291 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:53,296 INFO [nodepool.cmd.config_validator] validating /tmp/tmp8tskhV/tmpJi1aVT
2017-06-21 04:37:53,334 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:53,341 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:53,347 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
18F
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
| Build ID | Upload ID | Provider | Image | Provider Image Name | Provider Image ID | State | Age |
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+0
]
tags: -worker-3
time: 2017-06-21 04:37:50.578742Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rotation
time: 2017-06-21 04:37:54.326473Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rotation [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
22AE
2017-06-21 04:37:50,579 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:50,595 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:50,601 INFO [nodepool.cmd.config_validator] validating /tmp/tmpO9e_0b/tmpJLiMxC
2017-06-21 04:37:50,640 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:50,641 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:50,722 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,752 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,763 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,774 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,779 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:50,804 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:50,807 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000001 fedora vm
2017-06-21 04:37:50,821 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:50,821 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:50,821 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:50,821 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000001 fedora vm
2017-06-21 04:37:50,821 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:50,824 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:50,824 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:50,824 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:50,824 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:50,825 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:50,826 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:50,826 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:50,826 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:50,917 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:50,917 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:50,918 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:50,918 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:51,798 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:51,802 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000002 fedora vm
2017-06-21 04:37:51,808 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:51,808 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:51,818 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:51,819 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000002 fedora vm
2017-06-21 04:37:51,819 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:51,822 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:51,822 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:51,823 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:51,823 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:51,823 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:51,824 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:51,824 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:51,824 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:37:51,878 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:37:51,878 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000002 from /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:37:51,879 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:51,880 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:37:52,871 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:52,876 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000003 fedora vm
2017-06-21 04:37:52,884 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:52,884 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:52,884 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:52,884 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000003 fedora vm
2017-06-21 04:37:52,884 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:52,885 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:52,885 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:52,886 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:52,886 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:52,887 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:52,887 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:52,887 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:52,887 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000003.qcow2 (size: 4096) 
2017-06-21 04:37:53,035 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000003
2017-06-21 04:37:53,037 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000003 from /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000003.qcow2 to fake-provider
2017-06-21 04:37:53,038 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:53,038 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000003 in fake-provider is ready
2017-06-21 04:37:53,083 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image-0000000001 from fake-provider
2017-06-21 04:37:53,083 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 62151952 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:53,083 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 62151952 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:53,107 INFO [nodepool.builder.CleanupWorker.0] Doing cleanup for fake-image:0000000001
2017-06-21 04:37:53,108 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000001.qcow2
2017-06-21 04:37:53,108 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000001.qcow2.md5
2017-06-21 04:37:53,108 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000001.qcow2.sha256
2017-06-21 04:37:53,108 INFO [nodepool.builder.CleanupWorker.0] Removed DIB manifest /tmp/tmpO9e_0b/tmplBIVtZ/fake-image-0000000001.d
2017-06-21 04:37:53,753 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:53,753 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:54,249 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:54,253 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:54,253 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:54,253 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:54,256 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:37:52.923289Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_image_list_empty
time: 2017-06-21 04:37:54.828292Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_alien_image_list_empty [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
11BA
2017-06-21 04:37:52,924 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:52,967 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:52,977 INFO [nodepool.cmd.config_validator] validating /tmp/tmpReGZcM/tmpcPZqXk
2017-06-21 04:37:53,036 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:53,040 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:53,122 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,139 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,156 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:53,163 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpReGZcM/tmpxJLngM/fake-image-0000000001 fedora vm
2017-06-21 04:37:53,164 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,165 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,177 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:53,177 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:53,177 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:53,178 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpReGZcM/tmpxJLngM/fake-image-0000000001 fedora vm
2017-06-21 04:37:53,178 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:53,181 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,185 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:53,185 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:53,185 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:53,186 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:53,189 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:53,190 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:53,190 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:53,190 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpReGZcM/tmpxJLngM/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:53,333 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:53,335 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpReGZcM/tmpxJLngM/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:53,347 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:53,348 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:54,207 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:54,249 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:54,250 WARNING [nodepool.cmd.nodepoolcmd] Exception listing alien images for fake-provider: argument of type 'NoneType' is not iterable
2017-06-21 04:37:54,259 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:54,287 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:54,351 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:54,357 WARNING [nodepool.cmd.nodepoolcmd] Exception listing alien images for fake-provider: argument of type 'NoneType' is not iterable
2017-06-21 04:37:54,388 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:54,391 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:54,391 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:54,769 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:54,772 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:54,773 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:54,773 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:54,777 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
F7
+----------+------+----------+
| Provider | Name | Image ID |
+----------+------+----------+
+----------+------+----------+
+----------+------+----------+
| Provider | Name | Image ID |
+----------+------+----------+
+----------+------+----------+0
]
tags: -worker-2
time: 2017-06-21 04:37:49.624012Z
tags: worker-1
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_delete
time: 2017-06-21 04:37:57.202676Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_delete [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
29C2
2017-06-21 04:37:49,625 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:49,647 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:49,653 INFO [nodepool.cmd.config_validator] validating /tmp/tmpVRExqL/tmp3SLVJO
2017-06-21 04:37:49,684 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:49,688 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:49,825 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,827 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,835 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,840 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,843 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,845 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:37:49,850 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:49,853 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:49,853 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:49,856 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000001 fedora vm
2017-06-21 04:37:49,862 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:37:49,866 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:37:49,866 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:37:49,876 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:49,877 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:49,877 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:49,877 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000001 fedora vm
2017-06-21 04:37:49,877 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:49,882 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:49,883 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:49,883 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:49,883 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:49,885 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:49,886 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:49,886 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:49,886 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:50,043 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:50,043 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:50,044 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:50,044 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:50,894 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:37:51,923 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=227532, mzxid=227532, ctime=1498019870900, mtime=1498019870900, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845214, dataLength=168, numChildren=0, pzxid=227532), 'requestor': u'NodePool:min-ready', 'state_time': 1498019870.894313, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:37:51,928 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:37:52,024 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:37:52,030 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:37:52,031 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:52,037 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 09593ab46cfa40ce91ee3f0c20655d82 for node id: 0000000000
2017-06-21 04:37:52,149 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:37:52,152 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:37:52,172 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:37:53,041 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:37:53,047 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:37:53,065 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:37:53,959 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:53,969 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:53,971 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:04']
2017-06-21 04:37:53,994 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:54,007 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:54,018 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:54,020 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000002 fedora vm
2017-06-21 04:37:54,029 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:54,029 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:54,029 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:54,029 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000002 fedora vm
2017-06-21 04:37:54,029 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:54,031 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:54,031 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:54,031 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:54,031 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:54,032 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:54,032 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:54,032 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:54,033 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:37:54,201 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:37:54,201 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000002 from /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:37:54,202 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:54,203 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:37:54,627 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image-0000000001 from fake-provider
2017-06-21 04:37:54,627 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 140400266828816 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:54,627 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 140400266828816 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:54,636 INFO [nodepool.builder.CleanupWorker.0] Doing cleanup for fake-image:0000000001
2017-06-21 04:37:54,636 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000001.qcow2
2017-06-21 04:37:54,636 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000001.qcow2.md5
2017-06-21 04:37:54,636 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000001.qcow2.sha256
2017-06-21 04:37:54,636 INFO [nodepool.builder.CleanupWorker.0] Removed DIB manifest /tmp/tmpVRExqL/tmpNMvK_6/fake-image-0000000001.d
2017-06-21 04:37:55,170 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:55,201 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:55,202 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000002', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:01']
2017-06-21 04:37:55,202 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:55,202 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:55,705 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:55,708 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:55,709 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:55,709 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:56,040 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:37:56,440 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:37:56,441 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:37:56,441 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:37:56,441 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:37:57,109 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:57,110 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:37:57,115 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
187
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-1
time: 2017-06-21 04:37:54.327085Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rotation_invalid_external_name
time: 2017-06-21 04:37:58.149287Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_rotation_invalid_external_name [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2101
2017-06-21 04:37:54,329 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:54,373 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:54,376 INFO [nodepool.cmd.config_validator] validating /tmp/tmpjepG2k/tmpf1HtZC
2017-06-21 04:37:54,411 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:54,415 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:54,446 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:54,506 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:54,533 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:54,536 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:54,545 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000001 fedora vm
2017-06-21 04:37:54,552 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:54,561 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:54,561 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:54,561 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:54,564 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000001 fedora vm
2017-06-21 04:37:54,564 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:54,564 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:54,566 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:54,567 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:54,567 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:54,572 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:54,572 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:54,572 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:54,573 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:54,598 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:54,659 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:54,659 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:54,660 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:54,660 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:55,681 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:55,685 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000002 fedora vm
2017-06-21 04:37:55,700 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:55,700 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:55,700 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:55,700 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000002 fedora vm
2017-06-21 04:37:55,700 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:55,706 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:55,707 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:55,707 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:55,707 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:55,711 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:55,711 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:55,711 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:55,711 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000002.qcow2 (size: 4096) 
2017-06-21 04:37:55,888 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000002
2017-06-21 04:37:55,889 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000002 from /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000002.qcow2 to fake-provider
2017-06-21 04:37:55,889 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:55,889 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000002 in fake-provider is ready
2017-06-21 04:37:56,654 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:56,659 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000003 fedora vm
2017-06-21 04:37:56,674 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:56,675 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:56,675 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:56,680 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000003 fedora vm
2017-06-21 04:37:56,689 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:56,690 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:56,690 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:56,690 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:56,690 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:56,690 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:56,690 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:56,690 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:56,690 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000003.qcow2 (size: 4096) 
2017-06-21 04:37:56,742 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000003
2017-06-21 04:37:56,743 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000003 from /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000003.qcow2 to fake-provider
2017-06-21 04:37:56,743 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:56,743 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000003 in fake-provider is ready
2017-06-21 04:37:56,911 INFO [nodepool.builder.CleanupWorker.0] Doing cleanup for fake-image:0000000001
2017-06-21 04:37:56,915 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000001.qcow2
2017-06-21 04:37:56,915 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000001.qcow2.md5
2017-06-21 04:37:56,916 INFO [nodepool.builder.CleanupWorker.0] Removed DIB file /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000001.qcow2.sha256
2017-06-21 04:37:56,917 INFO [nodepool.builder.CleanupWorker.0] Removed DIB manifest /tmp/tmpjepG2k/tmpjonbQM/fake-image-0000000001.d
2017-06-21 04:37:57,538 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:57,538 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:58,057 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:58,060 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:58,061 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:58,061 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:58,064 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:37:53.366432Z
tags: worker-3
test: nodepool.tests.test_commands.TestNodepoolCMD.test_list_nodes
time: 2017-06-21 04:37:59.460063Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_list_nodes [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1C25
2017-06-21 04:37:53,367 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:53,384 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:53,390 INFO [nodepool.cmd.config_validator] validating /tmp/tmpyCU27w/tmpZ1s45W
2017-06-21 04:37:53,444 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:53,448 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:53,568 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,617 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,635 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,650 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,652 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:53,652 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,653 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:37:53,656 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpyCU27w/tmptMXdve/fake-image-0000000001 fedora vm
2017-06-21 04:37:53,661 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:53,675 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:53,675 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:53,675 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:53,675 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpyCU27w/tmptMXdve/fake-image-0000000001 fedora vm
2017-06-21 04:37:53,675 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:53,680 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:53,680 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:53,681 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:53,681 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:53,682 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:53,682 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:53,683 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:53,683 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpyCU27w/tmptMXdve/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:53,684 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:53,694 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:37:53,696 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:37:53,696 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:37:53,754 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:53,755 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpyCU27w/tmptMXdve/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:53,761 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:53,762 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:54,737 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:37:55,764 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=227843, mzxid=227843, ctime=1498019874743, mtime=1498019874743, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845242, dataLength=168, numChildren=0, pzxid=227843), 'requestor': u'NodePool:min-ready', 'state_time': 1498019874.737946, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:37:55,766 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:37:55,788 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:37:55,793 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:37:55,794 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:55,797 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 083b963bf989427f97743ed991d4bb51 for node id: 0000000000
2017-06-21 04:37:55,901 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:37:55,901 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:37:55,910 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:37:56,806 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:37:56,827 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:37:56,887 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:37:57,588 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:57,612 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:57,614 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23767-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'083b963bf989427f97743ed991d4bb51', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:37:57,879 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:37:58,234 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:37:58,234 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:37:58,234 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:37:58,235 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:37:58,857 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:58,862 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:37:58,862 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:58,862 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:59,383 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:59,386 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:59,387 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:59,387 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:59,390 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
217
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+0
]
tags: -worker-3
time: 2017-06-21 04:37:59.460693Z
tags: worker-3
test: nodepool.tests.test_config_validator.TestConfigValidation.test_schema
time: 2017-06-21 04:37:59.466429Z
successful: nodepool.tests.test_config_validator.TestConfigValidation.test_schema [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
BD
2017-06-21 04:37:59,461 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:59,462 INFO [nodepool.cmd.config_validator] validating nodepool/tests/fixtures/config_validate/schema_error.yaml
0
]
tags: -worker-3
time: 2017-06-21 04:37:57.203310Z
tags: worker-1
test: nodepool.tests.test_commands.TestNodepoolCMD.test_image_delete
time: 2017-06-21 04:37:59.658563Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_image_delete [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
14F3
2017-06-21 04:37:57,204 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:57,226 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:57,234 INFO [nodepool.cmd.config_validator] validating /tmp/tmpGBoIp8/tmpSDMuEs
2017-06-21 04:37:57,269 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:57,270 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:57,359 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:57,362 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:57,369 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpGBoIp8/tmp1wi_zX/fake-image-0000000001 fedora vm
2017-06-21 04:37:57,391 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:57,398 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:57,399 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:57,400 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:57,400 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpGBoIp8/tmp1wi_zX/fake-image-0000000001 fedora vm
2017-06-21 04:37:57,400 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:57,401 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:57,401 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:57,402 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:57,402 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:57,404 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:57,405 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:57,405 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:57,406 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:57,406 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpGBoIp8/tmp1wi_zX/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:57,411 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:57,425 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:57,457 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:57,457 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpGBoIp8/tmp1wi_zX/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:57,459 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:57,460 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:58,353 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:58,360 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:58,542 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:58,543 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpGBoIp8/tmp1wi_zX/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:58,544 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:58,544 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:58,549 INFO [nodepool.builder.CleanupWorker.0] Removing deleted upload and record: <ImageUpload {'build_id': u'0000000001', 'format': u'qcow2', 'image_name': u'fake-image', 'external_id': u'67f777c2385849d5ae848d5cb97fbe2b', 'id': u'0000000001', 'provider_name': 'fake-provider', 'external_name': u'fake-image-1498019877', 'stat': ZnodeStat(czxid=228049, mzxid=228101, ctime=1498019877454, mtime=1498019878356, version=2, cversion=0, aversion=0, ephemeralOwner=0, dataLength=165, numChildren=0, pzxid=228049), 'state_time': 1498019878.35642, 'state': u'deleting'}>
2017-06-21 04:37:58,550 INFO [nodepool.builder.CleanupWorker.0] Deleting image build fake-image-0000000001 from fake-provider
2017-06-21 04:37:58,550 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Image 57082960 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:58,550 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Image 57082960 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:37:59,365 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:37:59,365 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:37:59,605 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:37:59,608 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:59,609 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:37:59,609 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:37:59,612 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:37:59.659102Z
tags: worker-1
test: nodepool.tests.test_commands.TestNodepoolCMD.test_image_delete_invalid
time: 2017-06-21 04:37:59.783300Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_image_delete_invalid [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1EA
2017-06-21 04:37:59,660 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:59,690 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,693 INFO [nodepool.cmd.config_validator] validating /tmp/tmpKfmL6Z/tmpglZucK
2017-06-21 04:37:59,745 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,763 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:59,766 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
16
Image upload not found0
]
tags: -worker-1
time: 2017-06-21 04:37:59.783836Z
tags: worker-1
test: nodepool.tests.test_config_validator.TestConfigValidation.test_yaml_error
time: 2017-06-21 04:37:59.797848Z
successful: nodepool.tests.test_config_validator.TestConfigValidation.test_yaml_error [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
BB
2017-06-21 04:37:59,784 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:59,786 INFO [nodepool.cmd.config_validator] validating nodepool/tests/fixtures/config_validate/yaml_error.yaml
0
]
tags: -worker-1
time: 2017-06-21 04:37:59.800219Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_invalid_image_fails
time: 2017-06-21 04:38:02.006899Z
successful: nodepool.tests.test_launcher.TestLauncher.test_invalid_image_fails [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
879
2017-06-21 04:37:59,801 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:59,836 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,850 INFO [nodepool.cmd.config_validator] validating /tmp/tmpyd5zxm/tmp3eLeu4
2017-06-21 04:37:59,908 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:59,909 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:37:59,916 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,920 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:37:59,920 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:37:59,921 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:37:59,949 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'zorky-zumba'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=228245, mzxid=228245, ctime=1498019879903, mtime=1498019879903, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845282, dataLength=152, numChildren=0, pzxid=228245), 'requestor': None, 'state_time': 1498019879.885151, 'reuse': True, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:37:59,949 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because node type(s) [zorky-zumba] not available
2017-06-21 04:37:59,952 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000000
2017-06-21 04:38:00,933 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:01,427 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:01,427 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:01,427 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:01,427 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:01,970 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:01,972 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:01,975 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:37:54.828885Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_delete
time: 2017-06-21 04:38:02.418445Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_delete [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2DC9
2017-06-21 04:37:54,830 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:54,861 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:54,864 INFO [nodepool.cmd.config_validator] validating /tmp/tmpfS8o5x/tmpZHGc3s
2017-06-21 04:37:54,903 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:54,907 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:54,974 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:54,980 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpfS8o5x/tmpyKMYGd/fake-image-0000000001 fedora vm
2017-06-21 04:37:54,993 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:54,994 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:54,994 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:55,003 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpfS8o5x/tmpyKMYGd/fake-image-0000000001 fedora vm
2017-06-21 04:37:55,004 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:55,006 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:55,006 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:55,006 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:55,007 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:55,011 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:55,011 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:55,012 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:55,012 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpfS8o5x/tmpyKMYGd/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:55,015 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:55,017 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:55,053 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:55,057 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:55,058 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:55,059 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:55,061 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:37:55,067 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:55,078 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:37:55,080 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:37:55,081 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:37:55,094 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:55,094 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpfS8o5x/tmpyKMYGd/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:55,094 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:55,095 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:56,130 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:37:57,130 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=227946, mzxid=227946, ctime=1498019876136, mtime=1498019876136, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845255, dataLength=168, numChildren=0, pzxid=227946), 'requestor': u'NodePool:min-ready', 'state_time': 1498019876.130358, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:37:57,132 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:37:57,206 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:37:57,242 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:37:57,252 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:57,260 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 55f8af5d368844d5b7c786c3fa90a493 for node id: 0000000000
2017-06-21 04:37:57,364 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:37:57,364 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:37:57,371 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:37:58,246 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:37:58,250 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:37:58,313 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:37:59,065 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,084 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:59,097 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23766-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'55f8af5d368844d5b7c786c3fa90a493', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:37:59,139 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,156 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:59,157 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23766-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'55f8af5d368844d5b7c786c3fa90a493', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:37:59,320 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,353 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:37:59,668 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 55f8af5d368844d5b7c786c3fa90a493 from fake-provider
2017-06-21 04:37:59,680 DEBUG [nodepool.FakeOpenStackCloud] Get 55f8af5d368844d5b7c786c3fa90a493 in [<Instance 140565018972240 event=<threading._Event object at 0x7fd7d8061410> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3968210> interface_ip=fake location=<Server.Location 60195664 zone=None> id=55f8af5d368844d5b7c786c3fa90a493 public_v6= key_name=None>]
2017-06-21 04:37:59,681 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 55f8af5d368844d5b7c786c3fa90a493
2017-06-21 04:37:59,681 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 140565018972240 event=<threading._Event object at 0x7fd7d8061410> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3968210> interface_ip=fake location=<Server.Location 60195664 zone=None> id=55f8af5d368844d5b7c786c3fa90a493 public_v6= key_name=None>]
2017-06-21 04:37:59,681 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:37:59,681 DEBUG [nodepool.FakeOpenStackCloud] Get 55f8af5d368844d5b7c786c3fa90a493 in []
2017-06-21 04:37:59,681 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=55f8af5d368844d5b7c786c3fa90a493
2017-06-21 04:38:00,484 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:00,532 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:00,552 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:00,554 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:00,554 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:01,028 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:01,031 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:01,032 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:01,032 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:01,297 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=228320, mzxid=228320, ctime=1498019880485, mtime=1498019880485, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845255, dataLength=168, numChildren=0, pzxid=228320), 'requestor': u'NodePool:min-ready', 'state_time': 1498019880.484789, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:01,298 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:01,311 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:38:01,315 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:38:01,318 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:01,320 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server 7e9d63e4749a4b0ba1b535ee08879f26 for node id: 0000000001
2017-06-21 04:38:01,378 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:01,423 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:01,423 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:38:01,430 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:38:01,680 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:01,680 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:01,680 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:01,681 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:02,317 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:02,318 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:02,320 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
B6A
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+----------+-------------+----------+---------+
| ID         | Provider      | AZ  | Label      | Launcher                                                | Hostname                            | Server ID                        | Public IPv4 | Private IPv4 | IPv6 | State    | Age         | Locked   | Comment |
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+----------+-------------+----------+---------+
| 0000000000 | fake-provider | az1 | fake-label | sf-zuulv3.novalocal-23766-PoolWorker.fake-provider-main | fake-label-fake-provider-0000000000 | 55f8af5d368844d5b7c786c3fa90a493 | fake        | fake         |      | deleting | 00:00:00:00 | unlocked | None    |
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+----------+-------------+----------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+0
]
tags: -worker-2
time: 2017-06-21 04:37:58.149918Z
tags: worker-0
test: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_upload_fail
time: 2017-06-21 04:38:03.650092Z
successful: nodepool.tests.test_builder.TestNodePoolBuilder.test_image_upload_fail [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1CEE
2017-06-21 04:37:58,150 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:58,165 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:58,169 INFO [nodepool.cmd.config_validator] validating /tmp/tmpz9CyEu/tmpz7zh7G
2017-06-21 04:37:58,199 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:58,200 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:58,301 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:58,306 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:58,344 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:58,345 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:58,347 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:37:58,348 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:58,349 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:37:58,353 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpz9CyEu/tmpWJiHv0/fake-image-0000000001 fedora vm
2017-06-21 04:37:58,356 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:58,360 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:58,360 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:58,361 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:58,361 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpz9CyEu/tmpWJiHv0/fake-image-0000000001 fedora vm
2017-06-21 04:37:58,361 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:58,362 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:58,362 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:37:58,362 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:58,363 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:58,363 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:58,363 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:37:58,364 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:58,364 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:37:58,365 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:58,365 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:58,365 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpz9CyEu/tmpWJiHv0/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:58,479 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:58,484 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpz9CyEu/tmpWJiHv0/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:58,484 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 253, in create_image
    raise exceptions.BuilderError("Test fail image upload.")
BuilderError: Test fail image upload.
2017-06-21 04:37:58,532 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:58,532 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpz9CyEu/tmpWJiHv0/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:37:58,532 DEBUG [nodepool.FakeUploadFailCloud] Pause creates False
2017-06-21 04:37:58,533 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:37:59,456 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:00,421 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=228180, mzxid=228180, ctime=1498019879468, mtime=1498019879468, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845267, dataLength=168, numChildren=0, pzxid=228180), 'requestor': u'NodePool:min-ready', 'state_time': 1498019879.456944, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:00,441 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:00,532 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:00,562 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:00,565 DEBUG [nodepool.FakeUploadFailCloud] Pause creates False
2017-06-21 04:38:00,574 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 823866eec19f461fbbf7da7943b031b8 for node id: 0000000000
2017-06-21 04:38:00,677 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:00,678 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:00,699 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:01,556 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:01,562 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:01,596 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:02,309 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:02,309 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:02,416 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:02,420 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:02,420 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:02,421 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:02,601 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:02,897 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:02,897 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:02,897 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:02,897 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:03,574 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:03,575 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:03,578 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:03.650758Z
tags: worker-0
test: nodepool.tests.test_commands.TestNodepoolCMD.test_config_validate
time: 2017-06-21 04:38:03.762869Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_config_validate [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1B6
2017-06-21 04:38:03,651 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:03,696 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:03,715 INFO [nodepool.cmd.config_validator] validating nodepool/tests/fixtures/config_validate/good.yaml
2017-06-21 04:38:03,743 INFO [nodepool.cmd.nodepoolcmd] Configuration validation complete
2017-06-21 04:38:03,745 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:37:59.466843Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_dib_upload_fail
time: 2017-06-21 04:38:07.059278Z
successful: nodepool.tests.test_launcher.TestLauncher.test_dib_upload_fail [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
10000
2017-06-21 04:37:59,467 DEBUG [nodepool.test] set up fakes
2017-06-21 04:37:59,484 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,486 INFO [nodepool.cmd.config_validator] validating /tmp/tmpLzxP2K/tmpv9Qynr
2017-06-21 04:37:59,515 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,519 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:37:59,587 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:59,588 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:37:59,640 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:59,640 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:37:59,687 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:59,688 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:59,688 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:37:59,691 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:59,691 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:37:59,691 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:37:59,692 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:37:59,692 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:37:59,693 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:37:59,700 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:37:59,726 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider2-main
2017-06-21 04:37:59,726 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:37:59,726 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:37:59,728 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider1-main
2017-06-21 04:37:59,733 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:37:59,738 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001 fedora vm
2017-06-21 04:37:59,748 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:37:59,748 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:37:59,748 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:59,748 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001 fedora vm
2017-06-21 04:37:59,748 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:37:59,759 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:37:59,760 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:37:59,764 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:37:59,764 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:37:59,764 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:37:59,765 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:37:59,766 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:37:59,768 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:37:59,928 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:37:59,928 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:37:59,929 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:37:59,929 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:38:00,018 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,018 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,019 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,073 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,073 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,074 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,272 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,273 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,274 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,289 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000001', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228280, mzxid=228281, ctime=1498019880016, mtime=1498019880020, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228280), 'state_time': 1498019880.019902, 'state': u'failed'}>
2017-06-21 04:38:00,293 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000003', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228291, mzxid=228293, ctime=1498019880268, mtime=1498019880278, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228291), 'state_time': 1498019880.275789, 'state': u'failed'}>
2017-06-21 04:38:00,298 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000002', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228284, mzxid=228285, ctime=1498019880071, mtime=1498019880074, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228284), 'state_time': 1498019880.074215, 'state': u'failed'}>
2017-06-21 04:38:00,301 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,301 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,302 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,459 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,459 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,460 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,480 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,480 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,481 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,541 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,542 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,542 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,601 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,606 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,608 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,629 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,629 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,630 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,779 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,785 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,786 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,842 INFO [nodepool.NodePool] Creating requests for 2 fake-label nodes
2017-06-21 04:38:00,910 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,910 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:00,911 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:00,939 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000011', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228362, mzxid=228363, ctime=1498019880905, mtime=1498019880913, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228362), 'state_time': 1498019880.911373, 'state': u'failed'}>
2017-06-21 04:38:00,946 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000005', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228312, mzxid=228315, ctime=1498019880454, mtime=1498019880461, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228312), 'state_time': 1498019880.460869, 'state': u'failed'}>
2017-06-21 04:38:00,952 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000004', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228301, mzxid=228304, ctime=1498019880299, mtime=1498019880303, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228301), 'state_time': 1498019880.302265, 'state': u'failed'}>
2017-06-21 04:38:00,958 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000007', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228332, mzxid=228334, ctime=1498019880538, mtime=1498019880543, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228332), 'state_time': 1498019880.542721, 'state': u'failed'}>
2017-06-21 04:38:00,967 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000006', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228318, mzxid=228319, ctime=1498019880475, mtime=1498019880485, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228318), 'state_time': 1498019880.481713, 'state': u'failed'}>
2017-06-21 04:38:00,975 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000009', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228342, mzxid=228343, ctime=1498019880627, mtime=1498019880631, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228342), 'state_time': 1498019880.630454, 'state': u'failed'}>
2017-06-21 04:38:00,985 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000008', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228338, mzxid=228339, ctime=1498019880593, mtime=1498019880610, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228338), 'state_time': 1498019880.609926, 'state': u'failed'}>
2017-06-21 04:38:00,992 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:00,999 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,000 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,002 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000010', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228351, mzxid=228352, ctime=1498019880773, mtime=1498019880792, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=111, numChildren=0, pzxid=228351), 'state_time': 1498019880.78669, 'state': u'failed'}>
2017-06-21 04:38:01,024 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,025 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,025 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,091 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,091 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,092 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,192 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,202 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,203 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,247 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,248 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,248 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,282 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,283 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,283 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,422 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,423 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,424 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,466 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,467 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,467 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,637 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000012', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228380, mzxid=228384, ctime=1498019880988, mtime=1498019881008, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228380), 'state_time': 1498019881.001374, 'state': u'failed'}>
2017-06-21 04:38:01,648 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000014', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228397, mzxid=228398, ctime=1498019881089, mtime=1498019881093, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228397), 'state_time': 1498019881.092317, 'state': u'failed'}>
2017-06-21 04:38:01,657 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000013', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228390, mzxid=228391, ctime=1498019881022, mtime=1498019881026, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228390), 'state_time': 1498019881.025539, 'state': u'failed'}>
2017-06-21 04:38:01,664 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000016', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228407, mzxid=228408, ctime=1498019881244, mtime=1498019881250, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228407), 'state_time': 1498019881.249207, 'state': u'failed'}>
2017-06-21 04:38:01,673 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000015', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228401, mzxid=228404, ctime=1498019881186, mtime=1498019881214, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228401), 'state_time': 1498019881.206715, 'state': u'failed'}>
2017-06-21 04:38:01,684 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000018', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228424, mzxid=228428, ctime=1498019881415, mtime=1498019881434, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228424), 'state_time': 1498019881.425629, 'state': u'failed'}>
2017-06-21 04:38:01,694 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000017', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228411, mzxid=228412, ctime=1498019881280, mtime=1498019881284, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228411), 'state_time': 1498019881.283578, 'state': u'failed'}>
2017-06-21 04:38:01,703 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000019', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228435, mzxid=228436, ctime=1498019881465, mtime=1498019881468, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228435), 'state_time': 1498019881.467768, 'state': u'failed'}>
2017-06-21 04:38:01,706 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,706 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,707 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,796 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=228356, mzxid=228356, ctime=1498019880860, mtime=1498019880860, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845278, dataLength=168, numChildren=0, pzxid=228356), 'requestor': u'NodePool:min-ready', 'state_time': 1498019880.842328, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:01,801 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:01,812 INFO [nodepool.PoolWorker.fake-provider1-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=228357, mzxid=228357, ctime=1498019880864, mtime=1498019880864, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845278, dataLength=168, numChildren=0, pzxid=228357), 'requestor': u'NodePool:min-ready', 'state_time': 1498019880.863941, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:01,837 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000001 because images are not available
2017-06-21 04:38:01,899 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:01,940 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=228357, mzxid=228488, ctime=1498019880864, mtime=1498019881887, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845278, dataLength=226, numChildren=0, pzxid=228357), 'requestor': u'NodePool:min-ready', 'state_time': 1498019880.863941, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23767-PoolWorker.fake-provider1-main'], 'state': u'requested'}>
2017-06-21 04:38:01,948 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider2-0000000000 in fake-provider2 from image fake-image for node id: 0000000000
2017-06-21 04:38:01,952 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:01,966 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server fc0dde74666b4a0bb4eb5637ac308581 for node id: 0000000000
2017-06-21 04:38:01,968 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:01,968 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:01,969 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:01,974 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:02,002 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:38:02,009 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,010 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:02,010 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:02,021 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider2-0000000001 in fake-provider2 from image fake-image for node id: 0000000001
2017-06-21 04:38:02,022 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:02,025 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server 3ea49870c3d541ce9bafb1ae23860fba for node id: 0000000001
2017-06-21 04:38:02,069 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:02,069 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:02,076 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:02,130 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:02,130 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:38:02,136 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:38:02,181 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,183 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:02,183 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:02,209 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,210 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:02,210 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:02,272 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,272 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:02,273 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:02,292 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000023', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228534, mzxid=228535, ctime=1498019882179, mtime=1498019882186, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=111, numChildren=0, pzxid=228534), 'state_time': 1498019882.18526, 'state': u'failed'}>
2017-06-21 04:38:02,300 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000022', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228515, mzxid=228520, ctime=1498019882004, mtime=1498019882014, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228515), 'state_time': 1498019882.011059, 'state': u'failed'}>
2017-06-21 04:38:02,309 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000025', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228554, mzxid=228559, ctime=1498019882269, mtime=1498019882278, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228554), 'state_time': 1498019882.273362, 'state': u'failed'}>
2017-06-21 04:38:02,316 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000024', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228538, mzxid=228541, ctime=1498019882207, mtime=1498019882222, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228538), 'state_time': 1498019882.210675, 'state': u'failed'}>
2017-06-21 04:38:02,325 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000021', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228495, mzxid=228498, ctime=1498019881962, mtime=1498019881978, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228495), 'state_time': 1498019881.969292, 'state': u'failed'}>
2017-06-21 04:38:02,346 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000020', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228461, mzxid=228465, ctime=1498019881704, mtime=1498019881710, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228461), 'state_time': 1498019881.707414, 'state': u'failed'}>
2017-06-21 04:38:02,438 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,439 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:02,440 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:02,469 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,469 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:02,469 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:02,736 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,737 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:02,737 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:02,768 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,768 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:02,768 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:03,021 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:03,027 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:03,033 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:03,035 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:03,036 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:03,036 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:03,038 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000001
2017-06-21 04:38:03,059 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000027', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228637, mzxid=228640, ctime=1498019882467, mtime=1498019882471, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228637), 'state_time': 1498019882.470149, 'state': u'failed'}>
2017-06-21 04:38:03,062 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:03,062 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:03,062 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:03,072 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000026', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228628, mzxid=228632, ctime=1498019882430, mtime=1498019882450, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228628), 'state_time': 1498019882.442052, 'state': u'failed'}>
2017-06-21 04:38:03,078 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000029', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228673, mzxid=228675, ctime=1498019882765, mtime=1498019882770, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228673), 'state_time': 1498019882.768931, 'state': u'failed'}>
2017-06-21 04:38:03,084 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000028', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228662, mzxid=228665, ctime=1498019882733, mtime=1498019882739, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228662), 'state_time': 1498019882.738103, 'state': u'failed'}>
2017-06-21 04:38:03,089 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000030', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228691, mzxid=228698, ctime=1498019883030, mtime=1498019883042, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228691), 'state_time': 1498019883.037232, 'state': u'failed'}>
2017-06-21 04:38:03,281 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:03,281 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:03,282 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:03,529 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:03,530 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:03,530 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:03,557 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:03,557 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:03,557 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:03,688 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000034', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228738, mzxid=228740, ctime=1498019883554, mtime=1498019883559, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228738), 'state_time': 1498019883.557737, 'state': u'failed'}>
2017-06-21 04:38:03,734 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000033', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228732, mzxid=228733, ctime=1498019883527, mtime=1498019883532, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228732), 'state_time': 1498019883.530652, 'state': u'failed'}>
2017-06-21 04:38:03,760 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000032', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228723, mzxid=228724, ctime=1498019883278, mtime=1498019883283, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228723), 'state_time': 1498019883.282501, 'state': u'failed'}>
2017-06-21 04:38:03,772 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000031', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228703, mzxid=228705, ctime=1498019883060, mtime=1498019883064, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228703), 'state_time': 1498019883.063109, 'state': u'failed'}>
2017-06-21 04:38:03,802 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:03,802 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:03,802 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:04,014 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:04,014 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:04,014 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:04,072 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:04,221 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:04,222 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:04,223 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:04,257 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:04,257 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:04,257 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:04,363 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000036', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228810, mzxid=228811, ctime=1498019884010, mtime=1498019884015, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228810), 'state_time': 1498019884.014914, 'state': u'failed'}>
2017-06-21 04:38:04,392 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000035', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228798, mzxid=228799, ctime=1498019883800, mtime=1498019883803, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228798), 'state_time': 1498019883.803022, 'state': u'failed'}>
2017-06-21 04:38:04,401903
2 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000038', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228855, mzxid=228856, ctime=1498019884254, mtime=1498019884258, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228855), 'state_time': 1498019884.258128, 'state': u'failed'}>
2017-06-21 04:38:04,410 INFO [nodepool.builder.CleanupWorker.0] Removing failed upload and record: <ImageUpload {'build_id': u'0000000001', 'format': None, 'image_name': u'fake-image', 'external_id': None, 'id': u'0000000037', 'provider_name': 'fake-provider1', 'external_name': None, 'stat': ZnodeStat(czxid=228847, mzxid=228848, ctime=1498019884219, mtime=1498019884226, version=1, cversion=0, aversion=0, ephemeralOwner=0, dataLength=112, numChildren=0, pzxid=228847), 'state_time': 1498019884.223734, 'state': u'failed'}>
2017-06-21 04:38:04,444 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:04,449 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:04,449 ERROR [nodepool.builder.UploadWorker.0] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:04,475 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:04,476 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:04,476 ERROR [nodepool.builder.UploadWorker.3] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:04,672 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:04,673 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:04,674 ERROR [nodepool.builder.UploadWorker.2] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:04,697 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:04,697 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:04,706 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:04,707 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpLzxP2K/tmpCNzRgy/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:04,707 ERROR [nodepool.builder.UploadWorker.1] Failed to upload image fake-image to provider fake-provider1
Traceback (most recent call last):
  File "nodepool/builder.py", line 855, in _uploadImage
    sha256=image.sha256,
  File "nodepool/driver/openstack/provider.py", line 303, in uploadImage
    **meta)
  File "nodepool/fakeprovider.py", line 189, in create_image
    done_status='READY', **kwargs)
  File "nodepool/fakeprovider.py", line 158, in _create
    event=threading.Event())
  File "nodepool/fakeprovider.py", line 40, in __init__
    raise shade.OpenStackCloudException('This image has '
OpenStackCloudException: This image has SHOULD_FAIL set to True.
2017-06-21 04:38:04,917 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:04,920 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:04,920 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:04,921 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:05,014 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:05,273 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:05,273 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:05,273 INFO [nodepool.PoolWorker.fake-provider2-main] PoolWorker.fake-provider2-main received stop
2017-06-21 04:38:05,274 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider2-main
2017-06-21 04:38:06,060 INFO [nodepool.PoolWorker.fake-provider1-main] PoolWorker.fake-provider1-main received stop
2017-06-21 04:38:06,060 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider1-main
2017-06-21 04:38:06,929 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:06,930 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:06,933 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:02.419073Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_delete_now
time: 2017-06-21 04:38:08.879559Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_delete_now [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2B09
2017-06-21 04:38:02,422 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:02,442 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:02,446 INFO [nodepool.cmd.config_validator] validating /tmp/tmpPLUtZh/tmpMLxRk3
2017-06-21 04:38:02,471 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:02,471 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:02,565 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,565 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,578 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,579 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,603 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,605 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,606 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:02,611 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:02,612 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:02,614 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpPLUtZh/tmp6AgAbS/fake-image-0000000001 fedora vm
2017-06-21 04:38:02,621 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:02,623 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:02,623 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:02,623 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:02,623 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpPLUtZh/tmp6AgAbS/fake-image-0000000001 fedora vm
2017-06-21 04:38:02,623 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:02,624 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:02,624 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:02,628 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:02,629 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:02,629 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:02,629 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:02,632 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:02,632 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:02,632 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:02,632 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpPLUtZh/tmp6AgAbS/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:02,776 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,777 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpPLUtZh/tmp6AgAbS/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:02,778 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:02,778 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:03,645 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:04,658 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=228770, mzxid=228770, ctime=1498019883660, mtime=1498019883660, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845294, dataLength=168, numChildren=0, pzxid=228770), 'requestor': u'NodePool:min-ready', 'state_time': 1498019883.646355, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:04,659 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:04,738 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:04,765 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:04,776 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:04,787 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server b3a7bce7445f4358926ce0f1fd912da6 for node id: 0000000000
2017-06-21 04:38:04,899 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:04,899 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:04,916 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:05,753 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:05,766 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:05,876 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:06,722 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:06,747 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:06,749 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23766-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'b3a7bce7445f4358926ce0f1fd912da6', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:38:06,771 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:06,786 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:06,787 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23766-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'b3a7bce7445f4358926ce0f1fd912da6', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:38:06,944 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:06,956 DEBUG [nodepool.FakeOpenStackCloud] Get b3a7bce7445f4358926ce0f1fd912da6 in []
2017-06-21 04:38:06,956 INFO [nodepool.NodeDeleter] Instance b3a7bce7445f4358926ce0f1fd912da6 not found in provider fake-provider
2017-06-21 04:38:06,956 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=b3a7bce7445f4358926ce0f1fd912da6
2017-06-21 04:38:07,008 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:07,037 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:07,054 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:07,086 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:07,086 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:07,368 WARNING [nodepool.CleanupWorker] Deleting leaked instance fake-label-fake-provider-0000000000 (b3a7bce7445f4358926ce0f1fd912da6) in fake-provider (unknown node id 0000000000)
2017-06-21 04:38:07,368 INFO [nodepool.CleanupWorker] Deleting None instance b3a7bce7445f4358926ce0f1fd912da6 from fake-provider
2017-06-21 04:38:07,384 DEBUG [nodepool.FakeOpenStackCloud] Get b3a7bce7445f4358926ce0f1fd912da6 in [<Instance 61013200 event=<threading._Event object at 0x3a2f050> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fd7e4091650> interface_ip=fake location=<Server.Location 59585488 zone=None> id=b3a7bce7445f4358926ce0f1fd912da6 public_v6= key_name=None>]
2017-06-21 04:38:07,384 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server b3a7bce7445f4358926ce0f1fd912da6
2017-06-21 04:38:07,385 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 61013200 event=<threading._Event object at 0x3a2f050> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fd7e4091650> interface_ip=fake location=<Server.Location 59585488 zone=None> id=b3a7bce7445f4358926ce0f1fd912da6 public_v6= key_name=None>]
2017-06-21 04:38:07,385 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:38:07,385 DEBUG [nodepool.FakeOpenStackCloud] Get b3a7bce7445f4358926ce0f1fd912da6 in []
2017-06-21 04:38:07,535 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:07,538 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:07,539 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:07,539 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:07,674 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance b3a7bce7445f4358926ce0f1fd912da6 from fake-provider
2017-06-21 04:38:07,680 DEBUG [nodepool.FakeOpenStackCloud] Get b3a7bce7445f4358926ce0f1fd912da6 in []
2017-06-21 04:38:07,680 INFO [nodepool.NodeDeleter] Instance b3a7bce7445f4358926ce0f1fd912da6 not found in provider fake-provider
2017-06-21 04:38:07,680 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000001, state=deleting, external_id=b3a7bce7445f4358926ce0f1fd912da6
2017-06-21 04:38:07,887 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:08,176 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:08,176 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:08,176 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:08,176 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:08,813 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:08,814 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:08,817 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
85F
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+0
]
tags: -worker-2
time: 2017-06-21 04:38:02.007331Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_label_provider
time: 2017-06-21 04:38:09.529668Z
successful: nodepool.tests.test_launcher.TestLauncher.test_label_provider [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
22F6
2017-06-21 04:38:02,008 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:02,029 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:02,031 INFO [nodepool.cmd.config_validator] validating /tmp/tmpzEckXR/tmpyScCj3
2017-06-21 04:38:02,064 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:02,069 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:02,152 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:02,152 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,180 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:02,180 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,185 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:02,186 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,207 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:02,208 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,223 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:02,223 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,232 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:02,233 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:02,234 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:02,241 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:02,253 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:02,254 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:02,255 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider2-main
2017-06-21 04:38:02,255 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:02,256 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:02,260 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpzEckXR/tmphhL89P/fake-image-0000000001 fedora vm
2017-06-21 04:38:02,279 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:02,279 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:02,279 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:02,279 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpzEckXR/tmphhL89P/fake-image-0000000001 fedora vm
2017-06-21 04:38:02,279 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:02,281 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:02,282 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:02,282 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:02,282 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:02,283 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:02,284 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:02,284 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:02,284 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpzEckXR/tmphhL89P/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:02,363 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,365 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpzEckXR/tmphhL89P/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:38:02,366 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:02,367 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:38:02,419 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:02,419 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpzEckXR/tmphhL89P/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:02,419 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:02,420 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:03,318 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:04,344 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=228730, mzxid=228730, ctime=1498019883325, mtime=1498019883325, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845289, dataLength=168, numChildren=0, pzxid=228730), 'requestor': u'NodePool:min-ready', 'state_time': 1498019883.319019, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:04,344 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because node type(s) [fake-label] not available
2017-06-21 04:38:05,359 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=228730, mzxid=228867, ctime=1498019883325, mtime=1498019884347, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845289, dataLength=225, numChildren=0, pzxid=228730), 'requestor': u'NodePool:min-ready', 'state_time': 1498019883.319019, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23765-PoolWorker.fake-provider-main'], 'state': u'requested'}>
2017-06-21 04:38:05,362 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:05,386 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:05,390 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider2-0000000000 in fake-provider2 from image fake-image for node id: 0000000000
2017-06-21 04:38:05,391 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:05,393 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 0ceb9d5eb7da4e38a09488b4ee491216 for node id: 0000000000
2017-06-21 04:38:05,501 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:05,501 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:05,508 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:06,424 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:06,439 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:06,512 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:07,152 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:07,152 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:07,487 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:07,489 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:07,490 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:07,491 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:07,978 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:08,330 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:08,330 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:08,330 INFO [nodepool.PoolWorker.fake-provider2-main] PoolWorker.fake-provider2-main received stop
2017-06-21 04:38:08,331 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider2-main
2017-06-21 04:38:08,456 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:08,456 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:09,430 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:09,433 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:09,436 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:03.764993Z
tags: worker-0
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_upload_pause
time: 2017-06-21 04:38:10.101284Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_upload_pause [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3699
2017-06-21 04:38:03,766 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:03,784 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:03,787 INFO [nodepool.cmd.config_validator] validating /tmp/tmpbxl2DS/tmppiTbEC
2017-06-21 04:38:03,827 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:03,828 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:03,970 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:03,996 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:04,008 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:04,021 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:04,023 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:04,027 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:04,034 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:04,040 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:04,062 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:38:04,065 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpbxl2DS/tmplnJpw1/fake-image2-0000000001 fedora vm
2017-06-21 04:38:04,070 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:04,072 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:04,071 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:04,075 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:38:04,075 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:38:04,077 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:38:04,079 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpbxl2DS/tmplnJpw1/fake-image2-0000000001 fedora vm
2017-06-21 04:38:04,079 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:38:04,087 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:38:04,088 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:38:04,088 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:38:04,088 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:38:04,097 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:38:04,097 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:38:04,097 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:38:04,098 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmpbxl2DS/tmplnJpw1/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:04,136 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:04,145 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpbxl2DS/tmplnJpw1/fake-image-0000000001 fedora vm
2017-06-21 04:38:04,162 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:04,167 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:04,168 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:04,168 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpbxl2DS/tmplnJpw1/fake-image-0000000001 fedora vm
2017-06-21 04:38:04,169 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:04,181 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:04,182 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:38:04,182 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpbxl2DS/tmplnJpw1/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:38:04,183 INFO [nodepool.builder.UploadWorker.0] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:38:04,184 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:04,184 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:04,184 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:04,186 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:04,187 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:04,187 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:04,187 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:04,187 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpbxl2DS/tmplnJpw1/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:05,225 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:05,239 INFO [nodepool.NodePool] Creating requests for 1 fake-label2 nodes
2017-06-21 04:38:06,124 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=228924, mzxid=228924, ctime=1498019885233, mtime=1498019885233, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845302, dataLength=168, numChildren=0, pzxid=228924), 'requestor': u'NodePool:min-ready', 'state_time': 1498019885.225252, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:06,125 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because images are not available
2017-06-21 04:38:06,125 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000000
2017-06-21 04:38:06,137 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label2'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=228925, mzxid=228925, ctime=1498019885240, mtime=1498019885240, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845302, dataLength=169, numChildren=0, pzxid=228925), 'requestor': u'NodePool:min-ready', 'state_time': 1498019885.239788, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:06,138 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:06,173 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000001
2017-06-21 04:38:06,202 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label2-fake-provider-0000000000 in fake-provider from image fake-image2 for node id: 0000000000
2017-06-21 04:38:06,212 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:06,217 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 2d18d5ec2e3045fa9ee20bae6602d920 for node id: 0000000000
2017-06-21 04:38:06,320 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:06,320 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:06,324 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:06,327 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=228924, mzxid=228955, ctime=1498019885233, mtime=1498019886126, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845302, dataLength=221, numChildren=0, pzxid=228924), 'requestor': u'NodePool:min-ready', 'state_time': 1498019886.12586, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23764-PoolWorker.fake-provider-main'], 'state': u'failed'}>
2017-06-21 04:38:06,329 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:06,332 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:07,227 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000002', 'stat': ZnodeStat(czxid=228973, mzxid=228973, ctime=1498019886332, mtime=1498019886332, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845302, dataLength=168, numChildren=0, pzxid=228973), 'requestor': u'NodePool:min-ready', 'state_time': 1498019886.332561, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:07,230 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000002 because images are not available
2017-06-21 04:38:07,231 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000002
2017-06-21 04:38:07,245 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:07,249 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000001
2017-06-21 04:38:07,444 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000002', 'stat': ZnodeStat(czxid=228973, mzxid=229045, ctime=1498019886332, mtime=1498019887236, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845302, dataLength=222, numChildren=0, pzxid=228973), 'requestor': u'NodePool:min-ready', 'state_time': 1498019887.231853, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23764-PoolWorker.fake-provider-main'], 'state': u'failed'}>
2017-06-21 04:38:07,448 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:07,479 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label2
2017-06-21 04:38:07,499 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:07,918 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:07,925 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:07,926 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:03']
2017-06-21 04:38:07,926 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:03']
2017-06-21 04:38:07,952 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:07,974 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:07,977 DEBUG [tests.PrettyTableMock] [u'fake-image-0000000001', u'fake-image', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:03']
2017-06-21 04:38:07,977 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:03']
2017-06-21 04:38:08,159 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:08,169 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:08,170 DEBUG [tests.PrettyTableMock] [u'0000000001', u'0000000001', u'fake-provider', u'fake-image2', u'fake-image2-1498019884', u'1a54e840cc714162a957cf86a9a4d515', u'ready', '00:00:00:03']
2017-06-21 04:38:08,305 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000003', 'stat': ZnodeStat(czxid=229082, mzxid=229082, ctime=1498019887499, mtime=1498019887499, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845302, dataLength=167, numChildren=0, pzxid=229082), 'requestor': u'NodePool:min-ready', 'state_time': 1498019887.49929, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:08,325 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:08,328 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000003 because images are not available
2017-06-21 04:38:08,329 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000003
2017-06-21 04:38:08,373 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:08,378 DEBUG [tests.PrettyTableMock] [u'0000000001', u'0000000001', u'fake-provider', u'fake-image2', u'fake-image2-1498019884', u'1a54e840cc714162a957cf86a9a4d515', u'ready', '00:00:00:04']
2017-06-21 04:38:08,804 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:09,195 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:09,197 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:09,197 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:09,198 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:09,348 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:09,350 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:09,350 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:09,350 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:09,997 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:10,004 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:10,004 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:10,004 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:10,011 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
4A7
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
| Build ID | Upload ID | Provider | Image | Provider Image Name | Provider Image ID | State | Age |
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
| Build ID | Upload ID | Provider | Image | Provider Image Name | Provider Image ID | State | Age |
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+
+----------+-----------+----------+-------+---------------------+-------------------+-------+-----+0
]
tags: -worker-0
time: 2017-06-21 04:38:08.880172Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_pause
time: 2017-06-21 04:38:14.607731Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_dib_image_pause [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2C67
2017-06-21 04:38:08,881 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:08,905 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:08,913 INFO [nodepool.cmd.config_validator] validating /tmp/tmpFIrJDF/tmph_cZEk
2017-06-21 04:38:08,943 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:08,948 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:09,065 INFO [nodepool.builder.BuildWorker.0] Building image fake-image2
2017-06-21 04:38:09,071 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpFIrJDF/tmponJzvt/fake-image2-0000000001 fedora vm
2017-06-21 04:38:09,094 INFO [nodepool.image.build.fake-image2] *** fake-image-create: start
2017-06-21 04:38:09,095 INFO [nodepool.image.build.fake-image2] arguments:
2017-06-21 04:38:09,101 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:38:09,103 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,104 INFO [nodepool.image.build.fake-image2] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpFIrJDF/tmponJzvt/fake-image2-0000000001 fedora vm
2017-06-21 04:38:09,104 INFO [nodepool.image.build.fake-image2] ----
2017-06-21 04:38:09,104 INFO [nodepool.image.build.fake-image2] -> debugging enabled
2017-06-21 04:38:09,107 INFO [nodepool.image.build.fake-image2] -> set --checksum
2017-06-21 04:38:09,109 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,110 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,111 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:09,115 INFO [nodepool.image.build.fake-image2] -> set --no-tmpfs
2017-06-21 04:38:09,116 INFO [nodepool.image.build.fake-image2] -> qemu-img-options: compat=0.10
2017-06-21 04:38:09,116 INFO [nodepool.image.build.fake-image2] *** fake-image-create: done
2017-06-21 04:38:09,116 INFO [nodepool.image.build.fake-image2] 
2017-06-21 04:38:09,116 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image2 is built
2017-06-21 04:38:09,116 DEBUG [nodepool.builder.BuildWorker.0] fake-image2 created image /tmp/tmpFIrJDF/tmponJzvt/fake-image2-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:09,117 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,134 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,142 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:09,152 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:09,155 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:09,155 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:09,158 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,193 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image2-0000000001
2017-06-21 04:38:09,193 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpFIrJDF/tmponJzvt/fake-image2-0000000001.qcow2 to fake-provider
2017-06-21 04:38:09,194 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:09,194 INFO [nodepool.builder.UploadWorker.2] Image build fake-image2-0000000001 in fake-provider is ready
2017-06-21 04:38:10,249 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:10,264 INFO [nodepool.NodePool] Creating requests for 1 fake-label2 nodes
2017-06-21 04:38:11,219 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229277, mzxid=229277, ctime=1498019890258, mtime=1498019890258, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845320, dataLength=168, numChildren=0, pzxid=229277), 'requestor': u'NodePool:min-ready', 'state_time': 1498019890.249159, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:11,220 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because images are not available
2017-06-21 04:38:11,220 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000000
2017-06-21 04:38:11,232 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label2'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=229278, mzxid=229278, ctime=1498019890265, mtime=1498019890265, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845320, dataLength=169, numChildren=0, pzxid=229278), 'requestor': u'NodePool:min-ready', 'state_time': 1498019890.264796, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:11,233 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:11,279 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000001
2017-06-21 04:38:11,299 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label2-fake-provider-0000000000 in fake-provider from image fake-image2 for node id: 0000000000
2017-06-21 04:38:11,303 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:11,307 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229277, mzxid=229348, ctime=1498019890258, mtime=1498019891221, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845320, dataLength=222, numChildren=0, pzxid=229277), 'requestor': u'NodePool:min-ready', 'state_time': 1498019891.221077, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23766-PoolWorker.fake-provider-main'], 'state': u'failed'}>
2017-06-21 04:38:11,325 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 1e276234e8654576b880a56ba25e5eb6 for node id: 0000000000
2017-06-21 04:38:11,327 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:11,348 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:11,435 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:11,435 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:11,442 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:12,302 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000002', 'stat': ZnodeStat(czxid=229361, mzxid=229361, ctime=1498019891348, mtime=1498019891348, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845320, dataLength=168, numChildren=0, pzxid=229361), 'requestor': u'NodePool:min-ready', 'state_time': 1498019891.348139, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:12,303 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000002 because images are not available
2017-06-21 04:38:12,303 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000002
2017-06-21 04:38:12,309 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:12,311 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000001
2017-06-21 04:38:12,483 DEBUG [nodepool.NodePool] min-ready node request failed: <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000002', 'stat': ZnodeStat(czxid=229361, mzxid=229403, ctime=1498019891348, mtime=1498019892304, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845320, dataLength=222, numChildren=0, pzxid=229361), 'requestor': u'NodePool:min-ready', 'state_time': 1498019892.303887, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23766-PoolWorker.fake-provider-main'], 'state': u'failed'}>
2017-06-21 04:38:12,486 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:12,501 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label2
2017-06-21 04:38:12,511 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:13,119 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:13,135 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:13,139 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:04']
2017-06-21 04:38:13,306 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:13,345 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000003', 'stat': ZnodeStat(czxid=229422, mzxid=229422, ctime=1498019892511, mtime=1498019892511, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845320, dataLength=168, numChildren=0, pzxid=229422), 'requestor': u'NodePool:min-ready', 'state_time': 1498019892.511413, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:13,346 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000003 because images are not available
2017-06-21 04:38:13,347 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000003
2017-06-21 04:38:13,355 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:13,358 DEBUG [tests.PrettyTableMock] [u'fake-image2-0000000001', u'fake-image2', u'sf-zuulv3.novalocal', u'qcow2', u'ready', '00:00:00:04']
2017-06-21 04:38:13,806 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:14,195 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:14,196 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:14,196 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:14,196 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:14,360 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,371 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:14,373 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:14,373 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:14,518 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:14,523 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,526 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:14,526 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:14,531 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
187
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+
| ID | Image | Builder | Formats | State | Age |
+----+-------+---------+---------+-------+-----+
+----+-------+---------+---------+-------+-----+0
]
tags: -worker-2
time: 2017-06-21 04:38:09.530218Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node
time: 2017-06-21 04:38:14.946679Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A44
2017-06-21 04:38:09,531 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:09,558 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:09,562 INFO [nodepool.cmd.config_validator] validating /tmp/tmp0LmAKh/tmp0p34my
2017-06-21 04:38:09,589 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:09,594 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:09,677 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,711 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,713 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:09,714 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,723 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,727 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,727 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:09,735 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:09,736 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp0LmAKh/tmpk6MV6b/fake-image-0000000001 fedora vm
2017-06-21 04:38:09,745 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:09,752 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:09,752 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:09,752 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:09,752 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp0LmAKh/tmpk6MV6b/fake-image-0000000001 fedora vm
2017-06-21 04:38:09,752 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:09,754 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:09,754 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:09,754 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:09,754 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:09,756 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:09,756 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:09,756 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:09,756 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp0LmAKh/tmpk6MV6b/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:09,759 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:09,760 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:09,761 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:09,822 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:09,822 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmp0LmAKh/tmpk6MV6b/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:09,822 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:09,823 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:10,862 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:11,801 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229339, mzxid=229339, ctime=1498019890876, mtime=1498019890876, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845325, dataLength=168, numChildren=0, pzxid=229339), 'requestor': u'NodePool:min-ready', 'state_time': 1498019890.863116, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:11,803 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:11,824 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:11,832 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:11,833 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:11,836 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 4724739f60b546d7983abc61b977ab2e for node id: 0000000000
2017-06-21 04:38:11,945 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:11,945 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:11,957 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:12,851 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:12,855 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:13,149 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:13,667 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:13,667 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:14,220 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:14,223 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,225 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:14,225 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:14,387 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:14,815 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:14,816 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:14,816 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:14,816 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:14,873 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,874 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:14,877 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:10.101912Z
tags: worker-0
test: nodepool.tests.test_commands.TestNodepoolCMD.test_hold
time: 2017-06-21 04:38:15.689164Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_hold [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
22D3
2017-06-21 04:38:10,102 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:10,120 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:10,126 INFO [nodepool.cmd.config_validator] validating /tmp/tmpppC9zp/tmp414vxZ
2017-06-21 04:38:10,158 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:10,159 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:10,232 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:10,326 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:10,335 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:10,337 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:10,343 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:10,349 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:10,350 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:10,355 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:10,362 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpppC9zp/tmpH7YD4Q/fake-image-0000000001 fedora vm
2017-06-21 04:38:10,372 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:10,372 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:10,372 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:10,372 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpppC9zp/tmpH7YD4Q/fake-image-0000000001 fedora vm
2017-06-21 04:38:10,372 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:10,375 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:10,375 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:10,375 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:10,376 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:10,379 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:10,381 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:10,381 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:10,381 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:10,381 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpppC9zp/tmpH7YD4Q/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:10,390 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:10,391 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:10,392 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:10,554 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:10,554 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpppC9zp/tmpH7YD4Q/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:10,555 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:10,558 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:11,429 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:12,477 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229368, mzxid=229368, ctime=1498019891490, mtime=1498019891490, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845330, dataLength=168, numChildren=0, pzxid=229368), 'requestor': u'NodePool:min-ready', 'state_time': 1498019891.429242, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:12,478 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:12,516 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:12,525 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:12,525 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:12,530 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server dca9ab576e074d9b91d57f3c399aa1cc for node id: 0000000000
2017-06-21 04:38:12,635 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:12,635 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:12,644 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:13,574 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:13,579 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:13,644 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:14,247 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,258 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,259 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23764-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'dca9ab576e074d9b91d57f3c399aa1cc', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:38:14,289 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,308 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,309 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23764-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'dca9ab576e074d9b91d57f3c399aa1cc', u'fake', u'fake', u'', u'ready', '00:00:00:01', 'unlocked', None]
2017-06-21 04:38:14,456 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,478 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,502 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,529 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,530 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23764-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'dca9ab576e074d9b91d57f3c399aa1cc', u'fake', u'fake', u'', u'hold', '00:00:00:00', 'unlocked', u'testing']
2017-06-21 04:38:14,660 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,682 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:14,689 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,690 DEBUG [tests.PrettyTableMock] [u'0000000000', u'fake-provider', u'az1', u'fake-label', u'sf-zuulv3.novalocal-23764-PoolWorker.fake-provider-main', u'fake-label-fake-provider-0000000000', u'dca9ab576e074d9b91d57f3c399aa1cc', u'fake', u'fake', u'', u'hold', '00:00:00:00', 'unlocked', u'testing']
2017-06-21 04:38:14,690 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:14,690 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:14,959 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:14,962 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:14,963 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:14,963 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:15,130 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:15,427 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:15,427 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:15,427 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:15,427 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:15,615 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:15,616 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:15,619 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
D87
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
Waiting for lock...
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+-------+-------------+----------+---------+
| ID         | Provider      | AZ  | Label      | Launcher                                                | Hostname                            | Server ID                        | Public IPv4 | Private IPv4 | IPv6 | State | Age         | Locked   | Comment |
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+-------+-------------+----------+---------+
| 0000000000 | fake-provider | az1 | fake-label | sf-zuulv3.novalocal-23764-PoolWorker.fake-provider-main | fake-label-fake-provider-0000000000 | dca9ab576e074d9b91d57f3c399aa1cc | fake        | fake         |      | hold  | 00:00:00:00 | unlocked | testing |
+------------+---------------+-----+------------+---------------------------------------------------------+-------------------------------------+----------------------------------+-------------+--------------+------+-------+-------------+----------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
| ID | Provider | AZ | Label | Launcher | Hostname | Server ID | Public IPv4 | Private IPv4 | IPv6 | State | Age | Locked | Comment |
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+
+----+----------+----+-------+----------+----------+-----------+-------------+--------------+------+-------+-----+--------+---------+0
]
tags: -worker-0
time: 2017-06-21 04:38:15.689862Z
tags: worker-0
test: nodepool.tests.test_config_validator.TestConfigValidation.test_good_config
time: 2017-06-21 04:38:15.733915Z
successful: nodepool.tests.test_config_validator.TestConfigValidation.test_good_config [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
B5
2017-06-21 04:38:15,691 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:15,691 INFO [nodepool.cmd.config_validator] validating nodepool/tests/fixtures/config_validate/good.yaml
0
]
tags: -worker-0
time: 2017-06-21 04:38:07.061497Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_multiple_pools
time: 2017-06-21 04:38:15.793486Z
successful: nodepool.tests.test_launcher.TestLauncher.test_multiple_pools [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2910
2017-06-21 04:38:07,062 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:07,097 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:07,101 INFO [nodepool.cmd.config_validator] validating /tmp/tmp_xW76f/tmp7aXXb8
2017-06-21 04:38:07,134 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:07,135 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:07,203 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:07,265 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:07,295 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:07,296 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:07,297 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:07,298 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:07,302 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:07,311 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:07,329 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:07,332 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-pool2
2017-06-21 04:38:07,333 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-pool1
2017-06-21 04:38:07,333 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:07,343 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:07,347 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp_xW76f/tmpUNii1o/fake-image-0000000001 fedora vm
2017-06-21 04:38:07,356 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:07,356 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:07,357 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:07,357 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp_xW76f/tmpUNii1o/fake-image-0000000001 fedora vm
2017-06-21 04:38:07,357 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:07,359 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:07,359 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:07,360 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:07,360 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:07,361 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:07,361 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:07,362 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:07,362 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp_xW76f/tmpUNii1o/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:07,450 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:07,454 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmp_xW76f/tmpUNii1o/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:07,461 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:07,462 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:08,350 INFO [nodepool.NodePool] Creating requests for 1 fake-label1 nodes
2017-06-21 04:38:08,363 INFO [nodepool.NodePool] Creating requests for 1 fake-label2 nodes
2017-06-21 04:38:09,413 INFO [nodepool.PoolWorker.fake-provider-pool2] Assigning node request <NodeRequest {'node_types': [u'fake-label1'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229107, mzxid=229107, ctime=1498019888360, mtime=1498019888360, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845311, dataLength=169, numChildren=0, pzxid=229107), 'requestor': u'NodePool:min-ready', 'state_time': 1498019888.350527, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:09,414 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because node type(s) [fake-label1] not available
2017-06-21 04:38:09,449 INFO [nodepool.PoolWorker.fake-provider-pool1] Assigning node request <NodeRequest {'node_types': [u'fake-label2'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=229108, mzxid=229108, ctime=1498019888363, mtime=1498019888363, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845311, dataLength=168, numChildren=0, pzxid=229108), 'requestor': u'NodePool:min-ready', 'state_time': 1498019888.36337, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:09,449 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000001 because node type(s) [fake-label2] not available
2017-06-21 04:38:10,518 INFO [nodepool.PoolWorker.fake-provider-pool2] Assigning node request <NodeRequest {'node_types': [u'fake-label2'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=229108, mzxid=229185, ctime=1498019888363, mtime=1498019889454, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845311, dataLength=226, numChildren=0, pzxid=229108), 'requestor': u'NodePool:min-ready', 'state_time': 1498019888.36337, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23767-PoolWorker.fake-provider-pool1'], 'state': u'requested'}>
2017-06-21 04:38:10,521 INFO [nodepool.PoolWorker.fake-provider-pool1] Assigning node request <NodeRequest {'node_types': [u'fake-label1'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229107, mzxid=229176, ctime=1498019888360, mtime=1498019889417, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845311, dataLength=227, numChildren=0, pzxid=229107), 'requestor': u'NodePool:min-ready', 'state_time': 1498019888.350527, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23767-PoolWorker.fake-provider-pool2'], 'state': u'requested'}>
2017-06-21 04:38:10,526 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:10,539 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:10,585 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000001
2017-06-21 04:38:10,589 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000000
2017-06-21 04:38:10,596 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label2-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:10,596 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:10,597 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label1-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:38:10,598 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:10,600 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server 64fa9594372143b1966aae1cd78edcdd for node id: 0000000001
2017-06-21 04:38:10,601 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 846ee501adb3467e857795cd9226f8aa for node id: 0000000000
2017-06-21 04:38:10,706 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:10,706 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:38:10,708 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:10,708 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:10,713 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:38:10,718 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:11,652 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:11,653 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:11,656 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000001
2017-06-21 04:38:11,658 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000000
2017-06-21 04:38:12,795 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label1
2017-06-21 04:38:12,804 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label2
2017-06-21 04:38:13,248 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:13,248 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:13,752 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:13,756 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:13,760 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:13,761 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:14,206 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:14,451 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:14,451 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:14,452 INFO [nodepool.PoolWorker.fake-provider-pool1] PoolWorker.fake-provider-pool1 received stop
2017-06-21 04:38:14,452 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-pool1
2017-06-21 04:38:14,703 INFO [nodepool.PoolWorker.fake-provider-pool2] PoolWorker.fake-provider-pool2 received stop
2017-06-21 04:38:14,703 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-pool2
2017-06-21 04:38:15,701 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:15,702 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:15,705 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:15.735399Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_disabled_label
time: 2017-06-21 04:38:18.088658Z
successful: nodepool.tests.test_launcher.TestLauncher.test_disabled_label [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1278
2017-06-21 04:38:15,737 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:15,771 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:15,774 INFO [nodepool.cmd.config_validator] validating /tmp/tmpQbyMgf/tmpvlWsXT
2017-06-21 04:38:15,802 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:15,806 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:15,851 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,893 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,911 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,926 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,938 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,939 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:15,941 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,959 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:15,963 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:15,967 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpQbyMgf/tmp2tghnn/fake-image-0000000001 fedora vm
2017-06-21 04:38:15,975 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:15,981 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:15,981 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:15,981 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:15,982 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpQbyMgf/tmp2tghnn/fake-image-0000000001 fedora vm
2017-06-21 04:38:15,982 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:15,984 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:15,985 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:15,986 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:15,986 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:15,986 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:15,986 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:15,993 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:15,993 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:15,993 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:15,993 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpQbyMgf/tmp2tghnn/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:16,079 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:16,080 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpQbyMgf/tmp2tghnn/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:16,081 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:16,081 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:16,865 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:16,865 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:17,014 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:17,017 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:17,018 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:17,018 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:17,494 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:17,995 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:17,995 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:17,995 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:17,996 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:18,016 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:18,017 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:18,020 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:14.608316Z
tags: worker-2
test: nodepool.tests.test_commands.TestNodepoolCMD.test_request_list
time: 2017-06-21 04:38:20.031666Z
successful: nodepool.tests.test_commands.TestNodepoolCMD.test_request_list [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1BC6
2017-06-21 04:38:14,609 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:14,625 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,627 INFO [nodepool.cmd.config_validator] validating /tmp/tmphARuVq/tmpJ7_NEu
2017-06-21 04:38:14,653 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,657 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:14,756 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:14,764 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:14,772 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:14,777 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:14,780 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:14,784 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:14,789 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:14,793 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,793 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:14,796 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmphARuVq/tmpMnXX2V/fake-image-0000000001 fedora vm
2017-06-21 04:38:14,802 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:14,804 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:14,804 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:14,805 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:14,805 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:14,805 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:14,805 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmphARuVq/tmpMnXX2V/fake-image-0000000001 fedora vm
2017-06-21 04:38:14,805 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:14,806 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:14,807 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:14,807 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:14,807 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:14,809 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:14,809 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:14,809 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:14,809 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmphARuVq/tmpMnXX2V/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:14,977 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:14,977 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmphARuVq/tmpMnXX2V/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:14,978 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:14,978 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:15,888 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:16,866 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229658, mzxid=229658, ctime=1498019895904, mtime=1498019895904, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845342, dataLength=168, numChildren=0, pzxid=229658), 'requestor': u'NodePool:min-ready', 'state_time': 1498019895.888412, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:16,871 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:16,892 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:16,896 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:16,896 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:16,899 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server cb52d85202e640f7a0c4456d073b1338 for node id: 0000000000
2017-06-21 04:38:17,004 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:17,005 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:17,019 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:17,908 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:17,912 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:17,954 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:18,846 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:18,859 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:18,863 DEBUG [tests.PrettyTableMock] [u'100-0000000001', u'pending', u'test_request_list', u'fake-label', '', '']
2017-06-21 04:38:18,863 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:18,863 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:18,958 INFO [nodepool.CleanupWorker] Reset lost request 100-0000000001
2017-06-21 04:38:19,171 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:19,175 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:19,175 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:19,175 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:19,469 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:19,875 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:19,875 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:19,875 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:19,875 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:19,943 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:19,944 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:19,948 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
Content-Type: text/plain;charset=utf8
stdout
117
+------------+-------+-----------+------------+-------+-------------+
| Request ID | State | Requestor | Node Types | Nodes | Declined By |
+------------+-------+-----------+------------+-------+-------------+
+------------+-------+-----------+------------+-------+-------------+0
]
tags: -worker-2
time: 2017-06-21 04:38:14.947242Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_assignment
time: 2017-06-21 04:38:21.061121Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_assignment [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
19EB
2017-06-21 04:38:14,948 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:14,967 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,970 INFO [nodepool.cmd.config_validator] validating /tmp/tmpdxYOSG/tmpHc5sPA
2017-06-21 04:38:14,997 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:14,998 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:15,044 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,096 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,110 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,117 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,119 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:15,135 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:15,138 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpdxYOSG/tmpsK7n0l/fake-image-0000000001 fedora vm
2017-06-21 04:38:15,145 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:15,146 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:15,146 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:15,146 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpdxYOSG/tmpsK7n0l/fake-image-0000000001 fedora vm
2017-06-21 04:38:15,146 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:15,148 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:15,148 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:15,148 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:15,148 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:15,155 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:15,155 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:15,156 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:15,156 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpdxYOSG/tmpsK7n0l/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:15,190 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:15,190 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpdxYOSG/tmpsK7n0l/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:15,191 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:15,191 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:16,164 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:16,170 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:16,238 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:16,257 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:16,259 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:16,258 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:16,286 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229697, mzxid=229697, ctime=1498019896080, mtime=1498019896080, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845345, dataLength=151, numChildren=0, pzxid=229697), 'requestor': None, 'state_time': 1498019896.054367, 'reuse': True, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:16,287 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:16,305 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:16,312 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:16,312 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:16,315 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 0757c9d0463c4c659ecc0c0acd99c951 for node id: 0000000000
2017-06-21 04:38:16,418 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:16,418 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:16,424 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:17,349 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:17,362 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:18,344 DEBUG [nodepool.DeletedNodeWorker] Unallocating node 0000000000 with missing request 100-0000000000
2017-06-21 04:38:19,393 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:19,929 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:19,930 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:19,930 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:19,930 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:20,443 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:20,452 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:20,452 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:20,452 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:20,985 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:20,988 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:20,989 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:20,989 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:20,993 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:15.794081Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_boot_from_volume
time: 2017-06-21 04:38:21.370720Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_boot_from_volume [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A44
2017-06-21 04:38:15,796 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:15,824 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:15,829 INFO [nodepool.cmd.config_validator] validating /tmp/tmpKgNTr2/tmpYuq0WC
2017-06-21 04:38:15,879 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:15,884 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:15,981 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:16,012 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:16,016 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:16,039 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:16,047 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:16,050 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:16,052 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:16,056 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:16,058 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:16,062 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpKgNTr2/tmplxJmDk/fake-image-0000000001 fedora vm
2017-06-21 04:38:16,069 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:16,070 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:16,070 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:16,082 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:16,082 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:16,082 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:16,082 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpKgNTr2/tmplxJmDk/fake-image-0000000001 fedora vm
2017-06-21 04:38:16,082 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:16,084 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:16,084 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:16,085 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:16,085 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:16,087 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:16,087 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:16,087 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:16,087 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpKgNTr2/tmplxJmDk/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:16,194 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:16,197 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpKgNTr2/tmplxJmDk/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:16,213 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:16,219 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:17,085 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:17,127 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229752, mzxid=229752, ctime=1498019897091, mtime=1498019897091, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845356, dataLength=168, numChildren=0, pzxid=229752), 'requestor': u'NodePool:min-ready', 'state_time': 1498019897.085322, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:17,128 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:17,201 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:17,236 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:17,238 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:17,247 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 003c6efa22ab413cb1852a93c6d87d8b for node id: 0000000000
2017-06-21 04:38:17,350 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:17,350 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:17,355 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:18,240 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:18,243 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:19,141 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:19,918 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:19,919 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:20,216 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:20,220 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:20,221 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:20,221 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:20,716 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:21,154 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:21,154 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:21,155 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:21,155 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:21,265 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:21,266 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:21,269 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:21.371259Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_deallocation
time: 2017-06-21 04:38:22.816538Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_deallocation [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
12ED
2017-06-21 04:38:21,374 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:21,416 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:21,441 INFO [nodepool.cmd.config_validator] validating /tmp/tmpkPONuq/tmpDh6Wfn
2017-06-21 04:38:21,476 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:21,478 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:21,599 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,618 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,623 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,626 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,631 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,632 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:21,647 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:21,650 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpkPONuq/tmpciEYQh/fake-image-0000000001 fedora vm
2017-06-21 04:38:21,657 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,665 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:21,668 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:21,669 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:21,669 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:21,669 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpkPONuq/tmpciEYQh/fake-image-0000000001 fedora vm
2017-06-21 04:38:21,669 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:21,675 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:21,675 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:21,675 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:21,676 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:21,683 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:21,686 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:21,686 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:21,686 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpkPONuq/tmpciEYQh/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:21,701 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:21,703 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:21,701 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:21,780 DEBUG [nodepool.DeletedNodeWorker] Unallocating node 0000000000 with missing request MISSING
2017-06-21 04:38:21,792 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:21,792 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:21,827 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:21,828 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpkPONuq/tmpciEYQh/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:21,828 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:21,828 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:22,193 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:22,196 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:22,197 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:22,197 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:22,213 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:22,292 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:22,293 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:22,293 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:22,293 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:22,738 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:22,738 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:22,743 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:20.032328Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_fail_request_on_launch_failure
time: 2017-06-21 04:38:25.752678Z
successful: nodepool.tests.test_launcher.TestLauncher.test_fail_request_on_launch_failure [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1FB8
2017-06-21 04:38:20,033 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:20,063 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:20,066 INFO [nodepool.cmd.config_validator] validating /tmp/tmpJxNLKL/tmps_JDgI
2017-06-21 04:38:20,092 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:20,092 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:20,199 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:20,202 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:20,211 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:20,212 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:20,215 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:20,239 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:20,242 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpJxNLKL/tmpIdRTrY/fake-image-0000000001 fedora vm
2017-06-21 04:38:20,249 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:20,249 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:20,249 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:20,249 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpJxNLKL/tmpIdRTrY/fake-image-0000000001 fedora vm
2017-06-21 04:38:20,249 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:20,251 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:20,251 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:20,251 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:20,252 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:20,253 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:20,253 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:20,254 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:20,254 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpJxNLKL/tmpIdRTrY/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:20,460 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:20,461 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpJxNLKL/tmpIdRTrY/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:20,461 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:20,462 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:21,206 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,209 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:21,239 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:21,248 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:21,250 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:21,250 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:22,347 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230014, mzxid=230014, ctime=1498019901327, mtime=1498019901327, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845366, dataLength=151, numChildren=0, pzxid=230014), 'requestor': None, 'state_time': 1498019901.289559, 'reuse': True, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:22,355 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:22,409 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:22,418 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:22,419 ERROR [nodepool.NodeLauncher-0000000000] Launch attempt 1/2 failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:38:22,420 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:22,420 ERROR [nodepool.NodeLauncher-0000000000] Launch attempt 2/2 failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:38:22,420 ERROR [nodepool.NodeLauncher-0000000000] Launch failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 238, in run
    self._run()
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:38:23,429 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because nodes failed
2017-06-21 04:38:23,430 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000000
2017-06-21 04:38:23,432 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:23,837 INFO [nodepool.DeletedNodeWorker] Deleting failed instance None from fake-provider
2017-06-21 04:38:23,844 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=None
2017-06-21 04:38:24,350 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:24,857 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:24,866 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:24,866 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:24,871 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:25,463 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:25,477 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:25,478 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:25,478 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:25,678 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:25,681 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:25,682 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:25,682 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:25,685 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:18.089254Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_max_ready_age
time: 2017-06-21 04:38:26.850164Z
successful: nodepool.tests.test_launcher.TestLauncher.test_max_ready_age [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3921
2017-06-21 04:38:18,090 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:18,107 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:18,113 INFO [nodepool.cmd.config_validator] validating /tmp/tmpNxqPts/tmp4jzlgs
2017-06-21 04:38:18,183 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:18,187 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:18,236 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:18,241 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpNxqPts/tmpQ0DwQ4/fake-image-0000000001 fedora vm
2017-06-21 04:38:18,273 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:18,273 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:18,277 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:18,277 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpNxqPts/tmpQ0DwQ4/fake-image-0000000001 fedora vm
2017-06-21 04:38:18,277 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:18,278 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:18,280 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:18,280 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:18,281 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:18,282 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:18,285 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:18,285 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:18,286 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpNxqPts/tmpQ0DwQ4/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:18,331 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:18,345 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:18,358 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:18,384 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:18,385 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:18,404 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:18,419 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:18,444 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:18,453 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:18,454 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpNxqPts/tmpQ0DwQ4/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:18,455 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:18,456 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:18,464 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:18,474 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:18,475 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:18,475 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:18,493 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=229854, mzxid=229854, ctime=1498019898471, mtime=1498019898471, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845362, dataLength=168, numChildren=0, pzxid=229854), 'requestor': u'NodePool:min-ready', 'state_time': 1498019898.464787, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:18,495 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:18,529 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:18,543 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:18,544 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:18,556 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 45231e91bc954d27a459e7d691c2dd5b for node id: 0000000000
2017-06-21 04:38:18,658 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:18,659 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:18,664 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:19,232 DEBUG [tests] Waiting for initial pool...
2017-06-21 04:38:19,578 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:19,588 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:20,507 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:21,215 INFO [nodepool.CleanupWorker] Deleting ready instance 45231e91bc954d27a459e7d691c2dd5b from fake-provider
2017-06-21 04:38:21,226 DEBUG [nodepool.FakeOpenStackCloud] Get 45231e91bc954d27a459e7d691c2dd5b in [<Instance 61261456 event=<threading._Event object at 0x3a6c5d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7ff9d00516d0> interface_ip=fake location=<Server.Location 61260688 zone=None> id=45231e91bc954d27a459e7d691c2dd5b public_v6= key_name=None>]
2017-06-21 04:38:21,226 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 45231e91bc954d27a459e7d691c2dd5b
2017-06-21 04:38:21,234 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 61261456 event=<threading._Event object at 0x3a6c5d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7ff9d00516d0> interface_ip=fake location=<Server.Location 61260688 zone=None> id=45231e91bc954d27a459e7d691c2dd5b public_v6= key_name=None>]
2017-06-21 04:38:21,234 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:38:21,235 DEBUG [nodepool.FakeOpenStackCloud] Get 45231e91bc954d27a459e7d691c2dd5b in []
2017-06-21 04:38:21,235 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=45231e91bc954d27a459e7d691c2dd5b
2017-06-21 04:38:21,617 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:21,646 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230057, mzxid=230057, ctime=1498019901622, mtime=1498019901622, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845362, dataLength=166, numChildren=0, pzxid=230057), 'requestor': u'NodePool:min-ready', 'state_time': 1498019901.6179, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:21,650 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:21,665 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:38:21,672 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:38:21,679 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:21,682 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server 96913e4a505b4cb8b88f5cb294223212 for node id: 0000000001
2017-06-21 04:38:21,794 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:21,794 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:38:21,807 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:38:22,681 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:22,684 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000001
2017-06-21 04:38:22,705 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:23,358 DEBUG [tests] ...done waiting for initial pool.
2017-06-21 04:38:24,442 INFO [nodepool.CleanupWorker] Deleting ready instance 96913e4a505b4cb8b88f5cb294223212 from fake-provider
2017-06-21 04:38:24,445 DEBUG [nodepool.FakeOpenStackCloud] Get 96913e4a505b4cb8b88f5cb294223212 in [<Instance 140710914152784 event=<threading._Event object at 0x7ff9d00dd3d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7ff9d00516d0> interface_ip=fake location=<Server.Location 140710914152464 zone=None> id=96913e4a505b4cb8b88f5cb294223212 public_v6= key_name=None>]
2017-06-21 04:38:24,445 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 96913e4a505b4cb8b88f5cb294223212
2017-06-21 04:38:24,445 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 140710914152784 event=<threading._Event object at 0x7ff9d00dd3d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7ff9d00516d0> interface_ip=fake location=<Server.Location 140710914152464 zone=None> id=96913e4a505b4cb8b88f5cb294223212 public_v6= key_name=None>]
2017-06-21 04:38:24,445 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:38:24,446 DEBUG [nodepool.FakeOpenStackCloud] Get 96913e4a505b4cb8b88f5cb294223212 in []
2017-06-21 04:38:24,446 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000001, state=deleting, external_id=96913e4a505b4cb8b88f5cb294223212
2017-06-21 04:38:24,838 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:25,360 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:25,360 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:25,732 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000002', 'stat': ZnodeStat(czxid=230236, mzxid=230236, ctime=1498019904839, mtime=1498019904839, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845362, dataLength=168, numChildren=0, pzxid=230236), 'requestor': u'NodePool:min-ready', 'state_time': 1498019904.838389, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:25,735 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000002
2017-06-21 04:38:25,757 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000002 for request 100-0000000002
2017-06-21 04:38:25,762 INFO [nodepool.NodeLauncher-0000000002] Creating server with hostname fake-label-fake-provider-0000000002 in fake-provider from image fake-image for node id: 0000000002
2017-06-21 04:38:25,763 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:25,764 DEBUG [nodepool.NodeLauncher-0000000002] Waiting for server 54921488249a4c40aeeee1927aba3f58 for node id: 0000000002
2017-06-21 04:38:25,901 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:25,904 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:25,905 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:25,905 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:25,964 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:25,974 DEBUG [nodepool.NodeLauncher-0000000002] Node 0000000002 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:25,974 DEBUG [nodepool.NodeLauncher-0000000002] Gathering host keys for node 0000000002
2017-06-21 04:38:25,978 INFO [nodepool.NodeLauncher-0000000002] Node id 0000000002 is ready
2017-06-21 04:38:26,083 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:26,083 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:26,084 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:26,084 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:26,766 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:26,768 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:26,772 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:21.061653Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_delete_failure
time: 2017-06-21 04:38:29.835876Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_delete_failure [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
6442
2017-06-21 04:38:21,062 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:21,083 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:21,086 INFO [nodepool.cmd.config_validator] validating /tmp/tmphNq3X9/tmpzZIjYY
2017-06-21 04:38:21,171 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:21,175 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:21,282 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,293 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,306 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,313 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,324 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,328 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:21,328 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:21,329 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:21,338 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmphNq3X9/tmpKsygo4/fake-image-0000000001 fedora vm
2017-06-21 04:38:21,341 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:21,352 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:21,364 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:21,364 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:21,364 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:21,364 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmphNq3X9/tmpKsygo4/fake-image-0000000001 fedora vm
2017-06-21 04:38:21,364 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:21,366 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:21,367 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:21,368 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:21,368 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:21,368 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:21,369 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:21,376 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:21,376 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:21,376 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:21,377 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmphNq3X9/tmpKsygo4/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:21,514 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:21,514 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmphNq3X9/tmpKsygo4/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:21,523 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:21,524 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:22,405 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:23,413 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230120, mzxid=230120, ctime=1498019902412, mtime=1498019902412, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845374, dataLength=168, numChildren=0, pzxid=230120), 'requestor': u'NodePool:min-ready', 'state_time': 1498019902.406157, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:23,414 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:23,499 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:23,546 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:23,553 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:23,555 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 189856351fa04d9f8ec19e01d336e2b6 for node id: 0000000000
2017-06-21 04:38:23,667 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:23,667 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:23,680 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:24,524 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:24,527 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:24,575 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:25,242 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>]
2017-06-21 04:38:25,242 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:25,242 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:25,462 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider
2017-06-21 04:38:25,469 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>]
2017-06-21 04:38:25,469 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:25,469 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:25,647 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:26,007 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider
2017-06-21 04:38:26,036 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>]
2017-06-21 04:38:26,040 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:26,049 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:26,552 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider
2017-06-21 04:38:26,572 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>]
2017-06-21 04:38:26,574 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:26,575 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:26,594 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230261, mzxid=230261, ctime=1498019905648, mtime=1498019905648, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845374, dataLength=168, numChildren=0, pzxid=230261), 'requestor': u'NodePool:min-ready', 'state_time': 1498019905.648104, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:26,607 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:26,645 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:38:26,649 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:38:26,650 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:26,658 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server f0bc2741d2344a0382a7999c4b77e2f5 for node id: 0000000001
2017-06-21 04:38:26,765 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:26,765 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:38:26,775 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:38:27,084 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider
2017-06-21 04:38:27,093 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>, <Instance 140400266646608 event=<threading._Event object at 0x7fb1800639d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400333831632 zone=None> id=f0bc2741d2344a0382a7999c4b77e2f5 public_v6= key_name=None>]
2017-06-21 04:38:27,093 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:27,093 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:27,612 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider
2017-06-21 04:38:27,625 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>, <Instance 140400266646608 event=<threading._Event object at 0x7fb1800639d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400333831632 zone=None> id=f0bc2741d2344a0382a7999c4b77e2f5 public_v6= key_name=None>]
2017-06-21 04:38:27,625 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:27,625 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:27,656 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:27,658 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000001
2017-06-21 04:38:27,713 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:28,145 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider
2017-06-21 04:38:28,152 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>, <Instance 140400266646608 event=<threading._Event object at 0x7fb1800639d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400333831632 zone=None> id=f0bc2741d2344a0382a7999c4b77e2f5 public_v6= key_name=None>]
2017-06-21 04:38:28,153 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:28,153 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:28,274 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:28,275 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:28,652 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider
2017-06-21 04:38:28,655 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>, <Instance 140400266646608 event=<threading._Event object at 0x7fb1800639d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400333831632 zone=None> id=f0bc2741d2344a0382a7999c4b77e2f5 public_v6= key_name=None>]
2017-06-21 04:38:28,655 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:28,655 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:28,725 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:28,733 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:28,736 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:28,736 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:29,163 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider
2017-06-21 04:38:29,166 DEBUG [nodepool.FakeOpenStackCloud] Get 189856351fa04d9f8ec19e01d336e2b6 in [<Instance 140400266803600 event=<threading._Event object at 0x7fb17c077cd0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400266803792 zone=None> id=189856351fa04d9f8ec19e01d336e2b6 public_v6= key_name=None>, <Instance 140400266646608 event=<threading._Event object at 0x7fb1800639d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb18c0a86d0> interface_ip=fake location=<Server.Location 140400333831632 zone=None> id=f0bc2741d2344a0382a7999c4b77e2f5 public_v6= key_name=None>]
2017-06-21 04:38:29,166 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 189856351fa04d9f8ec19e01d336e2b6
2017-06-21 04:38:29,166 ERROR [nodepool.NodeDeleter] Exception deleting instance 189856351fa04d9f8ec19e01d336e2b6 from fake-provider:
Traceback (most recent call last):
  File "nodepool/launcher.py", line 75, in delete
    manager.cleanupNode(node.external_id)
  File "nodepool/driver/openstack/provider.py", line 329, in cleanupNode
    self.deleteServer(server_id)
  File "nodepool/tests/test_launcher.py", line 401, in fail_delete
    raise RuntimeError('Fake Error')
RuntimeError: Fake Error
2017-06-21 04:38:29,168 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:29,664 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:29,664 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:29,664 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:29,665 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:29,749 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:29,750 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:29,753 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:22.817308Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_delete_success
time: 2017-06-21 04:38:31.473468Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_delete_success [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2A40
2017-06-21 04:38:22,818 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:22,847 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:22,855 INFO [nodepool.cmd.config_validator] validating /tmp/tmp3GZLsN/tmpzWZQSC
2017-06-21 04:38:22,902 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:22,905 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:23,006 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:23,024 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:23,039 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:23,041 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:23,051 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:23,052 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:23,052 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:23,061 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:23,076 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:23,080 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:23,081 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:23,084 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp3GZLsN/tmp8Xubjj/fake-image-0000000001 fedora vm
2017-06-21 04:38:23,093 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:23,110 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:23,110 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:23,110 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:23,110 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp3GZLsN/tmp8Xubjj/fake-image-0000000001 fedora vm
2017-06-21 04:38:23,111 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:23,113 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:23,113 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:23,113 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:23,113 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:23,115 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:23,121 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:23,123 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:23,123 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp3GZLsN/tmp8Xubjj/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:23,249 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:23,250 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmp3GZLsN/tmp8Xubjj/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:23,258 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:23,263 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:24,152 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:25,158 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230222, mzxid=230222, ctime=1498019904177, mtime=1498019904177, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845383, dataLength=168, numChildren=0, pzxid=230222), 'requestor': u'NodePool:min-ready', 'state_time': 1498019904.152154, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:25,160 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:25,195 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:25,206 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:25,207 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:25,216 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 1b5442f06aff486582ea2d42b87ba84b for node id: 0000000000
2017-06-21 04:38:25,321 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:25,321 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:25,328 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:26,265 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:26,281 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:26,326 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:27,141 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 1b5442f06aff486582ea2d42b87ba84b from fake-provider
2017-06-21 04:38:27,146 DEBUG [nodepool.FakeOpenStackCloud] Get 1b5442f06aff486582ea2d42b87ba84b in [<Instance 140400199767376 event=<threading._Event object at 0x7fb1780891d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb1780613d0> interface_ip=fake location=<Server.Location 140400199769296 zone=None> id=1b5442f06aff486582ea2d42b87ba84b public_v6= key_name=None>]
2017-06-21 04:38:27,146 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 1b5442f06aff486582ea2d42b87ba84b
2017-06-21 04:38:27,146 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 140400199767376 event=<threading._Event object at 0x7fb1780891d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb1780613d0> interface_ip=fake location=<Server.Location 140400199769296 zone=None> id=1b5442f06aff486582ea2d42b87ba84b public_v6= key_name=None>]
2017-06-21 04:38:27,147 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:38:27,147 DEBUG [nodepool.FakeOpenStackCloud] Get 1b5442f06aff486582ea2d42b87ba84b in []
2017-06-21 04:38:27,147 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=1b5442f06aff486582ea2d42b87ba84b
2017-06-21 04:38:27,341 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:28,332 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230431, mzxid=230431, ctime=1498019907342, mtime=1498019907342, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845383, dataLength=168, numChildren=0, pzxid=230431), 'requestor': u'NodePool:min-ready', 'state_time': 1498019907.341895, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:28,333 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:28,346 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000001
2017-06-21 04:38:28,352 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:38:28,355 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:28,359 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server ad993b90821843eab4de137e54c00b67 for node id: 0000000001
2017-06-21 04:38:28,469 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:28,470 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:38:28,476 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:38:29,363 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:29,366 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000001
2017-06-21 04:38:29,453 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:29,967 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:29,967 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:30,484 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:30,487 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:30,488 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:30,488 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:30,805 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:31,201 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:31,201 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:31,201 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:31,201 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:31,384 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:31,384 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:31,387 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:25.753335Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_leaked_node
time: 2017-06-21 04:38:34.363671Z
successful: nodepool.tests.test_launcher.TestLauncher.test_leaked_node [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2E16
2017-06-21 04:38:25,755 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:25,781 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:25,787 INFO [nodepool.cmd.config_validator] validating /tmp/tmpMgdZSG/tmpiCLKOg
2017-06-21 04:38:25,811 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:25,814 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:25,899 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:25,934 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:25,944 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:25,944 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:25,946 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:25,954 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:25,955 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:25,961 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:25,966 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:25,970 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpMgdZSG/tmpgzh0fh/fake-image-0000000001 fedora vm
2017-06-21 04:38:25,976 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:25,978 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:25,975 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:25,986 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:25,986 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:25,986 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:25,986 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpMgdZSG/tmpgzh0fh/fake-image-0000000001 fedora vm
2017-06-21 04:38:25,986 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:25,989 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:25,990 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:25,990 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:25,990 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:25,992 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:25,992 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:25,993 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:25,993 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpMgdZSG/tmpgzh0fh/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:26,058 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:26,069 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpMgdZSG/tmpgzh0fh/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:26,075 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:26,077 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:26,848 DEBUG [tests] Waiting for initial pool...
2017-06-21 04:38:26,996 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:28,011 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230384, mzxid=230384, ctime=1498019907009, mtime=1498019907009, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845388, dataLength=168, numChildren=0, pzxid=230384), 'requestor': u'NodePool:min-ready', 'state_time': 1498019906.997147, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:28,020 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:28,123 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:28,143 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:28,145 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:28,148 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 91333d88e5d645cb9d2719765b253a62 for node id: 0000000000
2017-06-21 04:38:28,262 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:28,262 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:28,272 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:29,138 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:29,141 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:29,197 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:29,869 DEBUG [tests] ...done waiting for initial pool.
2017-06-21 04:38:29,869 DEBUG [tests] Delete node db record so instance is leaked...
2017-06-21 04:38:29,901 DEBUG [tests] ...deleted node db so instance is leaked.
2017-06-21 04:38:29,901 DEBUG [tests] Waiting for replacement pool...
2017-06-21 04:38:30,057 WARNING [nodepool.CleanupWorker] Deleting leaked instance fake-label-fake-provider-0000000000 (91333d88e5d645cb9d2719765b253a62) in fake-provider (unknown node id 0000000000)
2017-06-21 04:38:30,057 INFO [nodepool.CleanupWorker] Deleting None instance 91333d88e5d645cb9d2719765b253a62 from fake-provider
2017-06-21 04:38:30,098 DEBUG [nodepool.FakeOpenStackCloud] Get 91333d88e5d645cb9d2719765b253a62 in [<Instance 61024272 event=<threading._Event object at 0x7fd7e407ad50> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3a45650> interface_ip=fake location=<Server.Location 61103120 zone=None> id=91333d88e5d645cb9d2719765b253a62 public_v6= key_name=None>]
2017-06-21 04:38:30,099 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 91333d88e5d645cb9d2719765b253a62
2017-06-21 04:38:30,099 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 61024272 event=<threading._Event object at 0x7fd7e407ad50> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3a45650> interface_ip=fake location=<Server.Location 61103120 zone=None> id=91333d88e5d645cb9d2719765b253a62 public_v6= key_name=None>]
2017-06-21 04:38:30,099 DEBUG [nodepool.FakeOpenStackCloud] Deleted from []
2017-06-21 04:38:30,100 DEBUG [nodepool.FakeOpenStackCloud] Get 91333d88e5d645cb9d2719765b253a62 in []
2017-06-21 04:38:30,337 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:30,511 INFO [nodepool.DeletedNodeWorker] Deleting deleting instance 91333d88e5d645cb9d2719765b253a62 from fake-provider
2017-06-21 04:38:30,513 DEBUG [nodepool.FakeOpenStackCloud] Get 91333d88e5d645cb9d2719765b253a62 in []
2017-06-21 04:38:30,514 INFO [nodepool.NodeDeleter] Instance 91333d88e5d645cb9d2719765b253a62 not found in provider fake-provider
2017-06-21 04:38:30,514 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000001, state=deleting, external_id=91333d88e5d645cb9d2719765b253a62
2017-06-21 04:38:31,198 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230621, mzxid=230621, ctime=1498019910337, mtime=1498019910337, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845388, dataLength=168, numChildren=0, pzxid=230621), 'requestor': u'NodePool:min-ready', 'state_time': 1498019910.337241, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:31,217 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:31,243 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000002 for request 100-0000000001
2017-06-21 04:38:31,251 INFO [nodepool.NodeLauncher-0000000002] Creating server with hostname fake-label-fake-provider-0000000002 in fake-provider from image fake-image for node id: 0000000002
2017-06-21 04:38:31,252 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:31,255 DEBUG [nodepool.NodeLauncher-0000000002] Waiting for server 5d02cfbb3f4b4d8d80f68cdc6ff12450 for node id: 0000000002
2017-06-21 04:38:31,359 DEBUG [nodepool.NodeLauncher-0000000002] Node 0000000002 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:31,360 DEBUG [nodepool.NodeLauncher-0000000002] Gathering host keys for node 0000000002
2017-06-21 04:38:31,396 INFO [nodepool.NodeLauncher-0000000002] Node id 0000000002 is ready
2017-06-21 04:38:32,260 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:32,264 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000002 for request 100-0000000001
2017-06-21 04:38:32,472 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:32,933 DEBUG [tests] ...done waiting for replacement pool.
2017-06-21 04:38:32,933 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:32,933 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:33,046 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:33,050 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:33,051 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:33,051 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:33,130 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:33,520 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:33,520 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:33,521 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:33,521 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:34,280 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:34,281 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:34,283 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:26.851153Z
tags: worker-0
test: nodepool.tests.test_launcher.TestLauncher.test_node_assignment_at_quota
time: 2017-06-21 04:38:36.975431Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_assignment_at_quota [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
5A23
2017-06-21 04:38:26,853 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:26,883 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:26,895 INFO [nodepool.cmd.config_validator] validating /tmp/tmpaxECwO/tmpUyohI_
2017-06-21 04:38:26,946 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:26,946 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:27,053 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:27,054 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:27,054 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:27,061 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:27,062 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:27,097 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:27,100 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpaxECwO/tmpdBzqS_/fake-image-0000000001 fedora vm
2017-06-21 04:38:27,115 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:27,115 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:27,116 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:27,116 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpaxECwO/tmpdBzqS_/fake-image-0000000001 fedora vm
2017-06-21 04:38:27,116 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:27,121 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:27,121 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:27,122 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:27,122 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:27,125 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:27,125 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:27,125 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:27,125 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpaxECwO/tmpdBzqS_/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:27,299 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:27,299 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpaxECwO/tmpdBzqS_/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:27,299 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:27,300 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:28,045 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:28,052 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:28,064 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:28,070 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:28,070 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:28,071 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:29,140 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label', u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230457, mzxid=230457, ctime=1498019908100, mtime=1498019908100, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845391, dataLength=164, numChildren=0, pzxid=230457), 'requestor': None, 'state_time': 1498019908.09515, 'reuse': True, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:29,162 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:29,197 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:29,210 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:29,210 DEBUG [nodepool.FakeOpenStackCloud] Pause creates True
2017-06-21 04:38:29,211 DEBUG [nodepool.FakeOpenStackCloud] Pausing
2017-06-21 04:38:29,214 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000000
2017-06-21 04:38:29,214 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 2b759b9e382b4660a1429e7266dfa7d2 for node id: 0000000000
2017-06-21 04:38:29,233 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label-fake-provider-0000000001 in fake-provider from image fake-image for node id: 0000000001
2017-06-21 04:38:29,235 DEBUG [nodepool.FakeOpenStackCloud] Pause creates True
2017-06-21 04:38:29,235 DEBUG [nodepool.FakeOpenStackCloud] Pausing
2017-06-21 04:38:29,249 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server 864bd1ccd2c34de6af100cb280784cb6 for node id: 0000000001
2017-06-21 04:38:29,256 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label', u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230458, mzxid=230458, ctime=1498019908103, mtime=1498019908103, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845391, dataLength=164, numChildren=0, pzxid=230458), 'requestor': None, 'state_time': 1498019908.10292, 'reuse': True, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:29,258 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:29,262 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Pausing request handling to satisfy request <NodeRequest {'node_types': [u'fake-label', u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230458, mzxid=230458, ctime=1498019908103, mtime=1498019908103, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845391, dataLength=164, numChildren=0, pzxid=230458), 'requestor': None, 'state_time': 1498019909.258609, 'reuse': True, 'declined_by': [], 'state': 'pending'}>
2017-06-21 04:38:30,117 DEBUG [tests] Waiting for 1st request 100-0000000000
2017-06-21 04:38:30,117 DEBUG [nodepool.FakeOpenStackCloud] Continuing
2017-06-21 04:38:30,118 DEBUG [nodepool.FakeOpenStackCloud] Continuing
2017-06-21 04:38:30,121 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:30,121 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:30,128 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:30,161 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:30,161 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:38:30,176 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:38:30,272 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Retrying node request 100-0000000001
2017-06-21 04:38:30,275 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:30,277 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:30,289 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000000
2017-06-21 04:38:31,121 DEBUG [tests] Marking first node as used 100-0000000000
2017-06-21 04:38:31,192 INFO [nodepool.DeletedNodeWorker] Deleting used instance 2b759b9e382b4660a1429e7266dfa7d2 from fake-provider
2017-06-21 04:38:31,197 DEBUG [nodepool.FakeOpenStackCloud] Get 2b759b9e382b4660a1429e7266dfa7d2 in [<Instance 62142928 event=<threading._Event object at 0x3b435d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 62143440 zone=None> id=2b759b9e382b4660a1429e7266dfa7d2 public_v6= key_name=None>, <Instance 63181776 event=<threading._Event object at 0x3c41e10> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 62139024 zone=None> id=864bd1ccd2c34de6af100cb280784cb6 public_v6= key_name=None>]
2017-06-21 04:38:31,198 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 2b759b9e382b4660a1429e7266dfa7d2
2017-06-21 04:38:31,198 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 62142928 event=<threading._Event object at 0x3b435d0> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000000', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000000 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 62143440 zone=None> id=2b759b9e382b4660a1429e7266dfa7d2 public_v6= key_name=None>, <Instance 63181776 event=<threading._Event object at 0x3c41e10> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 62139024 zone=None> id=864bd1ccd2c34de6af100cb280784cb6 public_v6= key_name=None>]
2017-06-21 04:38:31,198 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Instance 63181776 event=<threading._Event object at 0x3c41e10> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 62139024 zone=None> id=864bd1ccd2c34de6af100cb280784cb6 public_v6= key_name=None>]
2017-06-21 04:38:31,198 DEBUG [nodepool.FakeOpenStackCloud] Get 2b759b9e382b4660a1429e7266dfa7d2 in [<Instance 63181776 event=<threading._Event object at 0x3c41e10> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 62139024 zone=None> id=864bd1ccd2c34de6af100cb280784cb6 public_v6= key_name=None>]
2017-06-21 04:38:31,198 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=2b759b9e382b4660a1429e7266dfa7d2
2017-06-21 04:38:31,310 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Retrying node request 100-0000000001
2017-06-21 04:38:31,312 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unpaused request <NodeRequest {'node_types': [u'fake-label', u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230458, mzxid=230458, ctime=1498019908103, mtime=1498019908103, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845391, dataLength=164, numChildren=0, pzxid=230458), 'requestor': None, 'state_time': 1498019909.258609, 'reuse': True, 'declined_by': [], 'state': 'pending'}>
2017-06-21 04:38:31,321 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000002 for request 100-0000000001
2017-06-21 04:38:31,327 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Pausing request handling to satisfy request <NodeRequest {'node_types': [u'fake-label', u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230458, mzxid=230458, ctime=1498019908103, mtime=1498019908103, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845391, dataLength=164, numChildren=0, pzxid=230458), 'requestor': None, 'state_time': 1498019909.258609, 'reuse': True, 'declined_by': [], 'state': 'pending'}>
2017-06-21 04:38:31,338 INFO [nodepool.NodeLauncher-0000000002] Creating server with hostname fake-label-fake-provider-0000000002 in fake-provider from image fake-image for node id: 0000000002
2017-06-21 04:38:31,339 DEBUG [nodepool.FakeOpenStackCloud] Pause creates True
2017-06-21 04:38:31,339 DEBUG [nodepool.FakeOpenStackCloud] Pausing
2017-06-21 04:38:31,343 DEBUG [nodepool.NodeLauncher-0000000002] Waiting for server 3f3ead855ff24a04b2eb7d33cc9d5488 for node id: 0000000002
2017-06-21 04:38:32,152 DEBUG [tests] Waiting for node allocation for 2nd request
2017-06-21 04:38:32,161 DEBUG [tests] Marking second node as used 100-0000000000
2017-06-21 04:38:32,221 INFO [nodepool.DeletedNodeWorker] Deleting used instance 864bd1ccd2c34de6af100cb280784cb6 from fake-provider
2017-06-21 04:38:32,226 DEBUG [nodepool.FakeOpenStackCloud] Get 864bd1ccd2c34de6af100cb280784cb6 in [<Instance 63181776 event=<threading._Event object at 0x3c41e10> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 62139024 zone=None> id=864bd1ccd2c34de6af100cb280784cb6 public_v6= key_name=None>, <Instance 63181200 event=<threading._Event object at 0x3c41510> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000002', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=BUILD public_v4=fake should_fail=False name=fake-label-fake-provider-0000000002 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 63182480 zone=None> id=3f3ead855ff24a04b2eb7d33cc9d5488 public_v6= key_name=None>]
2017-06-21 04:38:32,228 DEBUG [nodepool.driver.openstack.OpenStackProvider] Deleting server 864bd1ccd2c34de6af100cb280784cb6
2017-06-21 04:38:32,229 DEBUG [nodepool.FakeOpenStackCloud] Delete from [<Instance 63181776 event=<threading._Event object at 0x3c41e10> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000001', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=ACTIVE public_v4=fake should_fail=False name=fake-label-fake-provider-0000000001 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 62139024 zone=None> id=864bd1ccd2c34de6af100cb280784cb6 public_v6= key_name=None>, <Instance 63181200 event=<threading._Event object at 0x3c41510> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000002', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=BUILD public_v4=fake should_fail=False name=fake-label-fake-provider-0000000002 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 63182480 zone=None> id=3f3ead855ff24a04b2eb7d33cc9d5488 public_v6= key_name=None>]
2017-06-21 04:38:32,229 DEBUG [nodepool.FakeOpenStackCloud] Deleted from [<Instance 63181200 event=<threading._Event object at 0x3c41510> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000002', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=BUILD public_v4=fake should_fail=False name=fake-label-fake-provider-0000000002 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 63182480 zone=None> id=3f3ead855ff24a04b2eb7d33cc9d5488 public_v6= key_name=None>]
2017-06-21 04:38:32,230 DEBUG [nodepool.FakeOpenStackCloud] Get 864bd1ccd2c34de6af100cb280784cb6 in [<Instance 63181200 event=<threading._Event object at 0x3c41510> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={'nodepool_provider_name': 'fake-provider', 'nodepool_node_id': u'0000000002', 'nodepool_image_name': 'fake-image', 'groups': 'fake-provider,fake-image'} status=BUILD public_v4=fake should_fail=False name=fake-label-fake-provider-0000000002 manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x3b4a850> interface_ip=fake location=<Server.Location 63182480 zone=None> id=3f3ead855ff24a04b2eb7d33cc9d5488 public_v6= key_name=None>]
2017-06-21 04:38:32,230 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000001, state=deleting, external_id=864bd1ccd2c34de6af100cb280784cb6
2017-06-21 04:38:32,362 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Retrying node request 100-0000000001
2017-06-21 04:38:32,380 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unpaused request <NodeRequest {'node_types': [u'fake-label', u'fake-label'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230458, mzxid=230458, ctime=1498019908103, mtime=1498019908103, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845391, dataLength=164, numChildren=0, pzxid=230458), 'requestor': None, 'state_time': 1498019909.258609, 'reuse': True, 'declined_by': [], 'state': 'pending'}>
2017-06-21 04:38:32,410 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000003 for request 100-0000000001
2017-06-21 04:38:32,415 INFO [nodepool.NodeLauncher-0000000003] Creating server with hostname fake-label-fake-provider-0000000003 in fake-provider from image fake-image for node id: 0000000003
2017-06-21 04:38:32,417 DEBUG [nodepool.FakeOpenStackCloud] Pause creates True
2017-06-21 04:38:32,418 DEBUG [nodepool.FakeOpenStackCloud] Pausing
2017-06-21 04:38:32,420 DEBUG [nodepool.NodeLauncher-0000000003] Waiting for server 0e47b7fa85174f63a5f674e84f8a3cec for node id: 0000000003
2017-06-21 04:38:33,174 DEBUG [tests] Deleting 1st request 100-0000000000
2017-06-21 04:38:34,194 DEBUG [nodepool.FakeOpenStackCloud] Continuing
2017-06-21 04:38:34,195 DEBUG [nodepool.FakeOpenStackCloud] Continuing
2017-06-21 04:38:34,231 DEBUG [nodepool.NodeLauncher-0000000003] Node 0000000003 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:34,231 DEBUG [nodepool.NodeLauncher-0000000003] Gathering host keys for node 0000000003
2017-06-21 04:38:34,241 INFO [nodepool.NodeLauncher-0000000003] Node id 0000000003 is ready
2017-06-21 04:38:34,259 DEBUG [nodepool.NodeLauncher-0000000002] Node 0000000002 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:34,259 DEBUG [nodepool.NodeLauncher-0000000002] Gathering host keys for node 0000000002
2017-06-21 04:38:34,270 INFO [nodepool.NodeLauncher-0000000002] Node id 0000000002 is ready
2017-06-21 04:38:34,432 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:34,434 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000002 for request 100-0000000001
2017-06-21 04:38:34,437 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000003 for request 100-0000000001
2017-06-21 04:38:35,573 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:35,838 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:35,838 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:35,839 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:35,839 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:36,455 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:36,463 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:36,464 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:36,464 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:36,880 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:36,884 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:36,885 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:36,885 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:36,888 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:31.474028Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_flavor_name
time: 2017-06-21 04:38:37.031535Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_flavor_name [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A49
2017-06-21 04:38:31,474 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:31,503 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:31,505 INFO [nodepool.cmd.config_validator] validating /tmp/tmpqjJX3j/tmpUpGT8G
2017-06-21 04:38:31,531 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:31,535 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:31,610 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:31,680 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:31,682 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:31,683 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:31,691 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:31,699 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:31,699 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:31,707 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:31,708 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:31,711 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpqjJX3j/tmp1aKxmd/fake-image-0000000001 fedora vm
2017-06-21 04:38:31,724 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:31,724 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:31,724 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:31,724 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpqjJX3j/tmp1aKxmd/fake-image-0000000001 fedora vm
2017-06-21 04:38:31,724 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:31,734 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:31,734 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:31,734 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:31,734 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:31,734 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:31,738 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:31,738 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:31,738 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:31,738 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpqjJX3j/tmp1aKxmd/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:31,742 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:31,743 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:31,773 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:31,774 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpqjJX3j/tmp1aKxmd/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:31,774 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:31,774 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:32,796 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:33,850 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230798, mzxid=230798, ctime=1498019912804, mtime=1498019912804, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845403, dataLength=168, numChildren=0, pzxid=230798), 'requestor': u'NodePool:min-ready', 'state_time': 1498019912.797057, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:33,865 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:33,906 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:33,911 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:33,912 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:33,915 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server ef130c00d693455588fb938669d151a9 for node id: 0000000000
2017-06-21 04:38:34,023 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:34,023 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:34,031 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:34,919 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:34,921 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:34,954 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:35,619 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:35,619 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:35,982 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:35,986 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:35,986 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:35,986 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:36,366 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:36,772 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:36,772 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:36,772 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:36,772 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:36,947 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:36,954 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:36,958 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:29.836639Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_ipv6
time: 2017-06-21 04:38:37.416815Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_ipv6 [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
2AEB
2017-06-21 04:38:29,837 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:29,870 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:29,875 INFO [nodepool.cmd.config_validator] validating /tmp/tmp2SmGoe/tmpf_X2OK
2017-06-21 04:38:29,922 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:29,923 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:30,064 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:30,066 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:30,075 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:30,075 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:30,083 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:30,083 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:30,086 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:30,086 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:30,104 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:30,104 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:30,106 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:30,108 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:30,109 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:30,115 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:30,131 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:30,132 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:30,133 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider2-main
2017-06-21 04:38:30,134 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider1-main
2017-06-21 04:38:30,138 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:30,140 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp2SmGoe/tmpuFSiKL/fake-image-0000000001 fedora vm
2017-06-21 04:38:30,155 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:30,155 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:30,155 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:30,155 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp2SmGoe/tmpuFSiKL/fake-image-0000000001 fedora vm
2017-06-21 04:38:30,155 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:30,156 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:30,157 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:30,157 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:30,157 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:30,158 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:30,158 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:30,158 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:30,158 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp2SmGoe/tmpuFSiKL/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:30,336 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:30,336 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmp2SmGoe/tmpuFSiKL/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:38:30,337 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:30,337 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:38:30,380 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:30,380 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmp2SmGoe/tmpuFSiKL/fake-image-0000000001.qcow2 to fake-provider1
2017-06-21 04:38:30,381 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:30,381 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider1 is ready
2017-06-21 04:38:31,333 INFO [nodepool.NodePool] Creating requests for 1 fake-label1 nodes
2017-06-21 04:38:31,347 INFO [nodepool.NodePool] Creating requests for 1 fake-label2 nodes
2017-06-21 04:38:32,200 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'node_types': [u'fake-label1'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230678, mzxid=230678, ctime=1498019911340, mtime=1498019911340, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845398, dataLength=169, numChildren=0, pzxid=230678), 'requestor': u'NodePool:min-ready', 'state_time': 1498019911.333959, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:32,200 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because node type(s) [fake-label1] not available
2017-06-21 04:38:32,220 INFO [nodepool.PoolWorker.fake-provider2-main] Assigning node request <NodeRequest {'node_types': [u'fake-label2'], 'nodes': [], 'id': u'100-0000000001', 'stat': ZnodeStat(czxid=230679, mzxid=230679, ctime=1498019911347, mtime=1498019911347, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845398, dataLength=168, numChildren=0, pzxid=230679), 'requestor': u'NodePool:min-ready', 'state_time': 1498019911.34712, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:32,226 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000001
2017-06-21 04:38:32,306 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000001
2017-06-21 04:38:32,369 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label2-fake-provider2-0000000000 in fake-provider2 from image fake-image for node id: 0000000000
2017-06-21 04:38:32,380 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server c435cf5d1e264e149b34d6261622da1e for node id: 0000000000
2017-06-21 04:38:32,380 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:32,584 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:32,586 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:32,605 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:33,232 INFO [nodepool.PoolWorker.fake-provider1-main] Assigning node request <NodeRequest {'node_types': [u'fake-label1'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230678, mzxid=230751, ctime=1498019911340, mtime=1498019912205, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845398, dataLength=227, numChildren=0, pzxid=230678), 'requestor': u'NodePool:min-ready', 'state_time': 1498019911.333959, 'reuse': False, 'declined_by': [u'sf-zuulv3.novalocal-23765-PoolWorker.fake-provider2-main'], 'state': u'requested'}>
2017-06-21 04:38:33,233 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:33,255 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000001 for request 100-0000000000
2017-06-21 04:38:33,261 INFO [nodepool.NodeLauncher-0000000001] Creating server with hostname fake-label1-fake-provider1-0000000001 in fake-provider1 from image fake-image for node id: 0000000001
2017-06-21 04:38:33,261 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:33,264 DEBUG [nodepool.NodeLauncher-0000000001] Waiting for server 321cf33bab8f48169fefa3c991ec49ea for node id: 0000000001
2017-06-21 04:38:33,363 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000001
2017-06-21 04:38:33,366 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000001
2017-06-21 04:38:33,377 DEBUG [nodepool.NodeLauncher-0000000001] Node 0000000001 is running [region: fake-region, az: fake-az1, ip: fake_v6 ipv4: fake, ipv6: fake_v6]
2017-06-21 04:38:33,377 DEBUG [nodepool.NodeLauncher-0000000001] Gathering host keys for node 0000000001
2017-06-21 04:38:33,397 INFO [nodepool.NodeLauncher-0000000001] Node id 0000000001 is ready
2017-06-21 04:38:33,512 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label2
2017-06-21 04:38:34,286 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:34,294 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000001 for request 100-0000000000
2017-06-21 04:38:34,605 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label1
2017-06-21 04:38:34,995 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:34,995 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:35,481 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:35,488 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:35,489 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:35,489 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:35,551 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:35,700 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:35,700 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:35,700 INFO [nodepool.PoolWorker.fake-provider2-main] PoolWorker.fake-provider2-main received stop
2017-06-21 04:38:35,700 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider2-main
2017-06-21 04:38:36,420 INFO [nodepool.PoolWorker.fake-provider1-main] PoolWorker.fake-provider1-main received stop
2017-06-21 04:38:36,420 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider1-main
2017-06-21 04:38:37,323 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:37,324 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:37,327 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:36.976326Z
tags: worker-0
test: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_occ_config
time: 2017-06-21 04:38:37.657107Z
successful: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_occ_config [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
108
2017-06-21 04:38:36,998 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,001 INFO [nodepool.cmd.config_validator] validating /tmp/tmpNPSCQb/tmps78MNV
2017-06-21 04:38:37,608 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:37.657845Z
tags: worker-0
test: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_occ_config_reload
time: 2017-06-21 04:38:37.807387Z
successful: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_occ_config_reload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
36B
2017-06-21 04:38:37,686 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,688 INFO [nodepool.cmd.config_validator] validating /tmp/tmpI1q69D/tmprLP7PS
2017-06-21 04:38:37,705 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for real-provider
2017-06-21 04:38:37,706 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:37,709 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,720 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for real-provider
2017-06-21 04:38:37,722 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:37,726 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:37,730 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:37,732 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:37.417379Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_vhd_and_qcow2
time: 2017-06-21 04:38:38.735358Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_vhd_and_qcow2 [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
132F
2017-06-21 04:38:37,418 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:37,437 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,441 INFO [nodepool.cmd.config_validator] validating /tmp/tmp2MsyMN/tmpAgnq2b
2017-06-21 04:38:37,481 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,485 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:37,605 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:37,606 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:37,616 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:37,616 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:37,618 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:37,618 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:37,620 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:37,620 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:37,626 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider2
2017-06-21 04:38:37,627 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider1
2017-06-21 04:38:37,638 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:37,641 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t vhd,qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp2MsyMN/tmpsJKPH7/fake-image-0000000001 fedora vm
2017-06-21 04:38:37,651 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:37,652 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:37,652 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:37,652 INFO [nodepool.image.build.fake-image] -x -t vhd,qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp2MsyMN/tmpsJKPH7/fake-image-0000000001 fedora vm
2017-06-21 04:38:37,652 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:37,654 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:37,655 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:37,655 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:37,655 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:37,658 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:37,659 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:37,659 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:37,660 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp2MsyMN/tmpsJKPH7/fake-image-0000000001.vhd (size: 4096) 
2017-06-21 04:38:37,660 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp2MsyMN/tmpsJKPH7/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:37,864 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:37,864 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmp2MsyMN/tmpsJKPH7/fake-image-0000000001.qcow2 to fake-provider2
2017-06-21 04:38:37,866 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:37,866 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider2 is ready
2017-06-21 04:38:37,912 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type vhd for image id: fake-image-0000000001
2017-06-21 04:38:37,912 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmp2MsyMN/tmpsJKPH7/fake-image-0000000001.vhd to fake-provider1
2017-06-21 04:38:37,913 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:37,913 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider1 is ready
2017-06-21 04:38:38,521 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:38,521 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:38,656 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:38,659 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:38,660 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:38,660 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:38,663 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:34.364257Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_lost_requests
time: 2017-06-21 04:38:38.780251Z
successful: nodepool.tests.test_launcher.TestLauncher.test_lost_requests [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1738
2017-06-21 04:38:34,365 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:34,396 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:34,428 INFO [nodepool.cmd.config_validator] validating /tmp/tmpuZRwDA/tmpJCoS_z
2017-06-21 04:38:34,452 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:34,456 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:34,529 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:34,553 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:34,553 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:34,564 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:34,570 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:34,573 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpuZRwDA/tmpTRZBrT/fake-image-0000000001 fedora vm
2017-06-21 04:38:34,593 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:34,593 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:34,593 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:34,593 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpuZRwDA/tmpTRZBrT/fake-image-0000000001 fedora vm
2017-06-21 04:38:34,594 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:34,598 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:34,598 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:34,598 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:34,598 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:34,600 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:34,601 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:34,601 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:34,601 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:34,601 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpuZRwDA/tmpTRZBrT/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:34,667 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:34,667 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpuZRwDA/tmpTRZBrT/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:34,668 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:34,668 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:35,515 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:35,522 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:35,556 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:35,587 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:35,591 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:35,593 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:35,625 DEBUG [nodepool.CleanupWorker] Unallocated lost request node 0000000000
2017-06-21 04:38:35,628 INFO [nodepool.CleanupWorker] Reset lost request 100-0000000000
2017-06-21 04:38:36,638 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=230901, mzxid=230953, ctime=1498019914411, mtime=1498019915626, version=1, cversion=0, aversion=0, ephemeralOwner=98150907225845406, dataLength=162, numChildren=0, pzxid=230901), 'requestor': u'test_nodepool', 'state_time': 1498019915.625734, 'reuse': True, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:36,641 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:36,659 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked existing node 0000000000 for request 100-0000000000
2017-06-21 04:38:36,665 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:36,668 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:37,509 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:37,510 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:37,699 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:37,701 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:37,703 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:37,703 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:38,182 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:38,629 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:38,629 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:38,629 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:38,629 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:38,685 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:38,686 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:38,689 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:37.032144Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_launch_retries
time: 2017-06-21 04:38:40.522734Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_launch_retries [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1FB8
2017-06-21 04:38:37,033 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:37,048 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,050 INFO [nodepool.cmd.config_validator] validating /tmp/tmpelfEbf/tmpJI3tOp
2017-06-21 04:38:37,072 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,072 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:37,135 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:37,184 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:37,211 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:37,222 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:37,226 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:37,232 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:37,232 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:37,234 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:37,237 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpelfEbf/tmpATn9M9/fake-image-0000000001 fedora vm
2017-06-21 04:38:37,249 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:37,249 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:37,249 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:37,250 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpelfEbf/tmpATn9M9/fake-image-0000000001 fedora vm
2017-06-21 04:38:37,250 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:37,250 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:37,251 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,251 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:37,251 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:37,251 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:37,253 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:37,255 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:37,256 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:37,258 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpelfEbf/tmpATn9M9/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:37,282 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:37,282 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:37,285 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:37,311 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:37,311 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpelfEbf/tmpATn9M9/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:37,312 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:37,312 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:38,341 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=231084, mzxid=231084, ctime=1498019917493, mtime=1498019917493, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845414, dataLength=151, numChildren=0, pzxid=231084), 'requestor': None, 'state_time': 1498019917.470965, 'reuse': True, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:38,342 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:38,422 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:38,460 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:38,460 ERROR [nodepool.NodeLauncher-0000000000] Launch attempt 1/2 failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:38:38,476 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:38,477 ERROR [nodepool.NodeLauncher-0000000000] Launch attempt 2/2 failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:38:38,477 ERROR [nodepool.NodeLauncher-0000000000] Launch failed for node 0000000000:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 238, in run
    self._run()
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "nodepool/driver/openstack/handler.py", line 136, in _launchNode
    volume_size=self._label.volume_size)
  File "nodepool/driver/fake/provider.py", line 33, in createServer
    raise Exception("Expected createServer exception")
Exception: Expected createServer exception
2017-06-21 04:38:39,436 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Declining node request 100-0000000000 because nodes failed
2017-06-21 04:38:39,437 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Failing declined node request 100-0000000000
2017-06-21 04:38:39,440 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:39,511 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:39,512 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:39,633 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:39,639 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:39,640 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:39,641 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:39,850 INFO [nodepool.DeletedNodeWorker] Deleting failed instance None from fake-provider
2017-06-21 04:38:39,853 INFO [nodepool.NodeDeleter] Deleting ZK node id=0000000000, state=deleting, external_id=None
2017-06-21 04:38:39,854 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:40,351 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:40,352 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:40,352 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:40,352 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:40,457 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:40,458 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:40,461 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:37.807923Z
tags: worker-0
test: nodepool.tests.test_webapp.TestWebApp.test_dib_image_list_json
time: 2017-06-21 04:38:43.346346Z
successful: nodepool.tests.test_webapp.TestWebApp.test_dib_image_list_json [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
245C
2017-06-21 04:38:37,809 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:37,841 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,853 INFO [nodepool.cmd.config_validator] validating /tmp/tmpV31dTV/tmpMGbhdE
2017-06-21 04:38:37,882 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:37,885 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:37,960 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:37,991 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:37,996 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpV31dTV/tmpv3abpB/fake-image-0000000001 fedora vm
2017-06-21 04:38:38,009 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,012 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:38,016 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:38,016 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:38,021 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,021 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpV31dTV/tmpv3abpB/fake-image-0000000001 fedora vm
2017-06-21 04:38:38,024 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:38,024 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:38,025 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:38,025 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:38,025 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:38,030 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,031 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:38,032 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:38,032 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:38,032 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpV31dTV/tmpv3abpB/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:38,044 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,046 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,047 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:38,069 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:38,089 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:38,090 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:38,090 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:38,095 DEBUG [nodepool.builder.UploadWorker.2] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:38,095 INFO [nodepool.builder.UploadWorker.2] Uploading DIB image build 0000000001 from /tmp/tmpV31dTV/tmpv3abpB/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:38,095 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:38,096 INFO [nodepool.builder.UploadWorker.2] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:38,163 DEBUG [paste.httpserver.ThreadPool] Started new worker 140710321600256: Initial worker pool
2017-06-21 04:38:38,165 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709839501056: Initial worker pool
2017-06-21 04:38:38,165 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709831108352: Initial worker pool
2017-06-21 04:38:38,166 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709822715648: Initial worker pool
2017-06-21 04:38:38,168 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709814322944: Initial worker pool
2017-06-21 04:38:38,173 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709805930240: Initial worker pool
2017-06-21 04:38:38,174 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709797537536: Initial worker pool
2017-06-21 04:38:38,178 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709302630144: Initial worker pool
2017-06-21 04:38:38,177 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709789144832: Initial worker pool
2017-06-21 04:38:38,180 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709294237440: Initial worker pool
2017-06-21 04:38:39,165 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:40,187 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=231296, mzxid=231296, ctime=1498019919176, mtime=1498019919176, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845429, dataLength=168, numChildren=0, pzxid=231296), 'requestor': u'NodePool:min-ready', 'state_time': 1498019919.166003, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:40,192 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:40,254 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:40,279 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:40,285 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:40,289 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 76aaa077e73d47129b176cb820292058 for node id: 0000000000
2017-06-21 04:38:40,394 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:40,395 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:40,401 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:41,263 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:41,266 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:41,422 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:41,516 DEBUG [paste.httpserver.ThreadPool] Added task (0 tasks queued)
2017-06-21 04:38:41,518 INFO [paste.httpserver.ThreadPool] Shutting down threadpool
2017-06-21 04:38:41,518 DEBUG [paste.httpserver.ThreadPool] Worker 140709822715648 asked to SHUTDOWN
2017-06-21 04:38:41,519 DEBUG [paste.httpserver.ThreadPool] Worker 140709831108352 asked to SHUTDOWN
2017-06-21 04:38:41,519 DEBUG [paste.httpserver.ThreadPool] Worker 140709302630144 asked to SHUTDOWN
2017-06-21 04:38:41,519 DEBUG [paste.httpserver.ThreadPool] Worker 140709797537536 asked to SHUTDOWN
2017-06-21 04:38:41,519 DEBUG [paste.httpserver.ThreadPool] Worker 140709839501056 asked to SHUTDOWN
2017-06-21 04:38:41,519 DEBUG [paste.httpserver.ThreadPool] Worker 140709805930240 asked to SHUTDOWN
2017-06-21 04:38:41,519 DEBUG [paste.httpserver.ThreadPool] Worker 140709814322944 asked to SHUTDOWN
2017-06-21 04:38:41,520 DEBUG [paste.httpserver.ThreadPool] Worker 140709294237440 asked to SHUTDOWN
2017-06-21 04:38:41,520 DEBUG [paste.httpserver.ThreadPool] Worker 140710321600256 asked to SHUTDOWN
2017-06-21 04:38:41,520 DEBUG [paste.httpserver.ThreadPool] Worker 140709789144832 asked to SHUTDOWN
2017-06-21 04:38:41,520 INFO [paste.httpserver.ThreadPool] All workers stopped
2017-06-21 04:38:41,520 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:41,520 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:41,931 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:41,936 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:41,937 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:41,937 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:42,180 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:42,517 INFO [paste.httpserver.ThreadPool] Shutting down threadpool
2017-06-21 04:38:42,517 INFO [paste.httpserver.ThreadPool] All workers stopped
2017-06-21 04:38:42,628 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:42,628 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:42,628 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:42,629 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:43,289 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:43,290 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:43,293 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:38.735938Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_node_vhd_image
time: 2017-06-21 04:38:44.233629Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_vhd_image [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
19A0
2017-06-21 04:38:38,736 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:38,760 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:38,764 INFO [nodepool.cmd.config_validator] validating /tmp/tmpzCO60J/tmpgrunnG
2017-06-21 04:38:38,796 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:38,799 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:38,896 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,897 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,901 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,906 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,919 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,923 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:38,924 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:38,932 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:38,947 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:38,948 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:38,948 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:38,956 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:38,959 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t vhd --checksum --no-tmpfs  -o /tmp/tmpzCO60J/tmpV4f02n/fake-image-0000000001 fedora vm
2017-06-21 04:38:38,982 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:38,982 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:38,982 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:38,982 INFO [nodepool.image.build.fake-image] -x -t vhd --checksum --no-tmpfs -o /tmp/tmpzCO60J/tmpV4f02n/fake-image-0000000001 fedora vm
2017-06-21 04:38:38,982 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:38,984 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:38,985 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:38,985 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:38,987 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:38,987 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:38,987 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:38,987 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpzCO60J/tmpV4f02n/fake-image-0000000001.vhd (size: 4096) 
2017-06-21 04:38:39,121 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type vhd for image id: fake-image-0000000001
2017-06-21 04:38:39,121 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpzCO60J/tmpV4f02n/fake-image-0000000001.vhd to fake-provider
2017-06-21 04:38:39,121 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:39,122 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:39,967 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:40,057 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=231334, mzxid=231334, ctime=1498019919974, mtime=1498019919974, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845438, dataLength=168, numChildren=0, pzxid=231334), 'requestor': u'NodePool:min-ready', 'state_time': 1498019919.967509, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:40,059 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:40,117 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:40,128 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:40,131 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:40,135 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server e7422e17ae514d16a9aee745749302a2 for node id: 0000000000
2017-06-21 04:38:40,241 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:40,241 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:40,254 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:41,135 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:41,140 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:42,192 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:42,867 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:42,867 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:43,415 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:43,418 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:43,419 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:43,419 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:43,638 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:43,998 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:43,998 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:43,998 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:43,999 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:44,166 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:44,167 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:44,169 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:38.780861Z
tags: worker-2
test: nodepool.tests.test_launcher.TestLauncher.test_node_az
time: 2017-06-21 04:38:44.337978Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_az [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A44
2017-06-21 04:38:38,783 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:38,799 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:38,802 INFO [nodepool.cmd.config_validator] validating /tmp/tmpjpKlVu/tmp3gX5iQ
2017-06-21 04:38:38,912 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:38,916 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:39,006 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:39,010 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:39,013 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:39,051 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:39,057 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:39,058 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:39,059 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:39,064 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:39,068 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:39,069 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:39,070 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:39,070 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:39,073 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpjpKlVu/tmp4F80Au/fake-image-0000000001 fedora vm
2017-06-21 04:38:39,086 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:39,086 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:39,087 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:39,087 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpjpKlVu/tmp4F80Au/fake-image-0000000001 fedora vm
2017-06-21 04:38:39,087 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:39,090 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:39,090 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:39,090 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:39,091 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:39,093 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:39,093 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:39,093 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:39,093 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpjpKlVu/tmp4F80Au/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:39,268 DEBUG [nodepool.builder.UploadWorker.1] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:39,268 INFO [nodepool.builder.UploadWorker.1] Uploading DIB image build 0000000001 from /tmp/tmpjpKlVu/tmp4F80Au/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:39,269 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:39,275 INFO [nodepool.builder.UploadWorker.1] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:40,090 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:40,128 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=231345, mzxid=231345, ctime=1498019920097, mtime=1498019920097, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845439, dataLength=168, numChildren=0, pzxid=231345), 'requestor': u'NodePool:min-ready', 'state_time': 1498019920.090738, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:40,144 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:40,223 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:40,250 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:40,256 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:40,266 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 46410c3118734eaaa4a97ada193c1f22 for node id: 0000000000
2017-06-21 04:38:40,371 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:40,371 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:40,392 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:41,239 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:41,241 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:42,251 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:42,980 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:42,980 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:43,132 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:43,135 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:43,137 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:43,137 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:43,252 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:43,643 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:43,643 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:43,643 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:43,643 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:44,260 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:44,261 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:44,264 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:44.338643Z
tags: worker-2
test: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_failed_launch
time: 2017-06-21 04:38:45.705185Z
successful: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_failed_launch [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
12A8
2017-06-21 04:38:44,340 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:44,357 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:44,360 INFO [nodepool.cmd.config_validator] validating /tmp/tmpQsZ_4u/tmpq3Sqfh
2017-06-21 04:38:44,386 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:44,390 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:44,434 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:44,494 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:44,498 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:44,502 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:44,511 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:44,552 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:44,555 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpQsZ_4u/tmpq5Q1Qa/fake-image-0000000001 fedora vm
2017-06-21 04:38:44,565 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:44,565 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:44,565 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:44,565 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpQsZ_4u/tmpq5Q1Qa/fake-image-0000000001 fedora vm
2017-06-21 04:38:44,565 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:44,566 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:44,566 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:44,567 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:44,567 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:44,568 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:44,568 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:44,568 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:44,568 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpQsZ_4u/tmpq5Q1Qa/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:44,773 DEBUG [nodepool.builder.UploadWorker.3] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:44,773 INFO [nodepool.builder.UploadWorker.3] Uploading DIB image build 0000000001 from /tmp/tmpQsZ_4u/tmpq5Q1Qa/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:44,774 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:44,774 INFO [nodepool.builder.UploadWorker.3] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:45,452 ERROR [nodepool.NodeLauncher-None] Launch attempt 1/1 failed for node None:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1062, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1118, in _mock_call
    raise effect
Exception
2017-06-21 04:38:45,453 ERROR [nodepool.NodeLauncher-None] Launch failed for node None:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 238, in run
    self._run()
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1062, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1118, in _mock_call
    raise effect
Exception
2017-06-21 04:38:45,467 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:45,468 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:45,645 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:45,649 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:45,649 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:45,649 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:45,652 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:45.705834Z
tags: worker-2
test: nodepool.tests.test_shade_integration.TestShadeIntegration.test_exceptions
time: 2017-06-21 04:38:45.747164Z
successful: nodepool.tests.test_shade_integration.TestShadeIntegration.test_exceptions [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
B6
outer test
Traceback (most recent call last):
  File "nodepool/tests/test_shade_integration.py", line 100, in test_exceptions
    raise Exception("inner test")
Exception: inner test
0
Content-Type: text/plain;charset=utf8
pythonlogging:''-1
A7
2017-06-21 04:38:45,726 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:45,734 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:45.747668Z
tags: worker-2
test: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_provider_config_bad
time: 2017-06-21 04:38:45.800769Z
successful: nodepool.tests.test_shade_integration.TestShadeIntegration.test_nodepool_provider_config_bad [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
108
2017-06-21 04:38:45,770 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:45,775 INFO [nodepool.cmd.config_validator] validating /tmp/tmpGdiKL3/tmp21BMew
2017-06-21 04:38:45,784 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:45.802976Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_buildZooKeeperHosts_multiple
time: 2017-06-21 04:38:45.838318Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_buildZooKeeperHosts_multiple [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:45,805 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:45,823 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:45,826 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:45.839905Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_build_request
time: 2017-06-21 04:38:45.899871Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_build_request [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:45,841 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:45,860 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:45,877 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:45.901282Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteBuild_with_uploads
time: 2017-06-21 04:38:46.001300Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteBuild_with_uploads [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:45,902 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:45,924 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:45,962 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:46.002007Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteNodeRequest
time: 2017-06-21 04:38:46.054219Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteNodeRequest [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:46,004 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:46,019 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:46,038 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:46.054867Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteNodeRequestLock
time: 2017-06-21 04:38:46.135541Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteNodeRequestLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:46,056 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:46,071 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:46,106 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:46.136016Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getImageNames_not_found
time: 2017-06-21 04:38:46.183310Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getImageNames_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:46,137 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:46,159 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:46,165 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:46.183804Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuildImageUploads_any_state
time: 2017-06-21 04:38:46.297970Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuildImageUploads_any_state [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:46,186 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:46,210 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:46,260 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:46.299330Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentImageUpload
time: 2017-06-21 04:38:46.471114Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentImageUpload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:46,300 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:46,315 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:46,372 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:46.471606Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_getUploads_any
time: 2017-06-21 04:38:46.758963Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getUploads_any [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:46,472 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:46,498 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:46,711 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:46.759361Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock
time: 2017-06-21 04:38:46.834035Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:46,760 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:46,780 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:46,805 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:40.523691Z
tags: worker-3
test: nodepool.tests.test_launcher.TestLauncher.test_node_net_name
time: 2017-06-21 04:38:47.108420Z
successful: nodepool.tests.test_launcher.TestLauncher.test_node_net_name [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1A49
2017-06-21 04:38:40,524 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:40,544 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:40,551 INFO [nodepool.cmd.config_validator] validating /tmp/tmp2W4ApT/tmpbG31X2
2017-06-21 04:38:40,609 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:40,617 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:40,719 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:40,748 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:40,767 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:40,769 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:40,770 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:40,770 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:40,772 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp2W4ApT/tmpP37Qv_/fake-image-0000000001 fedora vm
2017-06-21 04:38:40,784 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:40,785 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:40,790 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:40,790 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:40,790 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:40,790 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp2W4ApT/tmpP37Qv_/fake-image-0000000001 fedora vm
2017-06-21 04:38:40,790 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:40,792 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:40,792 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:40,793 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:40,793 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:40,797 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:40,797 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:40,797 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:40,798 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp2W4ApT/tmpP37Qv_/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:40,803 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:40,811 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:40,812 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:40,812 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:40,886 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:40,886 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmp2W4ApT/tmpP37Qv_/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:40,889 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:40,889 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:41,837 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:42,856 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=231464, mzxid=231464, ctime=1498019921845, mtime=1498019921845, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845444, dataLength=168, numChildren=0, pzxid=231464), 'requestor': u'NodePool:min-ready', 'state_time': 1498019921.837859, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:42,862 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:42,970 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:42,984 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:42,984 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:42,990 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server fdb5724fc25e45d7b716d270a58459bd for node id: 0000000000
2017-06-21 04:38:43,106 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:43,106 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:43,121 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:43,992 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:44,006 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:45,036 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:45,664 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:45,664 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:46,110 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:46,113 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:46,115 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:46,115 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:46,600 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:46,880 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:46,880 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:46,880 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:46,881 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:47,038 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:47,039 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:47,042 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:46.834773Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock_exception_blocking
time: 2017-06-21 04:38:47.946502Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock_exception_blocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:46,836 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:46,861 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:47,902 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:47.947220Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock_exception_nonblocking
time: 2017-06-21 04:38:48.050585Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock_exception_nonblocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:47,948 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:47,970 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,013 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:48.051274Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_lockNode_multi
time: 2017-06-21 04:38:48.129755Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_lockNode_multi [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:48,053 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:48,072 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,097 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:48.130152Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_lockNode_unlockNode
time: 2017-06-21 04:38:48.218558Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_lockNode_unlockNode [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:48,130 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:48,150 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,185 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:48.219091Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_nodeIterator
time: 2017-06-21 04:38:48.299589Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_nodeIterator [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:48,220 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:48,246 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,274 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:48.300018Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_nodeRequestLockIterator
time: 2017-06-21 04:38:48.371666Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_nodeRequestLockIterator [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:48,300 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:48,320 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,347 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:48.372132Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_registerLauncher
time: 2017-06-21 04:38:48.431644Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_registerLauncher [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:48,374 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:48,391 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,411 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:48.432564Z
tags: worker-2
test: nodepool.tests.test_zk.TestZooKeeper.test_unlockNode_not_locked
time: 2017-06-21 04:38:48.488480Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_unlockNode_not_locked [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:48,433 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:48,462 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,471 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-2
time: 2017-06-21 04:38:43.346932Z
tags: worker-0
test: nodepool.tests.test_webapp.TestWebApp.test_image_list
time: 2017-06-21 04:38:48.892350Z
successful: nodepool.tests.test_webapp.TestWebApp.test_image_list [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
245C
2017-06-21 04:38:43,348 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:43,371 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:43,373 INFO [nodepool.cmd.config_validator] validating /tmp/tmpBdAui8/tmpeYAQ_5
2017-06-21 04:38:43,398 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:43,402 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:43,490 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:43,510 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:43,534 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:43,539 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:43,542 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:43,546 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpBdAui8/tmpgo69pw/fake-image-0000000001 fedora vm
2017-06-21 04:38:43,551 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:43,558 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:43,560 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:43,562 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:43,562 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:43,563 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:43,563 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpBdAui8/tmpgo69pw/fake-image-0000000001 fedora vm
2017-06-21 04:38:43,563 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:43,566 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:43,567 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:43,567 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:43,568 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:43,568 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:43,571 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:43,571 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:43,571 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:43,571 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpBdAui8/tmpgo69pw/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:43,584 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:43,585 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:43,585 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:43,630 DEBUG [paste.httpserver.ThreadPool] Started new worker 140710334408448: Initial worker pool
2017-06-21 04:38:43,634 DEBUG [paste.httpserver.ThreadPool] Started new worker 140710321600256: Initial worker pool
2017-06-21 04:38:43,634 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709839501056: Initial worker pool
2017-06-21 04:38:43,635 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709831108352: Initial worker pool
2017-06-21 04:38:43,636 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709822715648: Initial worker pool
2017-06-21 04:38:43,637 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709814322944: Initial worker pool
2017-06-21 04:38:43,639 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709805930240: Initial worker pool
2017-06-21 04:38:43,639 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709797537536: Initial worker pool
2017-06-21 04:38:43,640 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709789144832: Initial worker pool
2017-06-21 04:38:43,642 DEBUG [paste.httpserver.ThreadPool] Started new worker 140709302630144: Initial worker pool
2017-06-21 04:38:43,642 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:43,657 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpBdAui8/tmpgo69pw/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:43,666 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:43,671 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:44,716 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:45,653 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=231624, mzxid=231624, ctime=1498019924725, mtime=1498019924725, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845449, dataLength=168, numChildren=0, pzxid=231624), 'requestor': u'NodePool:min-ready', 'state_time': 1498019924.716836, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:45,654 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:45,776 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:45,799 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:45,802 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:45,807 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server 5254ce00a82d4df594c6b85b756eba20 for node id: 0000000000
2017-06-21 04:38:45,913 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: az1, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:45,913 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:45,927 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:46,803 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:46,808 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:46,924 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:47,703 DEBUG [paste.httpserver.ThreadPool] Added task (0 tasks queued)
2017-06-21 04:38:47,719 INFO [paste.httpserver.ThreadPool] Shutting down threadpool
2017-06-21 04:38:47,719 DEBUG [paste.httpserver.ThreadPool] Worker 140709805930240 asked to SHUTDOWN
2017-06-21 04:38:47,719 DEBUG [paste.httpserver.ThreadPool] Worker 140709831108352 asked to SHUTDOWN
2017-06-21 04:38:47,720 DEBUG [paste.httpserver.ThreadPool] Worker 140709797537536 asked to SHUTDOWN
2017-06-21 04:38:47,720 DEBUG [paste.httpserver.ThreadPool] Worker 140709814322944 asked to SHUTDOWN
2017-06-21 04:38:47,720 DEBUG [paste.httpserver.ThreadPool] Worker 140709822715648 asked to SHUTDOWN
2017-06-21 04:38:47,721 DEBUG [paste.httpserver.ThreadPool] Worker 140709789144832 asked to SHUTDOWN
2017-06-21 04:38:47,721 DEBUG [paste.httpserver.ThreadPool] Worker 140709839501056 asked to SHUTDOWN
2017-06-21 04:38:47,721 DEBUG [paste.httpserver.ThreadPool] Worker 140709302630144 asked to SHUTDOWN
2017-06-21 04:38:47,721 DEBUG [paste.httpserver.ThreadPool] Worker 140710321600256 asked to SHUTDOWN
2017-06-21 04:38:47,722 DEBUG [paste.httpserver.ThreadPool] Worker 140710334408448 asked to SHUTDOWN
2017-06-21 04:38:47,723 INFO [paste.httpserver.ThreadPool] All workers stopped
2017-06-21 04:38:47,723 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:47,723 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:48,043 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:48,046 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:48,047 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:48,047 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:48,275 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:48,705 INFO [paste.httpserver.ThreadPool] Shutting down threadpool
2017-06-21 04:38:48,705 INFO [paste.httpserver.ThreadPool] All workers stopped
2017-06-21 04:38:48,707 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:48,707 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:48,707 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:48,708 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:48,827 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:48,828 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:48,830 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:48.893063Z
tags: worker-0
test: nodepool.tests.test_zk.TestZKModel.test_Node_fromDict
time: 2017-06-21 04:38:48.895111Z
successful: nodepool.tests.test_zk.TestZKModel.test_Node_fromDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:48,894 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-0
time: 2017-06-21 04:38:48.895542Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuildNumbers_not_found
time: 2017-06-21 04:38:48.937589Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuildNumbers_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:48,896 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:48,918 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,925 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:48.938857Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuilds
time: 2017-06-21 04:38:49.103770Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuilds [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:48,940 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:48,957 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:48,997 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:47.109010Z
tags: worker-3
test: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_successful_launch
time: 2017-06-21 04:38:49.117714Z
successful: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_successful_launch [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
1127
2017-06-21 04:38:47,109 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:47,129 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:47,132 INFO [nodepool.cmd.config_validator] validating /tmp/tmp1Jzg50/tmp3ff64C
2017-06-21 04:38:47,157 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:47,157 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:47,222 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:47,258 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:47,264 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:47,275 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:47,281 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:47,281 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:47,284 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmp1Jzg50/tmpqQd42z/fake-image-0000000001 fedora vm
2017-06-21 04:38:47,298 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:47,298 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:47,298 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:47,298 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmp1Jzg50/tmpqQd42z/fake-image-0000000001 fedora vm
2017-06-21 04:38:47,298 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:47,300 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:47,300 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:47,300 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:47,301 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:47,306 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:47,306 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:47,306 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:47,306 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmp1Jzg50/tmpqQd42z/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:47,380 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:47,393 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmp1Jzg50/tmpqQd42z/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:47,404 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:47,407 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:48,232 INFO [nodepool.NodeLauncher-None] Creating server with hostname fake-label-fake-provider-None in fake-provider from image fake-image for node id: None
2017-06-21 04:38:48,239 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:48,264 DEBUG [nodepool.NodeLauncher-None] Waiting for server e8c5d11b1dca48be96479b1435b70342 for node id: 0000000000
2017-06-21 04:38:48,372 DEBUG [nodepool.NodeLauncher-None] Node 0000000000 is running [region: None, az: None, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:48,372 DEBUG [nodepool.NodeLauncher-None] Gathering host keys for node 0000000000
2017-06-21 04:38:48,403 INFO [nodepool.NodeLauncher-None] Node id 0000000000 is ready
2017-06-21 04:38:48,423 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:48,423 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:48,989 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:48,992 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:48,993 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:48,993 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:49,039 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.118356Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_BaseModel_bad_id
time: 2017-06-21 04:38:49.120821Z
successful: nodepool.tests.test_zk.TestZKModel.test_BaseModel_bad_id [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:49,119 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.121389Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_BaseModel_bad_state
time: 2017-06-21 04:38:49.123473Z
successful: nodepool.tests.test_zk.TestZKModel.test_BaseModel_bad_state [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:49,122 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.125082Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_BaseModel_toDict
time: 2017-06-21 04:38:49.127030Z
successful: nodepool.tests.test_zk.TestZKModel.test_BaseModel_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:49,126 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.128286Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_ImageBuild_fromDict
time: 2017-06-21 04:38:49.130405Z
successful: nodepool.tests.test_zk.TestZKModel.test_ImageBuild_fromDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:49,129 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.131536Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_ImageBuild_toDict
time: 2017-06-21 04:38:49.133685Z
successful: nodepool.tests.test_zk.TestZKModel.test_ImageBuild_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:49,132 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.134776Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_ImageUpload_fromDict
time: 2017-06-21 04:38:49.137331Z
successful: nodepool.tests.test_zk.TestZKModel.test_ImageUpload_fromDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:49,136 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.139085Z
tags: worker-3
test: nodepool.tests.test_zk.TestZKModel.test_NodeRequest_toDict
time: 2017-06-21 04:38:49.141112Z
successful: nodepool.tests.test_zk.TestZKModel.test_NodeRequest_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:49,140 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.104220Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequestLock
time: 2017-06-21 04:38:49.199062Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequestLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,105 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,127 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,168 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:49.142538Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteBuild
time: 2017-06-21 04:38:49.243728Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteBuild [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,143 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,170 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,208 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.199495Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequests
time: 2017-06-21 04:38:49.281885Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequests [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,200 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,220 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,255 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:49.244149Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteNode
time: 2017-06-21 04:38:49.319091Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteNode [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,245 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,269 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,296 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.282363Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequests_empty
time: 2017-06-21 04:38:49.319288Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequests_empty [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,283 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,300 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,305 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:49.320211Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_deleteUpload
time: 2017-06-21 04:38:49.417125Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_deleteUpload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,322 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,338 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,381 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.319841Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock
time: 2017-06-21 04:38:49.434964Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,320 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,344 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,393 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:49.417778Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuild_not_found
time: 2017-06-21 04:38:49.468381Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuild_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,418 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,445 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,456 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:44.234188Z
tags: worker-1
test: nodepool.tests.test_launcher.TestLauncher.test_unmanaged_image
time: 2017-06-21 04:38:49.506929Z
successful: nodepool.tests.test_launcher.TestLauncher.test_unmanaged_image [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
15C7
2017-06-21 04:38:44,235 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:44,250 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:44,256 INFO [nodepool.cmd.config_validator] validating /tmp/tmpJZdChA/tmpJDf_uK
2017-06-21 04:38:44,278 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:44,283 DEBUG [nodepool.NodePool] Connecting to ZooKeeper servers
2017-06-21 04:38:44,290 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:44,309 DEBUG [nodepool.FakeOpenStackCloud] Get fake-image in [<Image 140400266839120 name=Fake Precise metadata={} status=READY id=fake-image-id>]
2017-06-21 04:38:44,309 INFO [nodepool.CleanupWorker] Starting
2017-06-21 04:38:44,310 INFO [nodepool.DeletedNodeWorker] Starting
2017-06-21 04:38:44,310 INFO [nodepool.NodePool] Starting PoolWorker.fake-provider-main
2017-06-21 04:38:44,371 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:45,327 DEBUG [nodepool.FakeOpenStackCloud] Get fake-image in [<Image 140400266839120 name=Fake Precise metadata={} status=READY id=fake-image-id>, <Image 140400333845840 event=<threading._Event object at 0x7fb180067f50> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={} status=READY public_v4=fake should_fail=False name=fake-image manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb17c080950> interface_ip=fake location=<Server.Location 140400535544272 zone=None> id=fd0bb731f1a04011b610f1919512fd9b public_v6= key_name=None>]
2017-06-21 04:38:45,328 INFO [nodepool.NodePool] Creating requests for 1 fake-label nodes
2017-06-21 04:38:46,396 INFO [nodepool.PoolWorker.fake-provider-main] Assigning node request <NodeRequest {'node_types': [u'fake-label'], 'nodes': [], 'id': u'100-0000000000', 'stat': ZnodeStat(czxid=231653, mzxid=231653, ctime=1498019925377, mtime=1498019925377, version=0, cversion=0, aversion=0, ephemeralOwner=98150907225845454, dataLength=167, numChildren=0, pzxid=231653), 'requestor': u'NodePool:min-ready', 'state_time': 1498019925.32824, 'reuse': False, 'declined_by': [], 'state': u'requested'}>
2017-06-21 04:38:46,396 DEBUG [nodepool.FakeOpenStackCloud] Get fake-image in [<Image 140400266839120 name=Fake Precise metadata={} status=READY id=fake-image-id>, <Image 140400333845840 event=<threading._Event object at 0x7fb180067f50> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={} status=READY public_v4=fake should_fail=False name=fake-image manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb17c080950> interface_ip=fake location=<Server.Location 140400535544272 zone=None> id=fd0bb731f1a04011b610f1919512fd9b public_v6= key_name=None>]
2017-06-21 04:38:46,396 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Accepting node request 100-0000000000
2017-06-21 04:38:46,422 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Locked building node 0000000000 for request 100-0000000000
2017-06-21 04:38:46,429 INFO [nodepool.NodeLauncher-0000000000] Creating server with hostname fake-label-fake-provider-0000000000 in fake-provider from image fake-image for node id: 0000000000
2017-06-21 04:38:46,429 DEBUG [nodepool.FakeOpenStackCloud] Get fake-image in [<Image 140400266839120 name=Fake Precise metadata={} status=READY id=fake-image-id>, <Image 140400333845840 event=<threading._Event object at 0x7fb180067f50> adminPass=fake private_v4=fake addresses={'public': [{'addr': 'fake', 'version': 4}], 'private': [{'addr': 'fake', 'version': 4}]} metadata={} status=READY public_v4=fake should_fail=False name=fake-image manager=<nodepool.fakeprovider.FakeOpenStackCloud object at 0x7fb17c080950> interface_ip=fake location=<Server.Location 140400535544272 zone=None> id=fd0bb731f1a04011b610f1919512fd9b public_v6= key_name=None>]
2017-06-21 04:38:46,429 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:46,432 DEBUG [nodepool.NodeLauncher-0000000000] Waiting for server c6aab091f0774bd2a4964279123e7d1c for node id: 0000000000
2017-06-21 04:38:46,676 DEBUG [nodepool.NodeLauncher-0000000000] Node 0000000000 is running [region: fake-region, az: fake-az2, ip: fake ipv4: fake, ipv6: ]
2017-06-21 04:38:46,676 DEBUG [nodepool.NodeLauncher-0000000000] Gathering host keys for node 0000000000
2017-06-21 04:38:46,686 INFO [nodepool.NodeLauncher-0000000000] Node id 0000000000 is ready
2017-06-21 04:38:47,435 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Fulfilled node request 100-0000000000
2017-06-21 04:38:47,438 DEBUG [nodepool.driver.openstack.OpenStackNodeRequestHandler] Unlocked node 0000000000 for request 100-0000000000
2017-06-21 04:38:48,419 DEBUG [nodepool.NodePool] No more active min-ready requests for label fake-label
2017-06-21 04:38:48,874 INFO [nodepool.CleanupWorker] Stopped
2017-06-21 04:38:49,333 INFO [nodepool.DeletedNodeWorker] Stopped
2017-06-21 04:38:49,333 DEBUG [nodepool.NodePool] Stopping pool threads
2017-06-21 04:38:49,333 INFO [nodepool.PoolWorker.fake-provider-main] PoolWorker.fake-provider-main received stop
2017-06-21 04:38:49,333 DEBUG [nodepool.NodePool] Waiting for PoolWorker.fake-provider-main
2017-06-21 04:38:49,450 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:49,452 DEBUG [nodepool.NodePool] Finished stopping
2017-06-21 04:38:49,454 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:49.469096Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuilds_any
time: 2017-06-21 04:38:49.580192Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuilds_any [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,470 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,504 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,545 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.580623Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getImageUpload_not_found
time: 2017-06-21 04:38:49.632745Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getImageUpload_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,581 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,609 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,616 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.633158Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuildImageUploads_with_state
time: 2017-06-21 04:38:49.752084Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuildImageUploads_with_state [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,633 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,650 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,708 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.752525Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequest_not_found
time: 2017-06-21 04:38:49.793154Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequest_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,753 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,771 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,776 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.793623Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodes
time: 2017-06-21 04:38:49.859369Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodes [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,794 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,810 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,828 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.861278Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getReadyNodesOfTypes
time: 2017-06-21 04:38:49.931761Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getReadyNodesOfTypes [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,862 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,877 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,908 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.932165Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_getUploads
time: 2017-06-21 04:38:50.036473Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getUploads [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,933 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,948 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,988 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:49.435399Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock_exception_blocking
time: 2017-06-21 04:38:50.529588Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock_exception_blocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:49,436 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,452 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,500 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:50.530011Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock_exception_nonblocking
time: 2017-06-21 04:38:50.608521Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildNumberLock_exception_nonblocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,530 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,547 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,583 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:50.609011Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_registerLauncher_safe_repeat
time: 2017-06-21 04:38:50.670898Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_registerLauncher_safe_repeat [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,610 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,626 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,650 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:50.671344Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_storeImageUpload_invalid_build
time: 2017-06-21 04:38:50.707846Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeImageUpload_invalid_build [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,672 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,692 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,696 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:50.709120Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_storeNode
time: 2017-06-21 04:38:50.767886Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeNode [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,710 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,725 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,743 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:49.507484Z
tags: worker-1
test: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_mixed_launch
time: 2017-06-21 04:38:50.795223Z
successful: nodepool.tests.test_nodelaunchmanager.TestNodeLaunchManager.test_mixed_launch [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
12FE
2017-06-21 04:38:49,508 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:49,532 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,538 INFO [nodepool.cmd.config_validator] validating /tmp/tmpIWwbah/tmpVBfanD
2017-06-21 04:38:49,567 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:49,569 DEBUG [nodepool.builder.NodePoolBuilder] Starting listener for build jobs
2017-06-21 04:38:49,623 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:49,650 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:49,694 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:49,699 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:49,702 DEBUG [nodepool.ProviderManager] Creating new ProviderManager object for fake-provider
2017-06-21 04:38:49,708 INFO [nodepool.builder.BuildWorker.0] Building image fake-image
2017-06-21 04:38:49,711 INFO [nodepool.builder.BuildWorker.0] Running nodepool/tests/fake-image-create -x -t qcow2 --checksum --no-tmpfs --qemu-img-options 'compat=0.10' -o /tmp/tmpIWwbah/tmpcwLjpB/fake-image-0000000001 fedora vm
2017-06-21 04:38:49,720 INFO [nodepool.image.build.fake-image] *** fake-image-create: start
2017-06-21 04:38:49,720 INFO [nodepool.image.build.fake-image] arguments:
2017-06-21 04:38:49,720 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:49,720 INFO [nodepool.image.build.fake-image] -x -t qcow2 --checksum --no-tmpfs --qemu-img-options compat=0.10 -o /tmp/tmpIWwbah/tmpcwLjpB/fake-image-0000000001 fedora vm
2017-06-21 04:38:49,720 INFO [nodepool.image.build.fake-image] ----
2017-06-21 04:38:49,721 INFO [nodepool.image.build.fake-image] -> debugging enabled
2017-06-21 04:38:49,721 INFO [nodepool.image.build.fake-image] -> set --checksum
2017-06-21 04:38:49,722 INFO [nodepool.image.build.fake-image] -> set --no-tmpfs
2017-06-21 04:38:49,722 INFO [nodepool.image.build.fake-image] -> qemu-img-options: compat=0.10
2017-06-21 04:38:49,723 INFO [nodepool.image.build.fake-image] *** fake-image-create: done
2017-06-21 04:38:49,723 INFO [nodepool.image.build.fake-image] 
2017-06-21 04:38:49,724 INFO [nodepool.builder.BuildWorker.0] DIB image fake-image is built
2017-06-21 04:38:49,724 DEBUG [nodepool.builder.BuildWorker.0] fake-image created image /tmp/tmpIWwbah/tmpcwLjpB/fake-image-0000000001.qcow2 (size: 4096) 
2017-06-21 04:38:49,793 DEBUG [nodepool.builder.UploadWorker.0] Found image file of type qcow2 for image id: fake-image-0000000001
2017-06-21 04:38:49,794 INFO [nodepool.builder.UploadWorker.0] Uploading DIB image build 0000000001 from /tmp/tmpIWwbah/tmpcwLjpB/fake-image-0000000001.qcow2 to fake-provider
2017-06-21 04:38:49,794 DEBUG [nodepool.FakeOpenStackCloud] Pause creates False
2017-06-21 04:38:49,794 INFO [nodepool.builder.UploadWorker.0] Image build fake-image-0000000001 in fake-provider is ready
2017-06-21 04:38:50,628 ERROR [nodepool.NodeLauncher-None] Launch attempt 1/1 failed for node None:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1062, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1123, in _mock_call
    raise result
Exception
2017-06-21 04:38:50,630 ERROR [nodepool.NodeLauncher-None] Launch failed for node None:
Traceback (most recent call last):
  File "nodepool/driver/openstack/handler.py", line 238, in run
    self._run()
  File "nodepool/driver/openstack/handler.py", line 209, in _run
    self._launchNode()
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1062, in __call__
    return _mock_self._mock_call(*args, **kwargs)
  File "/home/centos/nodepool3/.tox/py27/lib/python2.7/site-packages/mock/mock.py", line 1123, in _mock_call
    raise result
Exception
2017-06-21 04:38:50,647 INFO [nodepool.NodeLauncher-None] Node id 0000000000 is ready
2017-06-21 04:38:50,658 DEBUG [nodepool.builder.NodePoolBuilder] Stopping. NodePoolBuilder shutting down workers
2017-06-21 04:38:50,658 DEBUG [nodepool.builder.NodePoolBuilder] Waiting for jobs to complete
2017-06-21 04:38:50,732 DEBUG [nodepool.builder.NodePoolBuilder] Terminating ZooKeeper connection
2017-06-21 04:38:50,736 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
2017-06-21 04:38:50,737 DEBUG [nodepool.builder.NodePoolBuilder] Stopping providers
2017-06-21 04:38:50,737 DEBUG [nodepool.builder.NodePoolBuilder] Finished stopping
2017-06-21 04:38:50,740 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.795924Z
tags: worker-1
test: nodepool.tests.test_webapp.TestWebApp.test_webapp_config
time: 2017-06-21 04:38:50.834995Z
successful: nodepool.tests.test_webapp.TestWebApp.test_webapp_config [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
143
2017-06-21 04:38:50,796 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,813 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,817 INFO [nodepool.cmd.config_validator] validating /tmp/tmpsEzEA8/tmp9etPoz
2017-06-21 04:38:50,822 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.836657Z
tags: worker-1
test: nodepool.tests.test_zk.TestZKModel.test_ImageUpload_toDict
time: 2017-06-21 04:38:50.838805Z
successful: nodepool.tests.test_zk.TestZKModel.test_ImageUpload_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:50,837 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.839981Z
tags: worker-1
test: nodepool.tests.test_zk.TestZKModel.test_NodeRequest_fromDict
time: 2017-06-21 04:38:50.842605Z
successful: nodepool.tests.test_zk.TestZKModel.test_NodeRequest_fromDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:50,841 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.844000Z
tags: worker-1
test: nodepool.tests.test_zk.TestZKModel.test_Node_toDict
time: 2017-06-21 04:38:50.845818Z
successful: nodepool.tests.test_zk.TestZKModel.test_Node_toDict [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
3B
2017-06-21 04:38:50,845 DEBUG [nodepool.test] set up fakes
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.769260Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_storeNodeRequest
time: 2017-06-21 04:38:50.844813Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeNodeRequest [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,770 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,796 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,818 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:50.847087Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_buildZooKeeperHosts_single
time: 2017-06-21 04:38:50.885565Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_buildZooKeeperHosts_single [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,849 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,864 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,868 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.886926Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getBuildProviders_not_found
time: 2017-06-21 04:38:50.932304Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getBuildProviders_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,888 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,909 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,915 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.845245Z
tags: worker-0
test: nodepool.tests.test_zk.TestZooKeeper.test_store_and_get_image_upload
time: 2017-06-21 04:38:50.979150Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_store_and_get_image_upload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,846 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,874 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,932 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-0
time: 2017-06-21 04:38:50.933826Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getImageUploadNumbers_not_found
time: 2017-06-21 04:38:50.983090Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getImageUploadNumbers_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,934 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,951 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:50,959 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.983891Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuilds
time: 2017-06-21 04:38:51.064660Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getMostRecentBuilds [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,984 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,000 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,031 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:50.036937Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock_exception_blocking
time: 2017-06-21 04:38:51.125435Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock_exception_blocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:50,037 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:50,054 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,085 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:51.066392Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getNode
time: 2017-06-21 04:38:51.146640Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNode [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,067 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,095 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,119 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:51.125934Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock_exception_nonblocking
time: 2017-06-21 04:38:51.228044Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageBuildLock_exception_nonblocking [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,126 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,151 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,189 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:51.148392Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequest
time: 2017-06-21 04:38:51.230469Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequest [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,149 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,165 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,193 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:51.230896Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequestLocks
time: 2017-06-21 04:38:51.319589Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNodeRequestLocks [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,231 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,248 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,285 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:51.228524Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_nodeRequestIterator
time: 2017-06-21 04:38:51.325626Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_nodeRequestIterator [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,229 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,246 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,288 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:51.320022Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_getNode_not_found
time: 2017-06-21 04:38:51.364053Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_getNode_not_found [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,320 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,341 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,347 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:51.326076Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_storeNode_update
time: 2017-06-21 04:38:51.390274Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeNode_update [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,327 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,344 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,368 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:51.364496Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock
time: 2017-06-21 04:38:51.488432Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_imageUploadLock [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,365 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,395 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,437 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:51.390715Z
tags: worker-3
test: nodepool.tests.test_zk.TestZooKeeper.test_store_and_get_build
time: 2017-06-21 04:38:51.499083Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_store_and_get_build [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,391 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,414 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,452 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-3
time: 2017-06-21 04:38:51.488950Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_storeBuild
time: 2017-06-21 04:38:51.553467Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeBuild [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,489 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,506 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,527 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:51.553919Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_storeImageUpload
time: 2017-06-21 04:38:51.643187Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeImageUpload [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,555 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,569 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,607 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
time: 2017-06-21 04:38:51.643630Z
tags: worker-1
test: nodepool.tests.test_zk.TestZooKeeper.test_storeNodeRequest_update
time: 2017-06-21 04:38:51.697236Z
successful: nodepool.tests.test_zk.TestZooKeeper.test_storeNodeRequest_update [ multipart
Content-Type: text/plain;charset=utf8
pythonlogging:''
E2
2017-06-21 04:38:51,644 DEBUG [nodepool.test] set up fakes
2017-06-21 04:38:51,660 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: CONNECTED
2017-06-21 04:38:51,676 DEBUG [nodepool.zk.ZooKeeper] ZooKeeper connection: LOST
0
]
tags: -worker-1
